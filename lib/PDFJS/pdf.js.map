{"version":3,"sources":["../../src/PDFJS/pdf.js"],"names":["root","factory","define","amd","exports","pdfjsDistBuildPdf","pdfjsVersion","pdfjsBuild","pdfjsFilePath","document","currentScript","src","pdfjsLibs","pdfjsWrapper","pdfjsSharedUtil","globalScope","window","global","self","FONT_IDENTITY_MATRIX","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationFlag","HIDDEN","PRINT","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RL","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VERBOSITY_LEVELS","errors","warnings","infos","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","verbosity","setVerbosityLevel","level","getVerbosityLevel","info","msg","console","log","warn","deprecated","details","error","backtrace","Error","e","stack","split","slice","join","assert","cond","UNSUPPORTED_FEATURES","unknown","forms","javaScript","smask","shadingPattern","font","isSameOrigin","baseUrl","otherUrl","base","URL","origin","other","isValidUrl","url","allowRelative","protocol","exec","toLowerCase","shadow","obj","prop","value","Object","defineProperty","enumerable","configurable","writable","getLookupTableFactory","initializer","lookup","create","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","PasswordException","PasswordExceptionClosure","code","name","message","prototype","constructor","UnknownErrorException","UnknownErrorExceptionClosure","InvalidPDFException","InvalidPDFExceptionClosure","MissingPDFException","MissingPDFExceptionClosure","UnexpectedResponseException","UnexpectedResponseExceptionClosure","status","NotImplementedException","NotImplementedExceptionClosure","MissingDataException","MissingDataExceptionClosure","begin","end","XRefParseException","XRefParseExceptionClosure","NullCharactersRegExp","removeNullCharacters","str","replace","bytesToString","bytes","length","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","stringToBytes","Uint8Array","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","ii","item","itemLength","pos","data","set","string32","log2","x","n","readInt8","start","readUint16","offset","readUint32","isLittleEndian","buffer8","buffer16","Uint16Array","buffer","isEvalSupported","Function","Uint32ArrayView","Uint32ArrayViewClosure","ensureUint32ArrayViewProps","uint32ArrayViewSetters","createUint32ArrayProp","index","get","IDENTITY_MATRIX","Util","UtilClosure","rgbBuf","makeCssRgb","Util_makeCssRgb","r","g","b","Util_transform","m1","m2","applyTransform","Util_applyTransform","p","m","xt","yt","applyInverseTransform","Util_applyInverseTransform","d","getAxialAlignedBoundingBox","Util_getAxialAlignedBoundingBox","p1","p2","p3","p4","max","inverseTransform","Util_inverseTransform","apply3dTransform","Util_apply3dTransform","v","singularValueDecompose2dScale","Util_singularValueDecompose2dScale","transpose","a","c","first","second","sqrt","sx","sy","normalizeRect","Util_normalizeRect","rect","intersect","Util_intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","sign","Util_sign","num","ROMAN_NUMBER_MAP","toRoman","Util_toRoman","number","lowerCase","isInt","romanBuf","romanStr","appendToArray","Util_appendToArray","arr1","arr2","Array","prependToArray","Util_prependToArray","unshift","extendObj","obj1","obj2","key","getInheritableProperty","Util_getInheritableProperty","dict","has","inherit","Util_inherit","sub","loadScript","Util_loadScript","callback","script","createElement","loaded","setAttribute","onload","getElementsByTagName","appendChild","PageViewport","PageViewportClosure","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","abs","fontScale","clone","PageViewPort_clone","args","convertToViewportPoint","PageViewport_convertToViewportPoint","y","convertToViewportRectangle","PageViewport_convertToViewportRectangle","tl","br","convertToPdfPoint","PageViewport_convertToPdfPoint","PDFStringTranslateTable","stringToPDFString","charAt","stringToUTF8String","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isEmptyObj","isBool","isNum","isString","isArray","isArrayBuffer","isSpace","ch","createPromiseCapability","capability","promise","Promise","resolve","reject","PromiseClosure","all","iterable","count","results","resolve_","reject_","forEach","then","reason","catch","onReject","STATUS_PENDING","STATUS_RESOLVED","STATUS_REJECTED","REJECTION_TIMEOUT","HandlerManager","handlers","running","unhandledRejections","pendingRejectionCheck","scheduleHandlers","_status","concat","_handlers","setTimeout","runHandlers","bind","RUN_TIMEOUT","timeoutAt","Date","now","handler","shift","nextStatus","thisPromise","nextValue","_value","onResolve","_unhandledRejection","removeUnhandeledRejection","ex","nextPromise","_updateStatus","addUnhandledRejection","time","scheduleRejectionCheck","splice","rejectionCheck","unhandled","resolver","call","_resolve","_reject","Promise_all","promises","resolveAll","rejectAll","deferred","unresolved","isPromise","Promise_isPromise","Promise_resolve","Promise_reject","Promise__updateStatus","Promise_then","Promise_catch","WeakMapClosure","WeakMap","id","getOwnPropertyDescriptor","defaultValue","delete","StatTimer","StatTimerClosure","rpad","pad","started","times","enabled","StatTimer_time","timeEnd","StatTimer_timeEnd","toString","StatTimer_toString","out","longest","span","duration","createBlob","contentType","Blob","type","createObjectURL","createObjectURLClosure","digits","forceDataSchema","blob","b1","b2","b3","d1","d2","d3","d4","MessageHandler","sourceName","targetName","comObj","callbackIndex","postMessageTransfers","callbacksCapabilities","ah","actionHandler","_onComObjOnMessage","messageHandlerComObjOnMessage","event","isReply","callbackId","action","postMessage","addEventListener","on","messageHandlerOn","actionName","scope","send","messageHandlerSend","transfers","sendWithPromise","messageHandlerSendWithPromise","destroy","removeEventListener","loadJpegStream","imageUrl","objs","img","Image","loadJpegStream_onloadClosure","onerror","loadJpegStream_onerrorClosure","checkURLConstructor","hasWorkingUrl","u","pathname","href","relative","relativePathDotMapping","isRelativeScheme","scheme","invalid","clear","_isInvalid","IDNAToASCII","h","percentEscape","unicode","indexOf","percentEscapeQuery","EOF","ALPHA","ALPHANUMERIC","parse","input","stateOverride","err","state","cursor","seenAt","seenBracket","loop","test","_scheme","_isRelative","_query","_fragment","_schemeData","_host","_port","_path","_username","_password","nextC","nextNextC","pop","cp","tempC","temp","parseInt","tmp","JURL","_url","authority","host","hostname","port","search","hash","OriginalURL","arguments","revokeObjectURL","pdfjsDisplayDOMUtils","sharedUtil","CustomStyle","CustomStyleClosure","prefixes","_cache","getProp","propName","element","documentElement","style","prefixed","uPropName","toUpperCase","l","setProp","hasCanvasTypedArrays","canvas","ctx","getContext","imageData","createImageData","LinkTarget","NONE","SELF","BLANK","PARENT","TOP","LinkTargetStringMap","addLinkAttributes","link","params","title","target","getDefaultSetting","rel","getFilenameFromUrl","anchor","query","substring","lastIndexOf","globalSettings","PDFJS","pdfBug","disableAutoFetch","disableStream","disableRange","disableFontFace","disableCreateObjectURL","disableWebGL","cMapUrl","cMapPacked","workerSrc","disableWorker","maxImageSize","imageResourcesPath","externalLinkTarget","externalLinkRel","enableStats","isExternalLinkTargetSet","pdfjsDisplayFontLoader","FontLoader","docId","styleElement","nativeFontFaces","loadTestFontId","loadingContext","requests","nextRequestId","insertRule","fontLoaderInsertRule","rule","styleSheet","sheet","cssRules","fontLoaderClear","parentNode","removeChild","nativeFontFace","fonts","loadTestFont","atob","addNativeFontFace","fontLoader_addNativeFontFace","add","fontLoaderBind","rules","fontsToLoad","fontLoadPromises","getNativeFontPromise","family","attached","loading","isFontLoadingAPISupported","createNativeFontFace","createFontFaceRule","request","queueLoadingCallback","complete","isSyncFontLoadingSupported","prepareFontLoadEvent","FontLoader_queueLoadingCallback","LoadLoader_completeRequest","context","otherRequest","requestId","fontLoaderPrepareFontLoadEvent","int32","spliceString","s","remove","insert","chunk1","substr","chunk2","called","isFontReady","fillText","getImageData","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","names","loadedName","div","textContent","fontFamily","body","navigator","supported","userAgent","IsEvalSupportedCached","FontFaceObject","FontFaceObjectClosure","translatedData","options","compiledGlyphs","FontFaceObject_createNativeFontFace","FontFace","fontRegistry","registerFont","FontFaceObject_createFontFaceRule","fontName","mimetype","getPathGenerator","FontFaceObject_getPathGenerator","character","cmds","current","len","js","cmd","size","pdfjsDisplayMetadata","fixMetadata","meta","codes","chars","Metadata","parser","DOMParser","parseFromString","Document","metaDocument","metadata","Metadata_parse","doc","rdf","nodeName","firstChild","nextSibling","hasChildNodes","children","childNodes","desc","entry","iLength","trim","Metadata_get","Metadata_has","pdfjsDisplaySVG","SVG_DEFAULTS","fontStyle","fontWeight","fillColor","convertImgDataToPng","convertImgDataToPngClosure","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","Int32Array","crc32","crc","writePngChunk","adler32","encode","imgData","kind","bitDepth","colorType","lineSize","literals","offsetLiterals","offsetBytes","ihdr","maxBlockLength","deflateBlocks","ceil","idat","pi","adler","pngLength","SVGExtraState","SVGExtraStateClosure","fontSizeScale","fontSize","textMatrix","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRise","strokeColor","fillAlpha","strokeAlpha","lineWidth","lineJoin","lineCap","miterLimit","dashArray","dashPhase","dependencies","clipId","pendingClip","maskId","SVGExtraState_clone","setCurrentPoint","SVGExtraState_setCurrentPoint","SVGGraphics","SVGGraphicsClosure","createScratchSVG","NS","svg","createElementNS","setAttributeNS","opListToTree","opList","opTree","opListLen","fn","items","pf","toFixed","pm","acos","PI","commonObjs","transformMatrix","transformStack","extraStack","pendingEOFill","embedFonts","embeddedFonts","cssStyle","XML_NS","XLINK_NS","LINE_CAP_STYLES","LINE_JOIN_STYLES","clipCount","maskCount","SVGGraphics_save","old","SVGGraphics_restore","tgrp","pgrp","group","SVGGraphics_group","executeOpTree","loadDependencies","SVGGraphics_loadDependencies","operatorList","fnArray","fnArrayLen","argsArray","deps","nn","common","SVGGraphics_transform","f","getSVG","SVGGraphics_getSVG","viewport","defs","convertOpList","SVGGraphics_convertOpList","REVOPS","op","fnId","SVGGraphics_executeOpTree","opTreeLen","SVGGraphics_setWordSpacing","SVGGraphics_setCharSpacing","SVGGraphics_nextLine","SVGGraphics_setTextMatrix","lineMatrix","xcoords","tspan","txtElement","SVGGraphics_beginText","txtgrp","SVGGraphics_moveText","SVGGraphics_showText","glyphs","fontDirection","glyphsLength","vertical","widthAdvanceScale","glyph","fontChar","charWidth","map","SVGGraphics_setLeadingMoveText","addFontStyle","SVGGraphics_addFontStyle","fontObj","SVGGraphics_setFont","bold","black","italic","SVGGraphics_endText","cgrp","SVGGraphics_setLineWidth","SVGGraphics_setLineCap","SVGGraphics_setLineJoin","SVGGraphics_setMiterLimit","limit","SVGGraphics_setStrokeRGBColor","color","SVGGraphics_setFillRGBColor","SVGGraphics_setDash","SVGGraphics_constructPath","ops","path","opLength","j","xw","yh","SVGGraphics_endPath","SVGGraphics_clip","clippath","clipElement","cloneNode","SVGGraphics_closePath","getAttributeNS","SVGGraphics_setLeading","SVGGraphics_setTextRise","SVGGraphics_setHScale","SVGGraphics_setGState","states","SVGGraphics_fill","SVGGraphics_stroke","SVGGraphics_eoFill","SVGGraphics_fillStroke","SVGGraphics_eoFillStroke","SVGGraphics_closeStroke","SVGGraphics_closeFillStroke","SVGGraphics_paintSolidColorImageMask","SVGGraphics_paintJpegXObject","objId","w","imgObj","imgEl","SVGGraphics_paintImageXObject","SVGGraphics_paintInlineImageXObject","mask","imgSrc","cliprect","SVGGraphics_paintImageMaskXObject","SVGGraphics_paintFormXObjectBegin","matrix","bbox","SVGGraphics_paintFormXObjectEnd","pdfjsDisplayAnnotationLayer","displayDOMUtils","AnnotationElementFactory","AnnotationElementFactory_create","parameters","subtype","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","AnnotationElementClosure","isRenderable","layer","page","linkService","downloadManager","renderInteractiveForms","container","_createContainer","AnnotationElement_createContainer","view","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderBottomStyle","borderColor","left","top","_createPopup","AnnotationElement_createPopup","trigger","popupElement","PopupElement","contents","hideWrapper","popup","render","AnnotationElement_render","LinkAnnotationElementClosure","LinkAnnotationElement_render","className","newWindow","_bindNamedAction","_bindLink","dest","LinkAnnotationElement_bindLink","destination","getDestinationHash","onclick","navigateTo","LinkAnnotationElement_bindNamedAction","getAnchorUrl","executeNamedAction","TextAnnotationElementClosure","hasPopup","TextAnnotationElement_render","image","alt","dataset","l10nId","l10nArgs","JSON","stringify","WidgetAnnotationElementClosure","hasAppearance","fieldValue","WidgetAnnotationElement_render","TextWidgetAnnotationElementClosure","TEXT_ALIGNMENT","TextWidgetAnnotationElement_render","multiLine","disabled","readOnly","maxLen","maxLength","verticalAlign","display","fontRefName","getData","_setTextStyle","textAlignment","textAlign","TextWidgetAnnotationElement_setTextStyle","direction","fallbackName","PopupAnnotationElementClosure","PopupAnnotationElement_render","selector","parentId","parentElement","querySelector","parentLeft","parseFloat","parentWidth","PopupElementClosure","BACKGROUND_ENLIGHT","pinned","PopupElement_render","wrapper","hideElement","backgroundColor","_formatContents","_toggle","_show","_hide","PopupElement_formatContents","lines","line","createTextNode","PopupElement_toggle","PopupElement_show","pin","hasAttribute","removeAttribute","zIndex","PopupElement_hide","unpin","HighlightAnnotationElementClosure","HighlightAnnotationElement_render","UnderlineAnnotationElementClosure","UnderlineAnnotationElement_render","SquigglyAnnotationElementClosure","SquigglyAnnotationElement_render","StrikeOutAnnotationElementClosure","StrikeOutAnnotationElement_render","FileAttachmentAnnotationElementClosure","filename","file","content","FileAttachmentAnnotationElement_render","_download","FileAttachmentAnnotationElement_download","downloadData","AnnotationLayer","AnnotationLayerClosure","AnnotationLayer_render","annotationElementFactory","annotations","properties","update","AnnotationLayer_update","pdfjsDisplayTextLayer","hexcase","b64pad","chrsz","md5","binl2hex","core_md5","str2binl","olda","oldb","oldc","oldd","md5_ff","md5_gg","md5_hh","md5_ii","safe_add","md5_cmn","q","t","bit_rol","core_hmac_md5","bkey","ipad","opad","lsw","msw","cnt","bin","binl2str","binarray","hex_tab","binl2b64","tab","triplet","renderTextLayer","renderTextLayerClosure","MAX_TEXT_DIVS_TO_RENDER","NonWhitespaceRegexp","isAllWhitespace","styleBuf","appendText","task","geom","styles","textDiv","textDivProperties","angle","canvasWidth","isWhitespace","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","_textDivs","_textDivProperties","tx","_viewport","atan2","fontHeight","fontAscent","ascent","descent","sin","cos","_enhanceTextSelection","angleCos","angleSin","divWidth","divHeight","_bounds","right","bottom","_canceled","textLayerFrag","_container","textDivs","_capability","textDivsLength","_renderingDone","mozOpaque","alpha","lastFontSize","lastFontFamily","measureText","expand","bounds","expanded","expandBounds","divProperties","points","ts","Float64Array","findPositiveMin","boxScale","boxes","box","x1","y1","x2","y2","x1New","x2New","expandBoundsLTR","fakeBoundary","Infinity","horizon","boundary","horizonPart","affectedBoundary","k","maxXNew","xNew","changedHorizon","lastBoundary","useBoundary","used","TextLayerRenderTask","enhanceTextSelection","_textContent","_renderTimer","cancel","TextLayer_cancel","clearTimeout","_render","TextLayer_render","timeout","textItems","textStyles","expandTextDivs","TextLayer_expandTextDivs","expandDivs","padding","renderParameters","pdfjsDisplayWebGL","WebGLUtils","WebGLUtilsClosure","loadShader","gl","shaderType","shader","createShader","shaderSource","compileShader","compiled","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","createVertexShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","createProgram","shaders","program","attachShader","linkProgram","linked","getProgramParameter","LINK_STATUS","getProgramInfoLog","createTexture","textureId","activeTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","currentGL","currentCanvas","generateGL","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","initSmaskGL","vertexShader","fragmentShader","useProgram","cache","resolutionLocation","getUniformLocation","positionLocation","getAttribLocation","backdropLocation","subtypeLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","composeSMask","drawingBufferWidth","drawingBufferHeight","uniform2f","backdrop","uniform4f","TEXTURE0","maskTexture","TEXTURE1","clearColor","enable","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","flush","deleteTexture","deleteBuffer","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","initFiguresGL","scaleLocation","offsetLocation","colorLocation","drawFigures","figures","rows","coords","verticesPerRow","colors","coordsMap","colorsMap","pIndex","cIndex","figure","ps","cs","cols","row","col","jj","coordsBuffer","colorsBuffer","scaleX","scaleY","cleanup","isEnabled","pdfjsDisplayPatternHelper","displayWebGL","ShadingIRs","RadialAxial","fromIR","RadialAxial_fromIR","raw","colorStops","p0","r0","r1","getPattern","RadialAxial_getPattern","grad","createLinearGradient","createRadialGradient","addColorStop","createMeshCanvas","createMeshCanvasClosure","drawTriangle","c1","c2","c3","rowSize","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","round","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","floor","combinesScale","cachedCanvases","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","tmpCanvas","getCanvas","drawImage","tmpCtx","putImageData","Mesh","Mesh_fromIR","background","Mesh_getPattern","owner","mozCurrentTransform","baseTransform","matrixScale","temporaryPatternCanvas","setTransform","translate","createPattern","Dummy","Dummy_fromIR","Dummy_fromIR_getPattern","getShadingPatternFromIR","shadingIR","TilingPattern","TilingPatternClosure","PaintType","COLORED","UNCOLORED","IR","canvasGraphicsFactory","xstep","ystep","paintType","tilingType","createPatternCanvas","TilinPattern_createPatternCanvas","x0","y0","topLeft","botRight","curMatrixScale","combinedScale","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","setScale","transformToScale","tmpTranslate","clipBbox","executeOperatorList","TilingPattern_setScale","TilingPattern_transformToScale","tmpScale","scaleToContext","TilingPattern_scaleToContext","bboxWidth","bboxHeight","fillStyle","strokeStyle","cssColor","TilingPattern_getPattern","pdfjsDisplayCanvas","displayPatternHelper","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","HasCanvasTypedArraysCached","IsLittleEndianCached","createScratchCanvas","addContextCurrentTransform","_originalSave","_originalRestore","_originalRotate","rotate","_originalScale","_originalTranslate","_originalTransform","_originalSetTransform","_transformMatrix","_transformStack","getCurrentTransform","getCurrentTransformInverse","ad_bc","bc_ad","ctxSave","ctxRestore","prev","ctxTranslate","ctxScale","ctxTransform","ctxSetTransform","ctxRotate","cosValue","sinValue","CachedCanvases","CachedCanvasesClosure","CachedCanvases_getCanvas","trackTransform","canvasEntry","compileType3Glyph","POINT_TO_PROCESS_LIMIT","j0","width1","POINT_TYPES","data0","elem","sum","steps","outlines","pp","step","drawOutline","beginPath","o","CanvasExtraState","CanvasExtraStateClosure","alphaIsShape","textMatrixScale","textRenderingMode","patternFill","activeSMask","resumeSMaskCtx","CanvasExtraState_clone","CanvasExtraState_setCurrentPoint","CanvasGraphics","CanvasGraphicsClosure","EXECUTION_TIME","EXECUTION_STEPS","canvasCtx","imageLayer","stateStack","res","xobjs","groupStack","processingType3","baseTransformStack","smaskStack","smaskCounter","tempSMask","cachedGetSinglePixelWidth","putBinaryImageData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","srcPos","destPos","thisChunkHeight","elemsInThisChunk","srcLength","dest32","Uint32Array","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","property","setLineDash","getLineDash","lineDashOffset","composeSMaskBackdrop","g0","b0","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","hasBackdrop","composeFn","PIXELS_TO_PROCESS","chunkSize","chunkHeight","composed","NORMAL_CLIP","EO_CLIP","beginDrawing","CanvasGraphics_beginDrawing","transparency","fillRect","transparentCanvas","compositeCtx","beginLayout","CanvasGraphics_executeOperatorList","executionStartIdx","continueCallback","stepper","argsArrayLen","chunkOperations","endTime","nextBreakPoint","breakIt","depObjId","objsPool","isResolved","endDrawing","CanvasGraphics_endDrawing","endSMaskGroup","endLayout","CanvasGraphics_setLineWidth","CanvasGraphics_setLineCap","CanvasGraphics_setLineJoin","CanvasGraphics_setMiterLimit","CanvasGraphics_setDash","CanvasGraphics_setRenderingIntent","intent","CanvasGraphics_setFlatness","flatness","CanvasGraphics_setGState","globalAlpha","mode","globalCompositeOperation","suspendSMaskGroup","beginSMaskGroup","CanvasGraphics_beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","startTransformInverse","mozCurrentTransformInverse","CanvasGraphics_endSMaskGroup","deltaTransform","clearRect","resumeSMaskGroup","CanvasGraphics_save","CanvasGraphics_restore","CanvasGraphics_transform","CanvasGraphics_constructPath","getSinglePixelWidth","bezierCurveTo","CanvasGraphics_closePath","CanvasGraphics_stroke","consumePath","hasOwnProperty","CanvasGraphics_closeStroke","CanvasGraphics_fill","isPatternFill","needRestore","mozFillRule","CanvasGraphics_eoFill","CanvasGraphics_fillStroke","CanvasGraphics_eoFillStroke","CanvasGraphics_closeFillStroke","CanvasGraphics_closeEOFillStroke","CanvasGraphics_endPath","CanvasGraphics_clip","CanvasGraphics_eoClip","CanvasGraphics_beginText","CanvasGraphics_endText","paths","pendingTextPaths","addToPath","CanvasGraphics_setCharSpacing","spacing","CanvasGraphics_setWordSpacing","CanvasGraphics_setHScale","CanvasGraphics_setLeading","CanvasGraphics_setFont","isType3Font","typeface","browserFontSize","CanvasGraphics_setTextRenderingMode","CanvasGraphics_setTextRise","rise","CanvasGraphics_moveText","CanvasGraphics_setLeadingMoveText","CanvasGraphics_setTextMatrix","CanvasGraphics_nextLine","paintChar","CanvasGraphics_paintChar","fillStrokeMode","isAddToPathSet","strokeText","isFontSubpixelAAEnabled","CanvasGraphics_showText","showType3Text","spacingDir","defaultVMetrics","simpleFillText","restoreNeeded","accent","scaledX","scaledY","scaledAccentX","scaledAccentY","vmetric","vx","vy","remeasure","measuredWidth","characterScaleX","isInFont","missingFile","CanvasGraphics_showType3Text","isTextInvisible","spacingLength","charProcOperatorList","operatorListId","transformed","CanvasGraphics_setCharWidth","xWidth","yWidth","CanvasGraphics_setCharWidthAndBounds","llx","lly","urx","ury","getColorN_Pattern","CanvasGraphics_getColorN_Pattern","pattern","CanvasGraphics_setStrokeColorN","CanvasGraphics_setFillColorN","CanvasGraphics_setStrokeRGBColor","CanvasGraphics_setFillRGBColor","CanvasGraphics_shadingFill","patternIR","inv","bl","ul","ur","CanvasGraphics_beginInlineImage","CanvasGraphics_beginImageData","CanvasGraphics_paintFormXObjectBegin","CanvasGraphics_paintFormXObjectEnd","CanvasGraphics_beginGroup","isolated","knockout","canvasBounds","CanvasGraphics_endGroup","imageSmoothingEnabled","mozImageSmoothingEnabled","CanvasGraphics_beginAnnotations","CanvasGraphics_endAnnotations","CanvasGraphics_beginAnnotation","CanvasGraphics_endAnnotation","CanvasGraphics_paintJpegXObject","domImage","position","getCanvasPosition","appendImage","CanvasGraphics_paintImageMaskXObject","maskCanvas","CanvasGraphics_paintImageMaskXObjectRepeat","positions","CanvasGraphics_paintImageMaskXObjectGroup","images","CanvasGraphics_paintImageXObject","CanvasGraphics_paintImageXObjectRepeat","CanvasGraphics_paintInlineImageXObject","widthScale","heightScale","imgToPaint","HTMLElement","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","CanvasGraphics_paintInlineImageXObjectGroup","CanvasGraphics_paintSolidColorImageMask","CanvasGraphics_paintXObject","CanvasGraphics_markPoint","tag","CanvasGraphics_markPointProps","CanvasGraphics_beginMarkedContent","CanvasGraphics_beginMarkedContentProps","CanvasGraphics_endMarkedContent","CanvasGraphics_beginCompat","CanvasGraphics_endCompat","CanvasGraphics_consumePath","CanvasGraphics_getSinglePixelWidth","inverse","CanvasGraphics_getCanvasPosition","pdfjsDisplayAPI","displayFontLoader","displayCanvas","displayMetadata","amdRequire","DEFAULT_RANGE_CHUNK_SIZE","isWorkerDisabled","isPostMessageTransfersDisabled","useRequireEnsure","require","ensure","__webpack_require__","requirejs","toUrl","dynamicLoaderSupported","load","fakeWorkerFilesLoader","worker","WorkerMessageHandler","getDocument","pdfDataRangeTransport","passwordCallback","progressCallback","PDFDocumentLoadingTask","PDFDataRangeTransport","initialData","abort","range","onPassword","onProgress","source","rangeTransport","location","pdfBytes","isNaN","rangeChunkSize","PDFWorker","_worker","destroyed","_fetchDocument","workerId","messageHandler","transport","WorkerTransport","_transport","chunkedViewerLoading","PDFDocumentLoadingTaskClosure","nextDocumentId","onUnsupportedFeature","transportDestroyed","PDFDocumentLoadingTask_then","onFulfilled","onRejected","pdfDataRangeTransportClosure","_rangeListeners","_progressListeners","_progressiveReadListeners","_readyCapability","addRangeListener","PDFDataRangeTransport_addRangeListener","listener","addProgressListener","PDFDataRangeTransport_addProgressListener","addProgressiveReadListener","PDFDataRangeTransport_addProgressiveReadListener","onDataRange","PDFDataRangeTransport_onDataRange","listeners","onDataProgress","PDFDataRangeTransport_onDataProgress","onDataProgressiveRead","transportReady","PDFDataRangeTransport_transportReady","requestDataRange","PDFDataRangeTransport_requestDataRange","PDFDataRangeTransport_abort","PDFDocumentProxy","PDFDocumentProxyClosure","pdfInfo","loadingTask","numPages","fingerprint","getPage","PDFDocumentProxy_getPage","pageNumber","getPageIndex","PDFDocumentProxy_getPageIndex","ref","getDestinations","PDFDocumentProxy_getDestinations","getDestination","PDFDocumentProxy_getDestination","getPageLabels","PDFDocumentProxy_getPageLabels","getAttachments","PDFDocumentProxy_getAttachments","getJavaScript","PDFDocumentProxy_getJavaScript","getOutline","PDFDocumentProxy_getOutline","getMetadata","PDFDocumentProxy_getMetadata","PDFDocumentProxy_getData","getDownloadInfo","PDFDocumentProxy_getDownloadInfo","downloadInfoCapability","getStats","PDFDocumentProxy_getStats","PDFDocumentProxy_cleanup","startCleanup","PDFDocumentProxy_destroy","PDFPageProxy","PDFPageProxyClosure","pageIndex","pageInfo","stats","PDFObjects","cleanupAfterRender","pendingCleanup","intentStates","getViewport","PDFPageProxy_getViewport","getAnnotations","PDFPageProxy_getAnnotations","annotationsPromise","annotationsIntent","PDFPageProxy_render","renderingIntent","intentState","displayReadyCapability","receivingOperatorList","lastChunk","internalRenderTask","InternalRenderTask","useRequestAnimationFrame","renderTasks","renderTask","onContinue","pageDisplayReadyPromise","initializeGraphics","operatorListChanged","pageDisplayReadPromiseError","_tryCleanup","getOperatorList","PDFPageProxy_getOperatorList","opListReadCapability","opListTask","getTextContent","PDFPageProxy_getTextContent","normalizeWhitespace","combineTextItems","disableCombineTextItems","_destroy","PDFPageProxy_destroy","pageCache","waitOn","keys","renderCompleted","PDFPageProxy_cleanup","PDFPageProxy_tryCleanup","some","_startRenderPage","PDFPageProxy_startRenderPage","_renderPageChunk","PDFPageProxy_renderPageChunk","operatorListChunk","PDFWorkerClosure","nextFakeWorkerId","getWorkerSrc","fakeWorkerFilesLoadedCapability","setupFakeWorkerGlobal","loader","pdfjsDistBuildPdfWorker","FakeWorkerPort","defer","_listeners","_defer","_deferred","cloneValue","cloned","transferable","byteOffset","getPrototypeOf","terminate","createCDNWrapper","_webWorker","_messageHandler","_initialize","PDFWorker_initialize","Worker","terminateEarly","onWorkerError","_setupFakeWorker","PDFWorker_test","supportTypedArray","supportTransfers","sendTest","testObj","PDFWorker_setupFakeWorker","isTypedArraysPresent","workerHandler","setup","PDFWorker_destroy","WorkerTransportClosure","fontLoader","destroyCapability","pagePromises","setupMessageHandler","WorkerTransport_destroy","terminated","WorkerTransport_setupMessageHandler","updatePassword","password","transportDataRange","transportDoc","pdfDocument","transportNeedPassword","exception","transportIncorrectPassword","transportInvalidPDF","transportMissingPDF","transportUnexpectedResponse","transportUnknownError","transportPage","transportRender","transportObj","hasData","exportedData","exportedError","FontInspector","fontAdded","isEvalSuported","fontReady","fontObjs","pageProxy","MAX_IMAGE_SIZE_TO_STORE","transportDocProgress","total","transportError","pageNum","transportUnsupportedFeature","featureId","_UnsupportedManager","notify","components","rgbaLength","buf","WorkerTransport_getData","WorkerTransport_getPage","WorkerTransport_getPageIndexByRef","WorkerTransport_getAnnotations","WorkerTransport_getDestinations","WorkerTransport_getDestination","WorkerTransport_getPageLabels","WorkerTransport_getAttachments","WorkerTransport_getJavaScript","WorkerTransport_getOutline","WorkerTransport_getMetadata","transportMetadata","WorkerTransport_getStats","WorkerTransport_startCleanup","endCleanup","PDFObjectsClosure","ensureObj","PDFObjects_ensureObj","resolved","PDFObjects_get","PDFObjects_resolve","PDFObjects_isResolved","PDFObjects_hasData","PDFObjects_getData","PDFObjects_clear","RenderTask","RenderTaskClosure","_internalRenderTask","RenderTask_cancel","RenderTask_then","InternalRenderTaskClosure","operatorListIdx","graphicsReadyCallback","graphicsReady","cancelled","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","InternalRenderTask_initializeGraphics","StepperManager","init","getNextBreakPoint","gfx","canvasContext","InternalRenderTask_cancel","InternalRenderTask_operatorListChanged","updateOperatorList","InternalRenderTask__continue","InternalRenderTask__scheduleNext","requestAnimationFrame","InternalRenderTask__next","UnsupportedManagerClosure","listen","cb","version","build","pdfjsDisplayGlobal","displayAPI","displayAnnotationLayer","displayTextLayer","displaySVG","isWorker","PDFJS_createObjectURL","PDFJS_isLittleEndian","savedOpenExternalLinksInNewWindow","openExternalLinksInNewWindow","PDFJS_hasCanvasTypedArrays","UnsupportedManager"],"mappings":"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","file":"pdf.js","sourcesContent":["/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* jshint globalstrict: false */\n/* umdutils ignore */\n\n(function(root, factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    define('pdfjs-dist/build/pdf', ['exports'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports);\n  } else {\n    factory((root.pdfjsDistBuildPdf = {}));\n  }\n}(this, function(exports) {\n  // Use strict in our context only - users might not want it\n  'use strict';\n\n  var pdfjsVersion = '1.5.476';\n  var pdfjsBuild = 'c0e82db';\n\n  var pdfjsFilePath =\n    typeof document !== 'undefined' && document.currentScript ?\n    document.currentScript.src : null;\n\n  var pdfjsLibs = {};\n\n  (function pdfjsWrapper() {\n\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsSharedUtil = {}));\n      }\n    }(this, function(exports) {\n\n      var globalScope = (typeof window !== 'undefined') ? window :\n        (typeof global !== 'undefined') ? global :\n        (typeof self !== 'undefined') ? self : this;\n\n      var FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n      var TextRenderingMode = {\n        FILL: 0,\n        STROKE: 1,\n        FILL_STROKE: 2,\n        INVISIBLE: 3,\n        FILL_ADD_TO_PATH: 4,\n        STROKE_ADD_TO_PATH: 5,\n        FILL_STROKE_ADD_TO_PATH: 6,\n        ADD_TO_PATH: 7,\n        FILL_STROKE_MASK: 3,\n        ADD_TO_PATH_FLAG: 4\n      };\n\n      var ImageKind = {\n        GRAYSCALE_1BPP: 1,\n        RGB_24BPP: 2,\n        RGBA_32BPP: 3\n      };\n\n      var AnnotationType = {\n        TEXT: 1,\n        LINK: 2,\n        FREETEXT: 3,\n        LINE: 4,\n        SQUARE: 5,\n        CIRCLE: 6,\n        POLYGON: 7,\n        POLYLINE: 8,\n        HIGHLIGHT: 9,\n        UNDERLINE: 10,\n        SQUIGGLY: 11,\n        STRIKEOUT: 12,\n        STAMP: 13,\n        CARET: 14,\n        INK: 15,\n        POPUP: 16,\n        FILEATTACHMENT: 17,\n        SOUND: 18,\n        MOVIE: 19,\n        WIDGET: 20,\n        SCREEN: 21,\n        PRINTERMARK: 22,\n        TRAPNET: 23,\n        WATERMARK: 24,\n        THREED: 25,\n        REDACT: 26\n      };\n\n      var AnnotationFlag = {\n        INVISIBLE: 0x01,\n        HIDDEN: 0x02,\n        PRINT: 0x04,\n        NOZOOM: 0x08,\n        NOROTATE: 0x10,\n        NOVIEW: 0x20,\n        READONLY: 0x40,\n        LOCKED: 0x80,\n        TOGGLENOVIEW: 0x100,\n        LOCKEDCONTENTS: 0x200\n      };\n\n      var AnnotationFieldFlag = {\n        READONLY: 1,\n        REQUIRED: 2,\n        NOEXPORT: 3,\n        MULTILINE: 13,\n        PASSWORD: 14,\n        NOTOGGLETOOFF: 15,\n        RADIO: 16,\n        PUSHBUTTON: 17,\n        COMBO: 18,\n        EDIT: 19,\n        SORT: 20,\n        FILESELECT: 21,\n        MULTISELECT: 22,\n        DONOTSPELLCHECK: 23,\n        DONOTSCROLL: 24,\n        COMB: 25,\n        RICHTEXT: 26,\n        RADIOSINUNISON: 26,\n        COMMITONSELCHANGE: 27,\n      };\n\n      var AnnotationBorderStyleType = {\n        SOLID: 1,\n        DASHED: 2,\n        BEVELED: 3,\n        INSET: 4,\n        UNDERLINE: 5\n      };\n\n      var StreamType = {\n        UNKNOWN: 0,\n        FLATE: 1,\n        LZW: 2,\n        DCT: 3,\n        JPX: 4,\n        JBIG: 5,\n        A85: 6,\n        AHX: 7,\n        CCF: 8,\n        RL: 9\n      };\n\n      var FontType = {\n        UNKNOWN: 0,\n        TYPE1: 1,\n        TYPE1C: 2,\n        CIDFONTTYPE0: 3,\n        CIDFONTTYPE0C: 4,\n        TRUETYPE: 5,\n        CIDFONTTYPE2: 6,\n        TYPE3: 7,\n        OPENTYPE: 8,\n        TYPE0: 9,\n        MMTYPE1: 10\n      };\n\n      var VERBOSITY_LEVELS = {\n        errors: 0,\n        warnings: 1,\n        infos: 5\n      };\n\n      // All the possible operations for an operator list.\n      var OPS = {\n        // Intentionally start from 1 so it is easy to spot bad operators that will be\n        // 0's.\n        dependency: 1,\n        setLineWidth: 2,\n        setLineCap: 3,\n        setLineJoin: 4,\n        setMiterLimit: 5,\n        setDash: 6,\n        setRenderingIntent: 7,\n        setFlatness: 8,\n        setGState: 9,\n        save: 10,\n        restore: 11,\n        transform: 12,\n        moveTo: 13,\n        lineTo: 14,\n        curveTo: 15,\n        curveTo2: 16,\n        curveTo3: 17,\n        closePath: 18,\n        rectangle: 19,\n        stroke: 20,\n        closeStroke: 21,\n        fill: 22,\n        eoFill: 23,\n        fillStroke: 24,\n        eoFillStroke: 25,\n        closeFillStroke: 26,\n        closeEOFillStroke: 27,\n        endPath: 28,\n        clip: 29,\n        eoClip: 30,\n        beginText: 31,\n        endText: 32,\n        setCharSpacing: 33,\n        setWordSpacing: 34,\n        setHScale: 35,\n        setLeading: 36,\n        setFont: 37,\n        setTextRenderingMode: 38,\n        setTextRise: 39,\n        moveText: 40,\n        setLeadingMoveText: 41,\n        setTextMatrix: 42,\n        nextLine: 43,\n        showText: 44,\n        showSpacedText: 45,\n        nextLineShowText: 46,\n        nextLineSetSpacingShowText: 47,\n        setCharWidth: 48,\n        setCharWidthAndBounds: 49,\n        setStrokeColorSpace: 50,\n        setFillColorSpace: 51,\n        setStrokeColor: 52,\n        setStrokeColorN: 53,\n        setFillColor: 54,\n        setFillColorN: 55,\n        setStrokeGray: 56,\n        setFillGray: 57,\n        setStrokeRGBColor: 58,\n        setFillRGBColor: 59,\n        setStrokeCMYKColor: 60,\n        setFillCMYKColor: 61,\n        shadingFill: 62,\n        beginInlineImage: 63,\n        beginImageData: 64,\n        endInlineImage: 65,\n        paintXObject: 66,\n        markPoint: 67,\n        markPointProps: 68,\n        beginMarkedContent: 69,\n        beginMarkedContentProps: 70,\n        endMarkedContent: 71,\n        beginCompat: 72,\n        endCompat: 73,\n        paintFormXObjectBegin: 74,\n        paintFormXObjectEnd: 75,\n        beginGroup: 76,\n        endGroup: 77,\n        beginAnnotations: 78,\n        endAnnotations: 79,\n        beginAnnotation: 80,\n        endAnnotation: 81,\n        paintJpegXObject: 82,\n        paintImageMaskXObject: 83,\n        paintImageMaskXObjectGroup: 84,\n        paintImageXObject: 85,\n        paintInlineImageXObject: 86,\n        paintInlineImageXObjectGroup: 87,\n        paintImageXObjectRepeat: 88,\n        paintImageMaskXObjectRepeat: 89,\n        paintSolidColorImageMask: 90,\n        constructPath: 91\n      };\n\n      var verbosity = VERBOSITY_LEVELS.warnings;\n\n      function setVerbosityLevel(level) {\n        verbosity = level;\n      }\n\n      function getVerbosityLevel() {\n        return verbosity;\n      }\n\n      // A notice for devs. These are good for things that are helpful to devs, such\n      // as warning that Workers were disabled, which is important to devs but not\n      // end users.\n      function info(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.infos) {\n          console.log('Info: ' + msg);\n        }\n      }\n\n      // Non-fatal warnings.\n      function warn(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.warnings) {\n          console.log('Warning: ' + msg);\n        }\n      }\n\n      // Deprecated API function -- display regardless of the PDFJS.verbosity setting.\n      function deprecated(details) {\n        console.log('Deprecated API usage: ' + details);\n      }\n\n      // Fatal errors that should trigger the fallback UI and halt execution by\n      // throwing an exception.\n      function error(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.errors) {\n          console.log('Error: ' + msg);\n          console.log(backtrace());\n        }\n        throw new Error(msg);\n      }\n\n      function backtrace() {\n        try {\n          throw new Error();\n        } catch (e) {\n          return e.stack ? e.stack.split('\\n').slice(2).join('\\n') : '';\n        }\n      }\n\n      function assert(cond, msg) {\n        if (!cond) {\n          error(msg);\n        }\n      }\n\n      var UNSUPPORTED_FEATURES = {\n        unknown: 'unknown',\n        forms: 'forms',\n        javaScript: 'javaScript',\n        smask: 'smask',\n        shadingPattern: 'shadingPattern',\n        font: 'font'\n      };\n\n      // Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\n      function isSameOrigin(baseUrl, otherUrl) {\n        try {\n          var base = new URL(baseUrl);\n          if (!base.origin || base.origin === 'null') {\n            return false; // non-HTTP url\n          }\n        } catch (e) {\n          return false;\n        }\n\n        var other = new URL(otherUrl, base);\n        return base.origin === other.origin;\n      }\n\n      // Validates if URL is safe and allowed, e.g. to avoid XSS.\n      function isValidUrl(url, allowRelative) {\n        if (!url || typeof url !== 'string') {\n          return false;\n        }\n        // RFC 3986 (http://tools.ietf.org/html/rfc3986#section-3.1)\n        // scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n        var protocol = /^[a-z][a-z0-9+\\-.]*(?=:)/i.exec(url);\n        if (!protocol) {\n          return allowRelative;\n        }\n        protocol = protocol[0].toLowerCase();\n        switch (protocol) {\n          case 'http':\n          case 'https':\n          case 'ftp':\n          case 'mailto':\n          case 'tel':\n            return true;\n          default:\n            return false;\n        }\n      }\n\n      function shadow(obj, prop, value) {\n        Object.defineProperty(obj, prop, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n        return value;\n      }\n\n      function getLookupTableFactory(initializer) {\n        var lookup;\n        return function() {\n          if (initializer) {\n            lookup = Object.create(null);\n            initializer(lookup);\n            initializer = null;\n          }\n          return lookup;\n        };\n      }\n\n      var PasswordResponses = {\n        NEED_PASSWORD: 1,\n        INCORRECT_PASSWORD: 2\n      };\n\n      var PasswordException = (function PasswordExceptionClosure() {\n        function PasswordException(msg, code) {\n          this.name = 'PasswordException';\n          this.message = msg;\n          this.code = code;\n        }\n\n        PasswordException.prototype = new Error();\n        PasswordException.constructor = PasswordException;\n\n        return PasswordException;\n      })();\n\n      var UnknownErrorException = (function UnknownErrorExceptionClosure() {\n        function UnknownErrorException(msg, details) {\n          this.name = 'UnknownErrorException';\n          this.message = msg;\n          this.details = details;\n        }\n\n        UnknownErrorException.prototype = new Error();\n        UnknownErrorException.constructor = UnknownErrorException;\n\n        return UnknownErrorException;\n      })();\n\n      var InvalidPDFException = (function InvalidPDFExceptionClosure() {\n        function InvalidPDFException(msg) {\n          this.name = 'InvalidPDFException';\n          this.message = msg;\n        }\n\n        InvalidPDFException.prototype = new Error();\n        InvalidPDFException.constructor = InvalidPDFException;\n\n        return InvalidPDFException;\n      })();\n\n      var MissingPDFException = (function MissingPDFExceptionClosure() {\n        function MissingPDFException(msg) {\n          this.name = 'MissingPDFException';\n          this.message = msg;\n        }\n\n        MissingPDFException.prototype = new Error();\n        MissingPDFException.constructor = MissingPDFException;\n\n        return MissingPDFException;\n      })();\n\n      var UnexpectedResponseException =\n        (function UnexpectedResponseExceptionClosure() {\n          function UnexpectedResponseException(msg, status) {\n            this.name = 'UnexpectedResponseException';\n            this.message = msg;\n            this.status = status;\n          }\n\n          UnexpectedResponseException.prototype = new Error();\n          UnexpectedResponseException.constructor = UnexpectedResponseException;\n\n          return UnexpectedResponseException;\n        })();\n\n      var NotImplementedException = (function NotImplementedExceptionClosure() {\n        function NotImplementedException(msg) {\n          this.message = msg;\n        }\n\n        NotImplementedException.prototype = new Error();\n        NotImplementedException.prototype.name = 'NotImplementedException';\n        NotImplementedException.constructor = NotImplementedException;\n\n        return NotImplementedException;\n      })();\n\n      var MissingDataException = (function MissingDataExceptionClosure() {\n        function MissingDataException(begin, end) {\n          this.begin = begin;\n          this.end = end;\n          this.message = 'Missing data [' + begin + ', ' + end + ')';\n        }\n\n        MissingDataException.prototype = new Error();\n        MissingDataException.prototype.name = 'MissingDataException';\n        MissingDataException.constructor = MissingDataException;\n\n        return MissingDataException;\n      })();\n\n      var XRefParseException = (function XRefParseExceptionClosure() {\n        function XRefParseException(msg) {\n          this.message = msg;\n        }\n\n        XRefParseException.prototype = new Error();\n        XRefParseException.prototype.name = 'XRefParseException';\n        XRefParseException.constructor = XRefParseException;\n\n        return XRefParseException;\n      })();\n\n      var NullCharactersRegExp = /\\x00/g;\n\n      function removeNullCharacters(str) {\n        if (typeof str !== 'string') {\n          warn('The argument for removeNullCharacters must be a string.');\n          return str;\n        }\n        return str.replace(NullCharactersRegExp, '');\n      }\n\n      function bytesToString(bytes) {\n        assert(bytes !== null && typeof bytes === 'object' &&\n          bytes.length !== undefined, 'Invalid argument for bytesToString');\n        var length = bytes.length;\n        var MAX_ARGUMENT_COUNT = 8192;\n        if (length < MAX_ARGUMENT_COUNT) {\n          return String.fromCharCode.apply(null, bytes);\n        }\n        var strBuf = [];\n        for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n          var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n          var chunk = bytes.subarray(i, chunkEnd);\n          strBuf.push(String.fromCharCode.apply(null, chunk));\n        }\n        return strBuf.join('');\n      }\n\n      function stringToBytes(str) {\n        assert(typeof str === 'string', 'Invalid argument for stringToBytes');\n        var length = str.length;\n        var bytes = new Uint8Array(length);\n        for (var i = 0; i < length; ++i) {\n          bytes[i] = str.charCodeAt(i) & 0xFF;\n        }\n        return bytes;\n      }\n\n      /**\n       * Gets length of the array (Array, Uint8Array, or string) in bytes.\n       * @param {Array|Uint8Array|string} arr\n       * @returns {number}\n       */\n      function arrayByteLength(arr) {\n        if (arr.length !== undefined) {\n          return arr.length;\n        }\n        assert(arr.byteLength !== undefined);\n        return arr.byteLength;\n      }\n\n      /**\n       * Combines array items (arrays) into single Uint8Array object.\n       * @param {Array} arr - the array of the arrays (Array, Uint8Array, or string).\n       * @returns {Uint8Array}\n       */\n      function arraysToBytes(arr) {\n        // Shortcut: if first and only item is Uint8Array, return it.\n        if (arr.length === 1 && (arr[0] instanceof Uint8Array)) {\n          return arr[0];\n        }\n        var resultLength = 0;\n        var i, ii = arr.length;\n        var item, itemLength;\n        for (i = 0; i < ii; i++) {\n          item = arr[i];\n          itemLength = arrayByteLength(item);\n          resultLength += itemLength;\n        }\n        var pos = 0;\n        var data = new Uint8Array(resultLength);\n        for (i = 0; i < ii; i++) {\n          item = arr[i];\n          if (!(item instanceof Uint8Array)) {\n            if (typeof item === 'string') {\n              item = stringToBytes(item);\n            } else {\n              item = new Uint8Array(item);\n            }\n          }\n          itemLength = item.byteLength;\n          data.set(item, pos);\n          pos += itemLength;\n        }\n        return data;\n      }\n\n      function string32(value) {\n        return String.fromCharCode((value >> 24) & 0xff, (value >> 16) & 0xff,\n          (value >> 8) & 0xff, value & 0xff);\n      }\n\n      function log2(x) {\n        var n = 1,\n          i = 0;\n        while (x > n) {\n          n <<= 1;\n          i++;\n        }\n        return i;\n      }\n\n      function readInt8(data, start) {\n        return (data[start] << 24) >> 24;\n      }\n\n      function readUint16(data, offset) {\n        return (data[offset] << 8) | data[offset + 1];\n      }\n\n      function readUint32(data, offset) {\n        return ((data[offset] << 24) | (data[offset + 1] << 16) |\n          (data[offset + 2] << 8) | data[offset + 3]) >>> 0;\n      }\n\n      // Lazy test the endianness of the platform\n      // NOTE: This will be 'true' for simulated TypedArrays\n      function isLittleEndian() {\n        var buffer8 = new Uint8Array(2);\n        buffer8[0] = 1;\n        var buffer16 = new Uint16Array(buffer8.buffer);\n        return (buffer16[0] === 1);\n      }\n\n      // Checks if it's possible to eval JS expressions.\n      function isEvalSupported() {\n        try {\n          /* jshint evil: true */\n          new Function('');\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n\n      var Uint32ArrayView = (function Uint32ArrayViewClosure() {\n\n        function Uint32ArrayView(buffer, length) {\n          this.buffer = buffer;\n          this.byteLength = buffer.length;\n          this.length = length === undefined ? (this.byteLength >> 2) : length;\n          ensureUint32ArrayViewProps(this.length);\n        }\n        Uint32ArrayView.prototype = Object.create(null);\n\n        var uint32ArrayViewSetters = 0;\n\n        function createUint32ArrayProp(index) {\n          return {\n            get: function() {\n              var buffer = this.buffer,\n                offset = index << 2;\n              return (buffer[offset] | (buffer[offset + 1] << 8) |\n                (buffer[offset + 2] << 16) | (buffer[offset + 3] << 24)) >>> 0;\n            },\n            set: function(value) {\n              var buffer = this.buffer,\n                offset = index << 2;\n              buffer[offset] = value & 255;\n              buffer[offset + 1] = (value >> 8) & 255;\n              buffer[offset + 2] = (value >> 16) & 255;\n              buffer[offset + 3] = (value >>> 24) & 255;\n            }\n          };\n        }\n\n        function ensureUint32ArrayViewProps(length) {\n          while (uint32ArrayViewSetters < length) {\n            Object.defineProperty(Uint32ArrayView.prototype,\n              uint32ArrayViewSetters,\n              createUint32ArrayProp(uint32ArrayViewSetters));\n            uint32ArrayViewSetters++;\n          }\n        }\n\n        return Uint32ArrayView;\n      })();\n\n      exports.Uint32ArrayView = Uint32ArrayView;\n\n      var IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\n      var Util = (function UtilClosure() {\n        function Util() {}\n\n        var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n\n        // makeCssRgb() can be called thousands of times. Using |rgbBuf| avoids\n        // creating many intermediate strings.\n        Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n          rgbBuf[1] = r;\n          rgbBuf[3] = g;\n          rgbBuf[5] = b;\n          return rgbBuf.join('');\n        };\n\n        // Concatenates two transformation matrices together and returns the result.\n        Util.transform = function Util_transform(m1, m2) {\n          return [\n            m1[0] * m2[0] + m1[2] * m2[1],\n            m1[1] * m2[0] + m1[3] * m2[1],\n            m1[0] * m2[2] + m1[2] * m2[3],\n            m1[1] * m2[2] + m1[3] * m2[3],\n            m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n            m1[1] * m2[4] + m1[3] * m2[5] + m1[5]\n          ];\n        };\n\n        // For 2d affine transforms\n        Util.applyTransform = function Util_applyTransform(p, m) {\n          var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n          var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n          return [xt, yt];\n        };\n\n        Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n          var d = m[0] * m[3] - m[1] * m[2];\n          var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n          var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n          return [xt, yt];\n        };\n\n        // Applies the transform to the rectangle and finds the minimum axially\n        // aligned bounding box.\n        Util.getAxialAlignedBoundingBox =\n          function Util_getAxialAlignedBoundingBox(r, m) {\n\n            var p1 = Util.applyTransform(r, m);\n            var p2 = Util.applyTransform(r.slice(2, 4), m);\n            var p3 = Util.applyTransform([r[0], r[3]], m);\n            var p4 = Util.applyTransform([r[2], r[1]], m);\n            return [\n              Math.min(p1[0], p2[0], p3[0], p4[0]),\n              Math.min(p1[1], p2[1], p3[1], p4[1]),\n              Math.max(p1[0], p2[0], p3[0], p4[0]),\n              Math.max(p1[1], p2[1], p3[1], p4[1])\n            ];\n          };\n\n        Util.inverseTransform = function Util_inverseTransform(m) {\n          var d = m[0] * m[3] - m[1] * m[2];\n          return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d,\n            (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d\n          ];\n        };\n\n        // Apply a generic 3d matrix M on a 3-vector v:\n        //   | a b c |   | X |\n        //   | d e f | x | Y |\n        //   | g h i |   | Z |\n        // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n        // with v as [X,Y,Z]\n        Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n          return [\n            m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n            m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n            m[6] * v[0] + m[7] * v[1] + m[8] * v[2]\n          ];\n        };\n\n        // This calculation uses Singular Value Decomposition.\n        // The SVD can be represented with formula A = USV. We are interested in the\n        // matrix S here because it represents the scale values.\n        Util.singularValueDecompose2dScale =\n          function Util_singularValueDecompose2dScale(m) {\n\n            var transpose = [m[0], m[2], m[1], m[3]];\n\n            // Multiply matrix m with its transpose.\n            var a = m[0] * transpose[0] + m[1] * transpose[2];\n            var b = m[0] * transpose[1] + m[1] * transpose[3];\n            var c = m[2] * transpose[0] + m[3] * transpose[2];\n            var d = m[2] * transpose[1] + m[3] * transpose[3];\n\n            // Solve the second degree polynomial to get roots.\n            var first = (a + d) / 2;\n            var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n            var sx = first + second || 1;\n            var sy = first - second || 1;\n\n            // Scale values are the square roots of the eigenvalues.\n            return [Math.sqrt(sx), Math.sqrt(sy)];\n          };\n\n        // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n        // For coordinate systems whose origin lies in the bottom-left, this\n        // means normalization to (BL,TR) ordering. For systems with origin in the\n        // top-left, this means (TL,BR) ordering.\n        Util.normalizeRect = function Util_normalizeRect(rect) {\n          var r = rect.slice(0); // clone rect\n          if (rect[0] > rect[2]) {\n            r[0] = rect[2];\n            r[2] = rect[0];\n          }\n          if (rect[1] > rect[3]) {\n            r[1] = rect[3];\n            r[3] = rect[1];\n          }\n          return r;\n        };\n\n        // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n        // intersection of rect1 and rect2. If no intersection, returns 'false'\n        // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n        Util.intersect = function Util_intersect(rect1, rect2) {\n          function compare(a, b) {\n            return a - b;\n          }\n\n          // Order points along the axes\n          var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n            orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n            result = [];\n\n          rect1 = Util.normalizeRect(rect1);\n          rect2 = Util.normalizeRect(rect2);\n\n          // X: first and second points belong to different rectangles?\n          if ((orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n            (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])) {\n            // Intersection must be between second and third points\n            result[0] = orderedX[1];\n            result[2] = orderedX[2];\n          } else {\n            return false;\n          }\n\n          // Y: first and second points belong to different rectangles?\n          if ((orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n            (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])) {\n            // Intersection must be between second and third points\n            result[1] = orderedY[1];\n            result[3] = orderedY[2];\n          } else {\n            return false;\n          }\n\n          return result;\n        };\n\n        Util.sign = function Util_sign(num) {\n          return num < 0 ? -1 : 1;\n        };\n\n        var ROMAN_NUMBER_MAP = [\n          '', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM',\n          '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC',\n          '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'\n        ];\n        /**\n         * Converts positive integers to (upper case) Roman numerals.\n         * @param {integer} number - The number that should be converted.\n         * @param {boolean} lowerCase - Indicates if the result should be converted\n         *   to lower case letters. The default is false.\n         * @return {string} The resulting Roman number.\n         */\n        Util.toRoman = function Util_toRoman(number, lowerCase) {\n          assert(isInt(number) && number > 0,\n            'The number should be a positive integer.');\n          var pos, romanBuf = [];\n          // Thousands\n          while (number >= 1000) {\n            number -= 1000;\n            romanBuf.push('M');\n          }\n          // Hundreds\n          pos = (number / 100) | 0;\n          number %= 100;\n          romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n          // Tens\n          pos = (number / 10) | 0;\n          number %= 10;\n          romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n          // Ones\n          romanBuf.push(ROMAN_NUMBER_MAP[20 + number]);\n\n          var romanStr = romanBuf.join('');\n          return (lowerCase ? romanStr.toLowerCase() : romanStr);\n        };\n\n        Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n          Array.prototype.push.apply(arr1, arr2);\n        };\n\n        Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n          Array.prototype.unshift.apply(arr1, arr2);\n        };\n\n        Util.extendObj = function extendObj(obj1, obj2) {\n          for (var key in obj2) {\n            obj1[key] = obj2[key];\n          }\n        };\n\n        Util.getInheritableProperty = function Util_getInheritableProperty(dict,\n          name) {\n          while (dict && !dict.has(name)) {\n            dict = dict.get('Parent');\n          }\n          if (!dict) {\n            return null;\n          }\n          return dict.get(name);\n        };\n\n        Util.inherit = function Util_inherit(sub, base, prototype) {\n          sub.prototype = Object.create(base.prototype);\n          sub.prototype.constructor = sub;\n          for (var prop in prototype) {\n            sub.prototype[prop] = prototype[prop];\n          }\n        };\n\n        Util.loadScript = function Util_loadScript(src, callback) {\n          var script = document.createElement('script');\n          var loaded = false;\n          script.setAttribute('src', src);\n          if (callback) {\n            script.onload = function() {\n              if (!loaded) {\n                callback();\n              }\n              loaded = true;\n            };\n          }\n          document.getElementsByTagName('head')[0].appendChild(script);\n        };\n\n        return Util;\n      })();\n\n      /**\n       * PDF page viewport created based on scale, rotation and offset.\n       * @class\n       * @alias PageViewport\n       */\n      var PageViewport = (function PageViewportClosure() {\n        /**\n         * @constructor\n         * @private\n         * @param viewBox {Array} xMin, yMin, xMax and yMax coordinates.\n         * @param scale {number} scale of the viewport.\n         * @param rotation {number} rotations of the viewport in degrees.\n         * @param offsetX {number} offset X\n         * @param offsetY {number} offset Y\n         * @param dontFlip {boolean} if true, axis Y will not be flipped.\n         */\n        function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n          this.viewBox = viewBox;\n          this.scale = scale;\n          this.rotation = rotation;\n          this.offsetX = offsetX;\n          this.offsetY = offsetY;\n\n          // creating transform to convert pdf coordinate system to the normal\n          // canvas like coordinates taking in account scale and rotation\n          var centerX = (viewBox[2] + viewBox[0]) / 2;\n          var centerY = (viewBox[3] + viewBox[1]) / 2;\n          var rotateA, rotateB, rotateC, rotateD;\n          rotation = rotation % 360;\n          rotation = rotation < 0 ? rotation + 360 : rotation;\n          switch (rotation) {\n            case 180:\n              rotateA = -1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = 1;\n              break;\n            case 90:\n              rotateA = 0;\n              rotateB = 1;\n              rotateC = 1;\n              rotateD = 0;\n              break;\n            case 270:\n              rotateA = 0;\n              rotateB = -1;\n              rotateC = -1;\n              rotateD = 0;\n              break;\n              //case 0:\n            default:\n              rotateA = 1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = -1;\n              break;\n          }\n\n          if (dontFlip) {\n            rotateC = -rotateC;\n            rotateD = -rotateD;\n          }\n\n          var offsetCanvasX, offsetCanvasY;\n          var width, height;\n          if (rotateA === 0) {\n            offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n            width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n            height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n          } else {\n            offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n            width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n            height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n          }\n          // creating transform for the following operations:\n          // translate(-centerX, -centerY), rotate and flip vertically,\n          // scale, and translate(offsetCanvasX, offsetCanvasY)\n          this.transform = [\n            rotateA * scale,\n            rotateB * scale,\n            rotateC * scale,\n            rotateD * scale,\n            offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n            offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY\n          ];\n\n          this.width = width;\n          this.height = height;\n          this.fontScale = scale;\n        }\n        PageViewport.prototype = /** @lends PageViewport.prototype */ {\n          /**\n           * Clones viewport with additional properties.\n           * @param args {Object} (optional) If specified, may contain the 'scale' or\n           * 'rotation' properties to override the corresponding properties in\n           * the cloned viewport.\n           * @returns {PageViewport} Cloned viewport.\n           */\n          clone: function PageViewPort_clone(args) {\n            args = args || {};\n            var scale = 'scale' in args ? args.scale : this.scale;\n            var rotation = 'rotation' in args ? args.rotation : this.rotation;\n            return new PageViewport(this.viewBox.slice(), scale, rotation,\n              this.offsetX, this.offsetY, args.dontFlip);\n          },\n          /**\n           * Converts PDF point to the viewport coordinates. For examples, useful for\n           * converting PDF location into canvas pixel coordinates.\n           * @param x {number} X coordinate.\n           * @param y {number} Y coordinate.\n           * @returns {Object} Object that contains 'x' and 'y' properties of the\n           * point in the viewport coordinate space.\n           * @see {@link convertToPdfPoint}\n           * @see {@link convertToViewportRectangle}\n           */\n          convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n            return Util.applyTransform([x, y], this.transform);\n          },\n          /**\n           * Converts PDF rectangle to the viewport coordinates.\n           * @param rect {Array} xMin, yMin, xMax and yMax coordinates.\n           * @returns {Array} Contains corresponding coordinates of the rectangle\n           * in the viewport coordinate space.\n           * @see {@link convertToViewportPoint}\n           */\n          convertToViewportRectangle: function PageViewport_convertToViewportRectangle(rect) {\n            var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n            var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n            return [tl[0], tl[1], br[0], br[1]];\n          },\n          /**\n           * Converts viewport coordinates to the PDF location. For examples, useful\n           * for converting canvas pixel location into PDF one.\n           * @param x {number} X coordinate.\n           * @param y {number} Y coordinate.\n           * @returns {Object} Object that contains 'x' and 'y' properties of the\n           * point in the PDF coordinate space.\n           * @see {@link convertToViewportPoint}\n           */\n          convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n            return Util.applyInverseTransform([x, y], this.transform);\n          }\n        };\n        return PageViewport;\n      })();\n\n      var PDFStringTranslateTable = [\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n        0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n        0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n        0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n      ];\n\n      function stringToPDFString(str) {\n        var i, n = str.length,\n          strBuf = [];\n        if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n          // UTF16BE BOM\n          for (i = 2; i < n; i += 2) {\n            strBuf.push(String.fromCharCode(\n              (str.charCodeAt(i) << 8) | str.charCodeAt(i + 1)));\n          }\n        } else {\n          for (i = 0; i < n; ++i) {\n            var code = PDFStringTranslateTable[str.charCodeAt(i)];\n            strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n          }\n        }\n        return strBuf.join('');\n      }\n\n      function stringToUTF8String(str) {\n        return decodeURIComponent(escape(str));\n      }\n\n      function utf8StringToString(str) {\n        return unescape(encodeURIComponent(str));\n      }\n\n      function isEmptyObj(obj) {\n        for (var key in obj) {\n          return false;\n        }\n        return true;\n      }\n\n      function isBool(v) {\n        return typeof v === 'boolean';\n      }\n\n      function isInt(v) {\n        return typeof v === 'number' && ((v | 0) === v);\n      }\n\n      function isNum(v) {\n        return typeof v === 'number';\n      }\n\n      function isString(v) {\n        return typeof v === 'string';\n      }\n\n      function isArray(v) {\n        return v instanceof Array;\n      }\n\n      function isArrayBuffer(v) {\n        return typeof v === 'object' && v !== null && v.byteLength !== undefined;\n      }\n\n      // Checks if ch is one of the following characters: SPACE, TAB, CR or LF.\n      function isSpace(ch) {\n        return (ch === 0x20 || ch === 0x09 || ch === 0x0D || ch === 0x0A);\n      }\n\n      /**\n       * Promise Capability object.\n       *\n       * @typedef {Object} PromiseCapability\n       * @property {Promise} promise - A promise object.\n       * @property {function} resolve - Fulfills the promise.\n       * @property {function} reject - Rejects the promise.\n       */\n\n      /**\n       * Creates a promise capability object.\n       * @alias createPromiseCapability\n       *\n       * @return {PromiseCapability} A capability object contains:\n       * - a Promise, resolve and reject methods.\n       */\n      function createPromiseCapability() {\n        var capability = {};\n        capability.promise = new Promise(function(resolve, reject) {\n          capability.resolve = resolve;\n          capability.reject = reject;\n        });\n        return capability;\n      }\n\n      /**\n       * Polyfill for Promises:\n       * The following promise implementation tries to generally implement the\n       * Promise/A+ spec. Some notable differences from other promise libraries are:\n       * - There currently isn't a separate deferred and promise object.\n       * - Unhandled rejections eventually show an error if they aren't handled.\n       *\n       * Based off of the work in:\n       * https://bugzilla.mozilla.org/show_bug.cgi?id=810490\n       */\n      (function PromiseClosure() {\n        if (globalScope.Promise) {\n          // Promises existing in the DOM/Worker, checking presence of all/resolve\n          if (typeof globalScope.Promise.all !== 'function') {\n            globalScope.Promise.all = function(iterable) {\n              var count = 0,\n                results = [],\n                resolve, reject;\n              var promise = new globalScope.Promise(function(resolve_, reject_) {\n                resolve = resolve_;\n                reject = reject_;\n              });\n              iterable.forEach(function(p, i) {\n                count++;\n                p.then(function(result) {\n                  results[i] = result;\n                  count--;\n                  if (count === 0) {\n                    resolve(results);\n                  }\n                }, reject);\n              });\n              if (count === 0) {\n                resolve(results);\n              }\n              return promise;\n            };\n          }\n          if (typeof globalScope.Promise.resolve !== 'function') {\n            globalScope.Promise.resolve = function(value) {\n              return new globalScope.Promise(function(resolve) {\n                resolve(value);\n              });\n            };\n          }\n          if (typeof globalScope.Promise.reject !== 'function') {\n            globalScope.Promise.reject = function(reason) {\n              return new globalScope.Promise(function(resolve, reject) {\n                reject(reason);\n              });\n            };\n          }\n          if (typeof globalScope.Promise.prototype.catch !== 'function') {\n            globalScope.Promise.prototype.catch = function(onReject) {\n              return globalScope.Promise.prototype.then(undefined, onReject);\n            };\n          }\n          return;\n        }\n        var STATUS_PENDING = 0;\n        var STATUS_RESOLVED = 1;\n        var STATUS_REJECTED = 2;\n\n        // In an attempt to avoid silent exceptions, unhandled rejections are\n        // tracked and if they aren't handled in a certain amount of time an\n        // error is logged.\n        var REJECTION_TIMEOUT = 500;\n\n        var HandlerManager = {\n          handlers: [],\n          running: false,\n          unhandledRejections: [],\n          pendingRejectionCheck: false,\n\n          scheduleHandlers: function scheduleHandlers(promise) {\n            if (promise._status === STATUS_PENDING) {\n              return;\n            }\n\n            this.handlers = this.handlers.concat(promise._handlers);\n            promise._handlers = [];\n\n            if (this.running) {\n              return;\n            }\n            this.running = true;\n\n            setTimeout(this.runHandlers.bind(this), 0);\n          },\n\n          runHandlers: function runHandlers() {\n            var RUN_TIMEOUT = 1; // ms\n            var timeoutAt = Date.now() + RUN_TIMEOUT;\n            while (this.handlers.length > 0) {\n              var handler = this.handlers.shift();\n\n              var nextStatus = handler.thisPromise._status;\n              var nextValue = handler.thisPromise._value;\n\n              try {\n                if (nextStatus === STATUS_RESOLVED) {\n                  if (typeof handler.onResolve === 'function') {\n                    nextValue = handler.onResolve(nextValue);\n                  }\n                } else if (typeof handler.onReject === 'function') {\n                  nextValue = handler.onReject(nextValue);\n                  nextStatus = STATUS_RESOLVED;\n\n                  if (handler.thisPromise._unhandledRejection) {\n                    this.removeUnhandeledRejection(handler.thisPromise);\n                  }\n                }\n              } catch (ex) {\n                nextStatus = STATUS_REJECTED;\n                nextValue = ex;\n              }\n\n              handler.nextPromise._updateStatus(nextStatus, nextValue);\n              if (Date.now() >= timeoutAt) {\n                break;\n              }\n            }\n\n            if (this.handlers.length > 0) {\n              setTimeout(this.runHandlers.bind(this), 0);\n              return;\n            }\n\n            this.running = false;\n          },\n\n          addUnhandledRejection: function addUnhandledRejection(promise) {\n            this.unhandledRejections.push({\n              promise: promise,\n              time: Date.now()\n            });\n            this.scheduleRejectionCheck();\n          },\n\n          removeUnhandeledRejection: function removeUnhandeledRejection(promise) {\n            promise._unhandledRejection = false;\n            for (var i = 0; i < this.unhandledRejections.length; i++) {\n              if (this.unhandledRejections[i].promise === promise) {\n                this.unhandledRejections.splice(i);\n                i--;\n              }\n            }\n          },\n\n          scheduleRejectionCheck: function scheduleRejectionCheck() {\n            if (this.pendingRejectionCheck) {\n              return;\n            }\n            this.pendingRejectionCheck = true;\n            setTimeout(function rejectionCheck() {\n              this.pendingRejectionCheck = false;\n              var now = Date.now();\n              for (var i = 0; i < this.unhandledRejections.length; i++) {\n                if (now - this.unhandledRejections[i].time > REJECTION_TIMEOUT) {\n                  var unhandled = this.unhandledRejections[i].promise._value;\n                  var msg = 'Unhandled rejection: ' + unhandled;\n                  if (unhandled.stack) {\n                    msg += '\\n' + unhandled.stack;\n                  }\n                  warn(msg);\n                  this.unhandledRejections.splice(i);\n                  i--;\n                }\n              }\n              if (this.unhandledRejections.length) {\n                this.scheduleRejectionCheck();\n              }\n            }.bind(this), REJECTION_TIMEOUT);\n          }\n        };\n\n        function Promise(resolver) {\n          this._status = STATUS_PENDING;\n          this._handlers = [];\n          try {\n            resolver.call(this, this._resolve.bind(this), this._reject.bind(this));\n          } catch (e) {\n            this._reject(e);\n          }\n        }\n        /**\n         * Builds a promise that is resolved when all the passed in promises are\n         * resolved.\n         * @param {array} promises array of data and/or promises to wait for.\n         * @return {Promise} New dependent promise.\n         */\n        Promise.all = function Promise_all(promises) {\n          var resolveAll, rejectAll;\n          var deferred = new Promise(function(resolve, reject) {\n            resolveAll = resolve;\n            rejectAll = reject;\n          });\n          var unresolved = promises.length;\n          var results = [];\n          if (unresolved === 0) {\n            resolveAll(results);\n            return deferred;\n          }\n\n          function reject(reason) {\n            if (deferred._status === STATUS_REJECTED) {\n              return;\n            }\n            results = [];\n            rejectAll(reason);\n          }\n          for (var i = 0, ii = promises.length; i < ii; ++i) {\n            var promise = promises[i];\n            var resolve = (function(i) {\n              return function(value) {\n                if (deferred._status === STATUS_REJECTED) {\n                  return;\n                }\n                results[i] = value;\n                unresolved--;\n                if (unresolved === 0) {\n                  resolveAll(results);\n                }\n              };\n            })(i);\n            if (Promise.isPromise(promise)) {\n              promise.then(resolve, reject);\n            } else {\n              resolve(promise);\n            }\n          }\n          return deferred;\n        };\n\n        /**\n         * Checks if the value is likely a promise (has a 'then' function).\n         * @return {boolean} true if value is thenable\n         */\n        Promise.isPromise = function Promise_isPromise(value) {\n          return value && typeof value.then === 'function';\n        };\n\n        /**\n         * Creates resolved promise\n         * @param value resolve value\n         * @returns {Promise}\n         */\n        Promise.resolve = function Promise_resolve(value) {\n          return new Promise(function(resolve) {\n            resolve(value);\n          });\n        };\n\n        /**\n         * Creates rejected promise\n         * @param reason rejection value\n         * @returns {Promise}\n         */\n        Promise.reject = function Promise_reject(reason) {\n          return new Promise(function(resolve, reject) {\n            reject(reason);\n          });\n        };\n\n        Promise.prototype = {\n          _status: null,\n          _value: null,\n          _handlers: null,\n          _unhandledRejection: null,\n\n          _updateStatus: function Promise__updateStatus(status, value) {\n            if (this._status === STATUS_RESOLVED ||\n              this._status === STATUS_REJECTED) {\n              return;\n            }\n\n            if (status === STATUS_RESOLVED &&\n              Promise.isPromise(value)) {\n              value.then(this._updateStatus.bind(this, STATUS_RESOLVED),\n                this._updateStatus.bind(this, STATUS_REJECTED));\n              return;\n            }\n\n            this._status = status;\n            this._value = value;\n\n            if (status === STATUS_REJECTED && this._handlers.length === 0) {\n              this._unhandledRejection = true;\n              HandlerManager.addUnhandledRejection(this);\n            }\n\n            HandlerManager.scheduleHandlers(this);\n          },\n\n          _resolve: function Promise_resolve(value) {\n            this._updateStatus(STATUS_RESOLVED, value);\n          },\n\n          _reject: function Promise_reject(reason) {\n            this._updateStatus(STATUS_REJECTED, reason);\n          },\n\n          then: function Promise_then(onResolve, onReject) {\n            var nextPromise = new Promise(function(resolve, reject) {\n              this.resolve = resolve;\n              this.reject = reject;\n            });\n            this._handlers.push({\n              thisPromise: this,\n              onResolve: onResolve,\n              onReject: onReject,\n              nextPromise: nextPromise\n            });\n            HandlerManager.scheduleHandlers(this);\n            return nextPromise;\n          },\n\n          catch: function Promise_catch(onReject) {\n            return this.then(undefined, onReject);\n          }\n        };\n\n        globalScope.Promise = Promise;\n      })();\n\n      (function WeakMapClosure() {\n        if (globalScope.WeakMap) {\n          return;\n        }\n\n        var id = 0;\n\n        function WeakMap() {\n          this.id = '$weakmap' + (id++);\n        }\n        WeakMap.prototype = {\n          has: function(obj) {\n            return !!Object.getOwnPropertyDescriptor(obj, this.id);\n          },\n          get: function(obj, defaultValue) {\n            return this.has(obj) ? obj[this.id] : defaultValue;\n          },\n          set: function(obj, value) {\n            Object.defineProperty(obj, this.id, {\n              value: value,\n              enumerable: false,\n              configurable: true\n            });\n          },\n          delete: function(obj) {\n            delete obj[this.id];\n          }\n        };\n\n        globalScope.WeakMap = WeakMap;\n      })();\n\n      var StatTimer = (function StatTimerClosure() {\n        function rpad(str, pad, length) {\n          while (str.length < length) {\n            str += pad;\n          }\n          return str;\n        }\n\n        function StatTimer() {\n          this.started = Object.create(null);\n          this.times = [];\n          this.enabled = true;\n        }\n        StatTimer.prototype = {\n          time: function StatTimer_time(name) {\n            if (!this.enabled) {\n              return;\n            }\n            if (name in this.started) {\n              warn('Timer is already running for ' + name);\n            }\n            this.started[name] = Date.now();\n          },\n          timeEnd: function StatTimer_timeEnd(name) {\n            if (!this.enabled) {\n              return;\n            }\n            if (!(name in this.started)) {\n              warn('Timer has not been started for ' + name);\n            }\n            this.times.push({\n              'name': name,\n              'start': this.started[name],\n              'end': Date.now()\n            });\n            // Remove timer from started so it can be called again.\n            delete this.started[name];\n          },\n          toString: function StatTimer_toString() {\n            var i, ii;\n            var times = this.times;\n            var out = '';\n            // Find the longest name for padding purposes.\n            var longest = 0;\n            for (i = 0, ii = times.length; i < ii; ++i) {\n              var name = times[i]['name'];\n              if (name.length > longest) {\n                longest = name.length;\n              }\n            }\n            for (i = 0, ii = times.length; i < ii; ++i) {\n              var span = times[i];\n              var duration = span.end - span.start;\n              out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n            }\n            return out;\n          }\n        };\n        return StatTimer;\n      })();\n\n      var createBlob = function createBlob(data, contentType) {\n        if (typeof Blob !== 'undefined') {\n          return new Blob([data], {\n            type: contentType\n          });\n        }\n        warn('The \"Blob\" constructor is not supported.');\n      };\n\n      var createObjectURL = (function createObjectURLClosure() {\n        // Blob/createObjectURL is not available, falling back to data schema.\n        var digits =\n          'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n        return function createObjectURL(data, contentType, forceDataSchema) {\n          if (!forceDataSchema &&\n            typeof URL !== 'undefined' && URL.createObjectURL) {\n            var blob = createBlob(data, contentType);\n            return URL.createObjectURL(blob);\n          }\n\n          var buffer = 'data:' + contentType + ';base64,';\n          for (var i = 0, ii = data.length; i < ii; i += 3) {\n            var b1 = data[i] & 0xFF;\n            var b2 = data[i + 1] & 0xFF;\n            var b3 = data[i + 2] & 0xFF;\n            var d1 = b1 >> 2,\n              d2 = ((b1 & 3) << 4) | (b2 >> 4);\n            var d3 = i + 1 < ii ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\n            var d4 = i + 2 < ii ? (b3 & 0x3F) : 64;\n            buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n          }\n          return buffer;\n        };\n      })();\n\n      function MessageHandler(sourceName, targetName, comObj) {\n        this.sourceName = sourceName;\n        this.targetName = targetName;\n        this.comObj = comObj;\n        this.callbackIndex = 1;\n        this.postMessageTransfers = true;\n        var callbacksCapabilities = this.callbacksCapabilities = Object.create(null);\n        var ah = this.actionHandler = Object.create(null);\n\n        this._onComObjOnMessage = function messageHandlerComObjOnMessage(event) {\n          var data = event.data;\n          if (data.targetName !== this.sourceName) {\n            return;\n          }\n          if (data.isReply) {\n            var callbackId = data.callbackId;\n            if (data.callbackId in callbacksCapabilities) {\n              var callback = callbacksCapabilities[callbackId];\n              delete callbacksCapabilities[callbackId];\n              if ('error' in data) {\n                callback.reject(data.error);\n              } else {\n                callback.resolve(data.data);\n              }\n            } else {\n              error('Cannot resolve callback ' + callbackId);\n            }\n          } else if (data.action in ah) {\n            var action = ah[data.action];\n            if (data.callbackId) {\n              var sourceName = this.sourceName;\n              var targetName = data.sourceName;\n              Promise.resolve().then(function() {\n                return action[0].call(action[1], data.data);\n              }).then(function(result) {\n                comObj.postMessage({\n                  sourceName: sourceName,\n                  targetName: targetName,\n                  isReply: true,\n                  callbackId: data.callbackId,\n                  data: result\n                });\n              }, function(reason) {\n                if (reason instanceof Error) {\n                  // Serialize error to avoid \"DataCloneError\"\n                  reason = reason + '';\n                }\n                comObj.postMessage({\n                  sourceName: sourceName,\n                  targetName: targetName,\n                  isReply: true,\n                  callbackId: data.callbackId,\n                  error: reason\n                });\n              });\n            } else {\n              action[0].call(action[1], data.data);\n            }\n          } else {\n            error('Unknown action from worker: ' + data.action);\n          }\n        }.bind(this);\n        comObj.addEventListener('message', this._onComObjOnMessage);\n      }\n\n      MessageHandler.prototype = {\n        on: function messageHandlerOn(actionName, handler, scope) {\n          var ah = this.actionHandler;\n          if (ah[actionName]) {\n            error('There is already an actionName called \"' + actionName + '\"');\n          }\n          ah[actionName] = [handler, scope];\n        },\n        /**\n         * Sends a message to the comObj to invoke the action with the supplied data.\n         * @param {String} actionName Action to call.\n         * @param {JSON} data JSON data to send.\n         * @param {Array} [transfers] Optional list of transfers/ArrayBuffers\n         */\n        send: function messageHandlerSend(actionName, data, transfers) {\n          var message = {\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data: data\n          };\n          this.postMessage(message, transfers);\n        },\n        /**\n         * Sends a message to the comObj to invoke the action with the supplied data.\n         * Expects that other side will callback with the response.\n         * @param {String} actionName Action to call.\n         * @param {JSON} data JSON data to send.\n         * @param {Array} [transfers] Optional list of transfers/ArrayBuffers.\n         * @returns {Promise} Promise to be resolved with response data.\n         */\n        sendWithPromise: function messageHandlerSendWithPromise(actionName, data, transfers) {\n          var callbackId = this.callbackIndex++;\n          var message = {\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data: data,\n            callbackId: callbackId\n          };\n          var capability = createPromiseCapability();\n          this.callbacksCapabilities[callbackId] = capability;\n          try {\n            this.postMessage(message, transfers);\n          } catch (e) {\n            capability.reject(e);\n          }\n          return capability.promise;\n        },\n        /**\n         * Sends raw message to the comObj.\n         * @private\n         * @param message {Object} Raw message.\n         * @param transfers List of transfers/ArrayBuffers, or undefined.\n         */\n        postMessage: function(message, transfers) {\n          if (transfers && this.postMessageTransfers) {\n            this.comObj.postMessage(message, transfers);\n          } else {\n            this.comObj.postMessage(message);\n          }\n        },\n\n        destroy: function() {\n          this.comObj.removeEventListener('message', this._onComObjOnMessage);\n        }\n      };\n\n      function loadJpegStream(id, imageUrl, objs) {\n        var img = new Image();\n        img.onload = (function loadJpegStream_onloadClosure() {\n          objs.resolve(id, img);\n        });\n        img.onerror = (function loadJpegStream_onerrorClosure() {\n          objs.resolve(id, null);\n          warn('Error during JPEG image loading');\n        });\n        img.src = imageUrl;\n      }\n\n      // Polyfill from https://github.com/Polymer/URL\n      /* Any copyright is dedicated to the Public Domain.\n       * http://creativecommons.org/publicdomain/zero/1.0/ */\n      (function checkURLConstructor(scope) {\n        // feature detect for URL constructor\n        var hasWorkingUrl = false;\n        try {\n          if (typeof URL === 'function' &&\n            typeof URL.prototype === 'object' &&\n            ('origin' in URL.prototype)) {\n            var u = new URL('b', 'http://a');\n            u.pathname = 'c%20d';\n            hasWorkingUrl = u.href === 'http://a/c%20d';\n          }\n        } catch (e) {}\n\n        if (hasWorkingUrl) {\n          return;\n        }\n\n        var relative = Object.create(null);\n        relative['ftp'] = 21;\n        relative['file'] = 0;\n        relative['gopher'] = 70;\n        relative['http'] = 80;\n        relative['https'] = 443;\n        relative['ws'] = 80;\n        relative['wss'] = 443;\n\n        var relativePathDotMapping = Object.create(null);\n        relativePathDotMapping['%2e'] = '.';\n        relativePathDotMapping['.%2e'] = '..';\n        relativePathDotMapping['%2e.'] = '..';\n        relativePathDotMapping['%2e%2e'] = '..';\n\n        function isRelativeScheme(scheme) {\n          return relative[scheme] !== undefined;\n        }\n\n        function invalid() {\n          clear.call(this);\n          this._isInvalid = true;\n        }\n\n        function IDNAToASCII(h) {\n          if ('' === h) {\n            invalid.call(this);\n          }\n          // XXX\n          return h.toLowerCase();\n        }\n\n        function percentEscape(c) {\n          var unicode = c.charCodeAt(0);\n          if (unicode > 0x20 &&\n            unicode < 0x7F &&\n            // \" # < > ? `\n            [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) === -1\n          ) {\n            return c;\n          }\n          return encodeURIComponent(c);\n        }\n\n        function percentEscapeQuery(c) {\n          // XXX This actually needs to encode c using encoding and then\n          // convert the bytes one-by-one.\n\n          var unicode = c.charCodeAt(0);\n          if (unicode > 0x20 &&\n            unicode < 0x7F &&\n            // \" # < > ` (do not escape '?')\n            [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) === -1\n          ) {\n            return c;\n          }\n          return encodeURIComponent(c);\n        }\n\n        var EOF, ALPHA = /[a-zA-Z]/,\n          ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n        function parse(input, stateOverride, base) {\n          function err(message) {\n            errors.push(message);\n          }\n\n          var state = stateOverride || 'scheme start',\n            cursor = 0,\n            buffer = '',\n            seenAt = false,\n            seenBracket = false,\n            errors = [];\n\n          loop: while ((input[cursor - 1] !== EOF || cursor === 0) &&\n            !this._isInvalid) {\n            var c = input[cursor];\n            switch (state) {\n              case 'scheme start':\n                if (c && ALPHA.test(c)) {\n                  buffer += c.toLowerCase(); // ASCII-safe\n                  state = 'scheme';\n                } else if (!stateOverride) {\n                  buffer = '';\n                  state = 'no scheme';\n                  continue;\n                } else {\n                  err('Invalid scheme.');\n                  break loop;\n                }\n                break;\n\n              case 'scheme':\n                if (c && ALPHANUMERIC.test(c)) {\n                  buffer += c.toLowerCase(); // ASCII-safe\n                } else if (':' === c) {\n                  this._scheme = buffer;\n                  buffer = '';\n                  if (stateOverride) {\n                    break loop;\n                  }\n                  if (isRelativeScheme(this._scheme)) {\n                    this._isRelative = true;\n                  }\n                  if ('file' === this._scheme) {\n                    state = 'relative';\n                  } else if (this._isRelative && base &&\n                    base._scheme === this._scheme) {\n                    state = 'relative or authority';\n                  } else if (this._isRelative) {\n                    state = 'authority first slash';\n                  } else {\n                    state = 'scheme data';\n                  }\n                } else if (!stateOverride) {\n                  buffer = '';\n                  cursor = 0;\n                  state = 'no scheme';\n                  continue;\n                } else if (EOF === c) {\n                  break loop;\n                } else {\n                  err('Code point not allowed in scheme: ' + c);\n                  break loop;\n                }\n                break;\n\n              case 'scheme data':\n                if ('?' === c) {\n                  this._query = '?';\n                  state = 'query';\n                } else if ('#' === c) {\n                  this._fragment = '#';\n                  state = 'fragment';\n                } else {\n                  // XXX error handling\n                  if (EOF !== c && '\\t' !== c && '\\n' !== c && '\\r' !== c) {\n                    this._schemeData += percentEscape(c);\n                  }\n                }\n                break;\n\n              case 'no scheme':\n                if (!base || !(isRelativeScheme(base._scheme))) {\n                  err('Missing scheme.');\n                  invalid.call(this);\n                } else {\n                  state = 'relative';\n                  continue;\n                }\n                break;\n\n              case 'relative or authority':\n                if ('/' === c && '/' === input[cursor + 1]) {\n                  state = 'authority ignore slashes';\n                } else {\n                  err('Expected /, got: ' + c);\n                  state = 'relative';\n                  continue;\n                }\n                break;\n\n              case 'relative':\n                this._isRelative = true;\n                if ('file' !== this._scheme) {\n                  this._scheme = base._scheme;\n                }\n                if (EOF === c) {\n                  this._host = base._host;\n                  this._port = base._port;\n                  this._path = base._path.slice();\n                  this._query = base._query;\n                  this._username = base._username;\n                  this._password = base._password;\n                  break loop;\n                } else if ('/' === c || '\\\\' === c) {\n                  if ('\\\\' === c) {\n                    err('\\\\ is an invalid code point.');\n                  }\n                  state = 'relative slash';\n                } else if ('?' === c) {\n                  this._host = base._host;\n                  this._port = base._port;\n                  this._path = base._path.slice();\n                  this._query = '?';\n                  this._username = base._username;\n                  this._password = base._password;\n                  state = 'query';\n                } else if ('#' === c) {\n                  this._host = base._host;\n                  this._port = base._port;\n                  this._path = base._path.slice();\n                  this._query = base._query;\n                  this._fragment = '#';\n                  this._username = base._username;\n                  this._password = base._password;\n                  state = 'fragment';\n                } else {\n                  var nextC = input[cursor + 1];\n                  var nextNextC = input[cursor + 2];\n                  if ('file' !== this._scheme || !ALPHA.test(c) ||\n                    (nextC !== ':' && nextC !== '|') ||\n                    (EOF !== nextNextC && '/' !== nextNextC && '\\\\' !== nextNextC &&\n                      '?' !== nextNextC && '#' !== nextNextC)) {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._username = base._username;\n                    this._password = base._password;\n                    this._path = base._path.slice();\n                    this._path.pop();\n                  }\n                  state = 'relative path';\n                  continue;\n                }\n                break;\n\n              case 'relative slash':\n                if ('/' === c || '\\\\' === c) {\n                  if ('\\\\' === c) {\n                    err('\\\\ is an invalid code point.');\n                  }\n                  if ('file' === this._scheme) {\n                    state = 'file host';\n                  } else {\n                    state = 'authority ignore slashes';\n                  }\n                } else {\n                  if ('file' !== this._scheme) {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._username = base._username;\n                    this._password = base._password;\n                  }\n                  state = 'relative path';\n                  continue;\n                }\n                break;\n\n              case 'authority first slash':\n                if ('/' === c) {\n                  state = 'authority second slash';\n                } else {\n                  err('Expected \\'/\\', got: ' + c);\n                  state = 'authority ignore slashes';\n                  continue;\n                }\n                break;\n\n              case 'authority second slash':\n                state = 'authority ignore slashes';\n                if ('/' !== c) {\n                  err('Expected \\'/\\', got: ' + c);\n                  continue;\n                }\n                break;\n\n              case 'authority ignore slashes':\n                if ('/' !== c && '\\\\' !== c) {\n                  state = 'authority';\n                  continue;\n                } else {\n                  err('Expected authority, got: ' + c);\n                }\n                break;\n\n              case 'authority':\n                if ('@' === c) {\n                  if (seenAt) {\n                    err('@ already seen.');\n                    buffer += '%40';\n                  }\n                  seenAt = true;\n                  for (var i = 0; i < buffer.length; i++) {\n                    var cp = buffer[i];\n                    if ('\\t' === cp || '\\n' === cp || '\\r' === cp) {\n                      err('Invalid whitespace in authority.');\n                      continue;\n                    }\n                    // XXX check URL code points\n                    if (':' === cp && null === this._password) {\n                      this._password = '';\n                      continue;\n                    }\n                    var tempC = percentEscape(cp);\n                    if (null !== this._password) {\n                      this._password += tempC;\n                    } else {\n                      this._username += tempC;\n                    }\n                  }\n                  buffer = '';\n                } else if (EOF === c || '/' === c || '\\\\' === c ||\n                  '?' === c || '#' === c) {\n                  cursor -= buffer.length;\n                  buffer = '';\n                  state = 'host';\n                  continue;\n                } else {\n                  buffer += c;\n                }\n                break;\n\n              case 'file host':\n                if (EOF === c || '/' === c || '\\\\' === c || '?' === c || '#' === c) {\n                  if (buffer.length === 2 && ALPHA.test(buffer[0]) &&\n                    (buffer[1] === ':' || buffer[1] === '|')) {\n                    state = 'relative path';\n                  } else if (buffer.length === 0) {\n                    state = 'relative path start';\n                  } else {\n                    this._host = IDNAToASCII.call(this, buffer);\n                    buffer = '';\n                    state = 'relative path start';\n                  }\n                  continue;\n                } else if ('\\t' === c || '\\n' === c || '\\r' === c) {\n                  err('Invalid whitespace in file host.');\n                } else {\n                  buffer += c;\n                }\n                break;\n\n              case 'host':\n              case 'hostname':\n                if (':' === c && !seenBracket) {\n                  // XXX host parsing\n                  this._host = IDNAToASCII.call(this, buffer);\n                  buffer = '';\n                  state = 'port';\n                  if ('hostname' === stateOverride) {\n                    break loop;\n                  }\n                } else if (EOF === c || '/' === c ||\n                  '\\\\' === c || '?' === c || '#' === c) {\n                  this._host = IDNAToASCII.call(this, buffer);\n                  buffer = '';\n                  state = 'relative path start';\n                  if (stateOverride) {\n                    break loop;\n                  }\n                  continue;\n                } else if ('\\t' !== c && '\\n' !== c && '\\r' !== c) {\n                  if ('[' === c) {\n                    seenBracket = true;\n                  } else if (']' === c) {\n                    seenBracket = false;\n                  }\n                  buffer += c;\n                } else {\n                  err('Invalid code point in host/hostname: ' + c);\n                }\n                break;\n\n              case 'port':\n                if (/[0-9]/.test(c)) {\n                  buffer += c;\n                } else if (EOF === c || '/' === c || '\\\\' === c ||\n                  '?' === c || '#' === c || stateOverride) {\n                  if ('' !== buffer) {\n                    var temp = parseInt(buffer, 10);\n                    if (temp !== relative[this._scheme]) {\n                      this._port = temp + '';\n                    }\n                    buffer = '';\n                  }\n                  if (stateOverride) {\n                    break loop;\n                  }\n                  state = 'relative path start';\n                  continue;\n                } else if ('\\t' === c || '\\n' === c || '\\r' === c) {\n                  err('Invalid code point in port: ' + c);\n                } else {\n                  invalid.call(this);\n                }\n                break;\n\n              case 'relative path start':\n                if ('\\\\' === c) {\n                  err('\\'\\\\\\' not allowed in path.');\n                }\n                state = 'relative path';\n                if ('/' !== c && '\\\\' !== c) {\n                  continue;\n                }\n                break;\n\n              case 'relative path':\n                if (EOF === c || '/' === c || '\\\\' === c ||\n                  (!stateOverride && ('?' === c || '#' === c))) {\n                  if ('\\\\' === c) {\n                    err('\\\\ not allowed in relative path.');\n                  }\n                  var tmp;\n                  if (tmp = relativePathDotMapping[buffer.toLowerCase()]) {\n                    buffer = tmp;\n                  }\n                  if ('..' === buffer) {\n                    this._path.pop();\n                    if ('/' !== c && '\\\\' !== c) {\n                      this._path.push('');\n                    }\n                  } else if ('.' === buffer && '/' !== c && '\\\\' !== c) {\n                    this._path.push('');\n                  } else if ('.' !== buffer) {\n                    if ('file' === this._scheme && this._path.length === 0 &&\n                      buffer.length === 2 && ALPHA.test(buffer[0]) &&\n                      buffer[1] === '|') {\n                      buffer = buffer[0] + ':';\n                    }\n                    this._path.push(buffer);\n                  }\n                  buffer = '';\n                  if ('?' === c) {\n                    this._query = '?';\n                    state = 'query';\n                  } else if ('#' === c) {\n                    this._fragment = '#';\n                    state = 'fragment';\n                  }\n                } else if ('\\t' !== c && '\\n' !== c && '\\r' !== c) {\n                  buffer += percentEscape(c);\n                }\n                break;\n\n              case 'query':\n                if (!stateOverride && '#' === c) {\n                  this._fragment = '#';\n                  state = 'fragment';\n                } else if (EOF !== c && '\\t' !== c && '\\n' !== c && '\\r' !== c) {\n                  this._query += percentEscapeQuery(c);\n                }\n                break;\n\n              case 'fragment':\n                if (EOF !== c && '\\t' !== c && '\\n' !== c && '\\r' !== c) {\n                  this._fragment += c;\n                }\n                break;\n            }\n\n            cursor++;\n          }\n        }\n\n        function clear() {\n          this._scheme = '';\n          this._schemeData = '';\n          this._username = '';\n          this._password = null;\n          this._host = '';\n          this._port = '';\n          this._path = [];\n          this._query = '';\n          this._fragment = '';\n          this._isInvalid = false;\n          this._isRelative = false;\n        }\n\n        // Does not process domain names or IP addresses.\n        // Does not handle encoding for the query parameter.\n        function JURL(url, base /* , encoding */ ) {\n          if (base !== undefined && !(base instanceof JURL)) {\n            base = new JURL(String(base));\n          }\n\n          this._url = url;\n          clear.call(this);\n\n          var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n          // encoding = encoding || 'utf-8'\n\n          parse.call(this, input, null, base);\n        }\n\n        JURL.prototype = {\n          toString: function() {\n            return this.href;\n          },\n          get href() {\n            if (this._isInvalid) {\n              return this._url;\n            }\n            var authority = '';\n            if ('' !== this._username || null !== this._password) {\n              authority = this._username +\n                (null !== this._password ? ':' + this._password : '') + '@';\n            }\n\n            return this.protocol +\n              (this._isRelative ? '//' + authority + this.host : '') +\n              this.pathname + this._query + this._fragment;\n          },\n          set href(href) {\n            clear.call(this);\n            parse.call(this, href);\n          },\n\n          get protocol() {\n            return this._scheme + ':';\n          },\n          set protocol(protocol) {\n            if (this._isInvalid) {\n              return;\n            }\n            parse.call(this, protocol + ':', 'scheme start');\n          },\n\n          get host() {\n            return this._isInvalid ? '' : this._port ?\n              this._host + ':' + this._port : this._host;\n          },\n          set host(host) {\n            if (this._isInvalid || !this._isRelative) {\n              return;\n            }\n            parse.call(this, host, 'host');\n          },\n\n          get hostname() {\n            return this._host;\n          },\n          set hostname(hostname) {\n            if (this._isInvalid || !this._isRelative) {\n              return;\n            }\n            parse.call(this, hostname, 'hostname');\n          },\n\n          get port() {\n            return this._port;\n          },\n          set port(port) {\n            if (this._isInvalid || !this._isRelative) {\n              return;\n            }\n            parse.call(this, port, 'port');\n          },\n\n          get pathname() {\n            return this._isInvalid ? '' : this._isRelative ?\n              '/' + this._path.join('/') : this._schemeData;\n          },\n          set pathname(pathname) {\n            if (this._isInvalid || !this._isRelative) {\n              return;\n            }\n            this._path = [];\n            parse.call(this, pathname, 'relative path start');\n          },\n\n          get search() {\n            return this._isInvalid || !this._query || '?' === this._query ?\n              '' : this._query;\n          },\n          set search(search) {\n            if (this._isInvalid || !this._isRelative) {\n              return;\n            }\n            this._query = '?';\n            if ('?' === search[0]) {\n              search = search.slice(1);\n            }\n            parse.call(this, search, 'query');\n          },\n\n          get hash() {\n            return this._isInvalid || !this._fragment || '#' === this._fragment ?\n              '' : this._fragment;\n          },\n          set hash(hash) {\n            if (this._isInvalid) {\n              return;\n            }\n            this._fragment = '#';\n            if ('#' === hash[0]) {\n              hash = hash.slice(1);\n            }\n            parse.call(this, hash, 'fragment');\n          },\n\n          get origin() {\n            var host;\n            if (this._isInvalid || !this._scheme) {\n              return '';\n            }\n            // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n            // Gecko throws error for \"data://\"\n            // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n            // Gecko returns String(\"\") for file: mailto:\n            // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n            switch (this._scheme) {\n              case 'data':\n              case 'file':\n              case 'javascript':\n              case 'mailto':\n                return 'null';\n            }\n            host = this.host;\n            if (!host) {\n              return '';\n            }\n            return this._scheme + '://' + host;\n          }\n        };\n\n        // Copy over the static methods\n        var OriginalURL = scope.URL;\n        if (OriginalURL) {\n          JURL.createObjectURL = function(blob) {\n            // IE extension allows a second optional options argument.\n            // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n            return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n          };\n          JURL.revokeObjectURL = function(url) {\n            OriginalURL.revokeObjectURL(url);\n          };\n        }\n\n        scope.URL = JURL;\n      })(globalScope);\n\n      exports.FONT_IDENTITY_MATRIX = FONT_IDENTITY_MATRIX;\n      exports.IDENTITY_MATRIX = IDENTITY_MATRIX;\n      exports.OPS = OPS;\n      exports.VERBOSITY_LEVELS = VERBOSITY_LEVELS;\n      exports.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\n      exports.AnnotationBorderStyleType = AnnotationBorderStyleType;\n      exports.AnnotationFieldFlag = AnnotationFieldFlag;\n      exports.AnnotationFlag = AnnotationFlag;\n      exports.AnnotationType = AnnotationType;\n      exports.FontType = FontType;\n      exports.ImageKind = ImageKind;\n      exports.InvalidPDFException = InvalidPDFException;\n      exports.MessageHandler = MessageHandler;\n      exports.MissingDataException = MissingDataException;\n      exports.MissingPDFException = MissingPDFException;\n      exports.NotImplementedException = NotImplementedException;\n      exports.PageViewport = PageViewport;\n      exports.PasswordException = PasswordException;\n      exports.PasswordResponses = PasswordResponses;\n      exports.StatTimer = StatTimer;\n      exports.StreamType = StreamType;\n      exports.TextRenderingMode = TextRenderingMode;\n      exports.UnexpectedResponseException = UnexpectedResponseException;\n      exports.UnknownErrorException = UnknownErrorException;\n      exports.Util = Util;\n      exports.XRefParseException = XRefParseException;\n      exports.arrayByteLength = arrayByteLength;\n      exports.arraysToBytes = arraysToBytes;\n      exports.assert = assert;\n      exports.bytesToString = bytesToString;\n      exports.createBlob = createBlob;\n      exports.createPromiseCapability = createPromiseCapability;\n      exports.createObjectURL = createObjectURL;\n      exports.deprecated = deprecated;\n      exports.error = error;\n      exports.getLookupTableFactory = getLookupTableFactory;\n      exports.getVerbosityLevel = getVerbosityLevel;\n      exports.globalScope = globalScope;\n      exports.info = info;\n      exports.isArray = isArray;\n      exports.isArrayBuffer = isArrayBuffer;\n      exports.isBool = isBool;\n      exports.isEmptyObj = isEmptyObj;\n      exports.isInt = isInt;\n      exports.isNum = isNum;\n      exports.isString = isString;\n      exports.isSpace = isSpace;\n      exports.isSameOrigin = isSameOrigin;\n      exports.isValidUrl = isValidUrl;\n      exports.isLittleEndian = isLittleEndian;\n      exports.isEvalSupported = isEvalSupported;\n      exports.loadJpegStream = loadJpegStream;\n      exports.log2 = log2;\n      exports.readInt8 = readInt8;\n      exports.readUint16 = readUint16;\n      exports.readUint32 = readUint32;\n      exports.removeNullCharacters = removeNullCharacters;\n      exports.setVerbosityLevel = setVerbosityLevel;\n      exports.shadow = shadow;\n      exports.string32 = string32;\n      exports.stringToBytes = stringToBytes;\n      exports.stringToPDFString = stringToPDFString;\n      exports.stringToUTF8String = stringToUTF8String;\n      exports.utf8StringToString = utf8StringToString;\n      exports.warn = warn;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayDOMUtils = {}), root.pdfjsSharedUtil);\n      }\n    }(this, function(exports, sharedUtil) {\n\n      var removeNullCharacters = sharedUtil.removeNullCharacters;\n      var warn = sharedUtil.warn;\n\n      /**\n       * Optimised CSS custom property getter/setter.\n       * @class\n       */\n      var CustomStyle = (function CustomStyleClosure() {\n\n        // As noted on: http://www.zachstronaut.com/posts/2009/02/17/\n        //              animate-css-transforms-firefox-webkit.html\n        // in some versions of IE9 it is critical that ms appear in this list\n        // before Moz\n        var prefixes = ['ms', 'Moz', 'Webkit', 'O'];\n        var _cache = Object.create(null);\n\n        function CustomStyle() {}\n\n        CustomStyle.getProp = function get(propName, element) {\n          // check cache only when no element is given\n          if (arguments.length === 1 && typeof _cache[propName] === 'string') {\n            return _cache[propName];\n          }\n\n          element = element || document.documentElement;\n          var style = element.style,\n            prefixed, uPropName;\n\n          // test standard property first\n          if (typeof style[propName] === 'string') {\n            return (_cache[propName] = propName);\n          }\n\n          // capitalize\n          uPropName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n          // test vendor specific properties\n          for (var i = 0, l = prefixes.length; i < l; i++) {\n            prefixed = prefixes[i] + uPropName;\n            if (typeof style[prefixed] === 'string') {\n              return (_cache[propName] = prefixed);\n            }\n          }\n\n          //if all fails then set to undefined\n          return (_cache[propName] = 'undefined');\n        };\n\n        CustomStyle.setProp = function set(propName, element, str) {\n          var prop = this.getProp(propName);\n          if (prop !== 'undefined') {\n            element.style[prop] = str;\n          }\n        };\n\n        return CustomStyle;\n      })();\n\n      function hasCanvasTypedArrays() {\n        var canvas = document.createElement('canvas');\n        canvas.width = canvas.height = 1;\n        var ctx = canvas.getContext('2d');\n        var imageData = ctx.createImageData(1, 1);\n        return (typeof imageData.data.buffer !== 'undefined');\n      }\n\n      var LinkTarget = {\n        NONE: 0, // Default value.\n        SELF: 1,\n        BLANK: 2,\n        PARENT: 3,\n        TOP: 4,\n      };\n\n      var LinkTargetStringMap = [\n        '',\n        '_self',\n        '_blank',\n        '_parent',\n        '_top'\n      ];\n\n      /**\n       * @typedef ExternalLinkParameters\n       * @typedef {Object} ExternalLinkParameters\n       * @property {string} url - An absolute URL.\n       * @property {LinkTarget} target - The link target.\n       * @property {string} rel - The link relationship.\n       */\n\n      /**\n       * Adds various attributes (href, title, target, rel) to hyperlinks.\n       * @param {HTMLLinkElement} link - The link element.\n       * @param {ExternalLinkParameters} params\n       */\n      function addLinkAttributes(link, params) {\n        var url = params && params.url;\n        link.href = link.title = (url ? removeNullCharacters(url) : '');\n\n        if (url) {\n          var target = params.target;\n          if (typeof target === 'undefined') {\n            target = getDefaultSetting('externalLinkTarget');\n          }\n          link.target = LinkTargetStringMap[target];\n\n          var rel = params.rel;\n          if (typeof rel === 'undefined') {\n            rel = getDefaultSetting('externalLinkRel');\n          }\n          link.rel = rel;\n        }\n      }\n\n      // Gets the file name from a given URL.\n      function getFilenameFromUrl(url) {\n        var anchor = url.indexOf('#');\n        var query = url.indexOf('?');\n        var end = Math.min(\n          anchor > 0 ? anchor : url.length,\n          query > 0 ? query : url.length);\n        return url.substring(url.lastIndexOf('/', end) + 1, end);\n      }\n\n      function getDefaultSetting(id) {\n        // The list of the settings and their default is maintained for backward\n        // compatibility and shall not be extended or modified. See also global.js.\n        var globalSettings = sharedUtil.globalScope.PDFJS;\n        switch (id) {\n          case 'pdfBug':\n            return globalSettings ? globalSettings.pdfBug : false;\n          case 'disableAutoFetch':\n            return globalSettings ? globalSettings.disableAutoFetch : false;\n          case 'disableStream':\n            return globalSettings ? globalSettings.disableStream : false;\n          case 'disableRange':\n            return globalSettings ? globalSettings.disableRange : false;\n          case 'disableFontFace':\n            return globalSettings ? globalSettings.disableFontFace : false;\n          case 'disableCreateObjectURL':\n            return globalSettings ? globalSettings.disableCreateObjectURL : false;\n          case 'disableWebGL':\n            return globalSettings ? globalSettings.disableWebGL : true;\n          case 'cMapUrl':\n            return globalSettings ? globalSettings.cMapUrl : null;\n          case 'cMapPacked':\n            return globalSettings ? globalSettings.cMapPacked : false;\n          case 'postMessageTransfers':\n            return globalSettings ? globalSettings.postMessageTransfers : true;\n          case 'workerSrc':\n            return globalSettings ? globalSettings.workerSrc : null;\n          case 'disableWorker':\n            return globalSettings ? globalSettings.disableWorker : false;\n          case 'maxImageSize':\n            return globalSettings ? globalSettings.maxImageSize : -1;\n          case 'imageResourcesPath':\n            return globalSettings ? globalSettings.imageResourcesPath : '';\n          case 'isEvalSupported':\n            return globalSettings ? globalSettings.isEvalSupported : true;\n          case 'externalLinkTarget':\n            if (!globalSettings) {\n              return LinkTarget.NONE;\n            }\n            switch (globalSettings.externalLinkTarget) {\n              case LinkTarget.NONE:\n              case LinkTarget.SELF:\n              case LinkTarget.BLANK:\n              case LinkTarget.PARENT:\n              case LinkTarget.TOP:\n                return globalSettings.externalLinkTarget;\n            }\n            warn('PDFJS.externalLinkTarget is invalid: ' +\n              globalSettings.externalLinkTarget);\n            // Reset the external link target, to suppress further warnings.\n            globalSettings.externalLinkTarget = LinkTarget.NONE;\n            return LinkTarget.NONE;\n          case 'externalLinkRel':\n            return globalSettings ? globalSettings.externalLinkRel : 'noreferrer';\n          case 'enableStats':\n            return !!(globalSettings && globalSettings.enableStats);\n          default:\n            throw new Error('Unknown default setting: ' + id);\n        }\n      }\n\n      function isExternalLinkTargetSet() {\n        var externalLinkTarget = getDefaultSetting('externalLinkTarget');\n        switch (externalLinkTarget) {\n          case LinkTarget.NONE:\n            return false;\n          case LinkTarget.SELF:\n          case LinkTarget.BLANK:\n          case LinkTarget.PARENT:\n          case LinkTarget.TOP:\n            return true;\n        }\n      }\n\n      exports.CustomStyle = CustomStyle;\n      exports.addLinkAttributes = addLinkAttributes;\n      exports.isExternalLinkTargetSet = isExternalLinkTargetSet;\n      exports.getFilenameFromUrl = getFilenameFromUrl;\n      exports.LinkTarget = LinkTarget;\n      exports.hasCanvasTypedArrays = hasCanvasTypedArrays;\n      exports.getDefaultSetting = getDefaultSetting;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayFontLoader = {}), root.pdfjsSharedUtil);\n      }\n    }(this, function(exports, sharedUtil) {\n\n      var assert = sharedUtil.assert;\n      var bytesToString = sharedUtil.bytesToString;\n      var string32 = sharedUtil.string32;\n      var shadow = sharedUtil.shadow;\n      var warn = sharedUtil.warn;\n\n      function FontLoader(docId) {\n        this.docId = docId;\n        this.styleElement = null;\n        this.nativeFontFaces = [];\n        this.loadTestFontId = 0;\n        this.loadingContext = {\n          requests: [],\n          nextRequestId: 0\n        };\n      }\n      FontLoader.prototype = {\n        insertRule: function fontLoaderInsertRule(rule) {\n          var styleElement = this.styleElement;\n          if (!styleElement) {\n            styleElement = this.styleElement = document.createElement('style');\n            styleElement.id = 'PDFJS_FONT_STYLE_TAG_' + this.docId;\n            document.documentElement.getElementsByTagName('head')[0].appendChild(\n              styleElement);\n          }\n\n          var styleSheet = styleElement.sheet;\n          styleSheet.insertRule(rule, styleSheet.cssRules.length);\n        },\n\n        clear: function fontLoaderClear() {\n          var styleElement = this.styleElement;\n          if (styleElement) {\n            styleElement.parentNode.removeChild(styleElement);\n            styleElement = this.styleElement = null;\n          }\n          this.nativeFontFaces.forEach(function(nativeFontFace) {\n            document.fonts.delete(nativeFontFace);\n          });\n          this.nativeFontFaces.length = 0;\n        },\n        get loadTestFont() {\n          // This is a CFF font with 1 glyph for '.' that fills its entire width and\n          // height.\n          return shadow(this, 'loadTestFont', atob(\n            'T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' +\n            'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' +\n            'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' +\n            'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' +\n            'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' +\n            'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' +\n            'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' +\n            'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' +\n            'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' +\n            'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' +\n            'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' +\n            'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' +\n            'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' +\n            'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n            'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n            'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n            'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' +\n            'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' +\n            'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' +\n            'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' +\n            'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' +\n            'ABAAAAAAAAAAAD6AAAAAAAAA=='\n          ));\n        },\n\n        addNativeFontFace: function fontLoader_addNativeFontFace(nativeFontFace) {\n          this.nativeFontFaces.push(nativeFontFace);\n          document.fonts.add(nativeFontFace);\n        },\n\n        bind: function fontLoaderBind(fonts, callback) {\n          var rules = [];\n          var fontsToLoad = [];\n          var fontLoadPromises = [];\n          var getNativeFontPromise = function(nativeFontFace) {\n            // Return a promise that is always fulfilled, even when the font fails to\n            // load.\n            return nativeFontFace.loaded.catch(function(e) {\n              warn('Failed to load font \"' + nativeFontFace.family + '\": ' + e);\n            });\n          };\n          for (var i = 0, ii = fonts.length; i < ii; i++) {\n            var font = fonts[i];\n\n            // Add the font to the DOM only once or skip if the font\n            // is already loaded.\n            if (font.attached || font.loading === false) {\n              continue;\n            }\n            font.attached = true;\n\n            if (FontLoader.isFontLoadingAPISupported) {\n              var nativeFontFace = font.createNativeFontFace();\n              if (nativeFontFace) {\n                this.addNativeFontFace(nativeFontFace);\n                fontLoadPromises.push(getNativeFontPromise(nativeFontFace));\n              }\n            } else {\n              var rule = font.createFontFaceRule();\n              if (rule) {\n                this.insertRule(rule);\n                rules.push(rule);\n                fontsToLoad.push(font);\n              }\n            }\n          }\n\n          var request = this.queueLoadingCallback(callback);\n          if (FontLoader.isFontLoadingAPISupported) {\n            Promise.all(fontLoadPromises).then(function() {\n              request.complete();\n            });\n          } else if (rules.length > 0 && !FontLoader.isSyncFontLoadingSupported) {\n            this.prepareFontLoadEvent(rules, fontsToLoad, request);\n          } else {\n            request.complete();\n          }\n        },\n\n        queueLoadingCallback: function FontLoader_queueLoadingCallback(callback) {\n          function LoadLoader_completeRequest() {\n            assert(!request.end, 'completeRequest() cannot be called twice');\n            request.end = Date.now();\n\n            // sending all completed requests in order how they were queued\n            while (context.requests.length > 0 && context.requests[0].end) {\n              var otherRequest = context.requests.shift();\n              setTimeout(otherRequest.callback, 0);\n            }\n          }\n\n          var context = this.loadingContext;\n          var requestId = 'pdfjs-font-loading-' + (context.nextRequestId++);\n          var request = {\n            id: requestId,\n            complete: LoadLoader_completeRequest,\n            callback: callback,\n            started: Date.now()\n          };\n          context.requests.push(request);\n          return request;\n        },\n\n        prepareFontLoadEvent: function fontLoaderPrepareFontLoadEvent(rules,\n          fonts,\n          request) {\n          /** Hack begin */\n          // There's currently no event when a font has finished downloading so the\n          // following code is a dirty hack to 'guess' when a font is\n          // ready. It's assumed fonts are loaded in order, so add a known test\n          // font after the desired fonts and then test for the loading of that\n          // test font.\n\n          function int32(data, offset) {\n            return (data.charCodeAt(offset) << 24) |\n              (data.charCodeAt(offset + 1) << 16) |\n              (data.charCodeAt(offset + 2) << 8) |\n              (data.charCodeAt(offset + 3) & 0xff);\n          }\n\n          function spliceString(s, offset, remove, insert) {\n            var chunk1 = s.substr(0, offset);\n            var chunk2 = s.substr(offset + remove);\n            return chunk1 + insert + chunk2;\n          }\n\n          var i, ii;\n\n          var canvas = document.createElement('canvas');\n          canvas.width = 1;\n          canvas.height = 1;\n          var ctx = canvas.getContext('2d');\n\n          var called = 0;\n\n          function isFontReady(name, callback) {\n            called++;\n            // With setTimeout clamping this gives the font ~100ms to load.\n            if (called > 30) {\n              warn('Load test font never loaded.');\n              callback();\n              return;\n            }\n            ctx.font = '30px ' + name;\n            ctx.fillText('.', 0, 20);\n            var imageData = ctx.getImageData(0, 0, 1, 1);\n            if (imageData.data[3] > 0) {\n              callback();\n              return;\n            }\n            setTimeout(isFontReady.bind(null, name, callback));\n          }\n\n          var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n          // Chromium seems to cache fonts based on a hash of the actual font data,\n          // so the font must be modified for each load test else it will appear to\n          // be loaded already.\n          // TODO: This could maybe be made faster by avoiding the btoa of the full\n          // font by splitting it in chunks before hand and padding the font id.\n          var data = this.loadTestFont;\n          var COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n          data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length,\n            loadTestFontId);\n          // CFF checksum is important for IE, adjusting it\n          var CFF_CHECKSUM_OFFSET = 16;\n          var XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n          var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n          for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n            checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n          }\n          if (i < loadTestFontId.length) { // align to 4 bytes boundary\n            checksum = (checksum - XXXX_VALUE +\n              int32(loadTestFontId + 'XXX', i)) | 0;\n          }\n          data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n          var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n          var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' +\n            url + '}';\n          this.insertRule(rule);\n\n          var names = [];\n          for (i = 0, ii = fonts.length; i < ii; i++) {\n            names.push(fonts[i].loadedName);\n          }\n          names.push(loadTestFontId);\n\n          var div = document.createElement('div');\n          div.setAttribute('style',\n            'visibility: hidden;' +\n            'width: 10px; height: 10px;' +\n            'position: absolute; top: 0px; left: 0px;');\n          for (i = 0, ii = names.length; i < ii; ++i) {\n            var span = document.createElement('span');\n            span.textContent = 'Hi';\n            span.style.fontFamily = names[i];\n            div.appendChild(span);\n          }\n          document.body.appendChild(div);\n\n          isFontReady(loadTestFontId, function() {\n            document.body.removeChild(div);\n            request.complete();\n          });\n          /** Hack end */\n        }\n      };\n      FontLoader.isFontLoadingAPISupported = typeof document !== 'undefined' &&\n        !!document.fonts;\n      Object.defineProperty(FontLoader, 'isSyncFontLoadingSupported', {\n        get: function() {\n          if (typeof navigator === 'undefined') {\n            // node.js - we can pretend sync font loading is supported.\n            return shadow(FontLoader, 'isSyncFontLoadingSupported', true);\n          }\n\n          var supported = false;\n\n          // User agent string sniffing is bad, but there is no reliable way to tell\n          // if font is fully loaded and ready to be used with canvas.\n          var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n          if (m && m[1] >= 14) {\n            supported = true;\n          }\n          // TODO other browsers\n          return shadow(FontLoader, 'isSyncFontLoadingSupported', supported);\n        },\n        enumerable: true,\n        configurable: true\n      });\n\n      var IsEvalSupportedCached = {\n        get value() {\n          return shadow(this, 'value', sharedUtil.isEvalSupported());\n        }\n      };\n\n      var FontFaceObject = (function FontFaceObjectClosure() {\n        function FontFaceObject(translatedData, options) {\n          this.compiledGlyphs = Object.create(null);\n          // importing translated data\n          for (var i in translatedData) {\n            this[i] = translatedData[i];\n          }\n          this.options = options;\n        }\n        FontFaceObject.prototype = {\n          createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n            if (!this.data) {\n              return null;\n            }\n\n            if (this.options.disableFontFace) {\n              this.disableFontFace = true;\n              return null;\n            }\n\n            var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n            if (this.options.fontRegistry) {\n              this.options.fontRegistry.registerFont(this);\n            }\n            return nativeFontFace;\n          },\n\n          createFontFaceRule: function FontFaceObject_createFontFaceRule() {\n            if (!this.data) {\n              return null;\n            }\n\n            if (this.options.disableFontFace) {\n              this.disableFontFace = true;\n              return null;\n            }\n\n            var data = bytesToString(new Uint8Array(this.data));\n            var fontName = this.loadedName;\n\n            // Add the font-face rule to the document\n            var url = ('url(data:' + this.mimetype + ';base64,' + btoa(data) + ');');\n            var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n\n            if (this.options.fontRegistry) {\n              this.options.fontRegistry.registerFont(this, url);\n            }\n\n            return rule;\n          },\n\n          getPathGenerator: function FontFaceObject_getPathGenerator(objs, character) {\n            if (!(character in this.compiledGlyphs)) {\n              var cmds = objs.get(this.loadedName + '_path_' + character);\n              var current, i, len;\n\n              // If we can, compile cmds into JS for MAXIMUM SPEED\n              if (this.options.isEvalSupported && IsEvalSupportedCached.value) {\n                var args, js = '';\n                for (i = 0, len = cmds.length; i < len; i++) {\n                  current = cmds[i];\n\n                  if (current.args !== undefined) {\n                    args = current.args.join(',');\n                  } else {\n                    args = '';\n                  }\n\n                  js += 'c.' + current.cmd + '(' + args + ');\\n';\n                }\n                /* jshint -W054 */\n                this.compiledGlyphs[character] = new Function('c', 'size', js);\n              } else {\n                // But fall back on using Function.prototype.apply() if we're\n                // blocked from using eval() for whatever reason (like CSP policies)\n                this.compiledGlyphs[character] = function(c, size) {\n                  for (i = 0, len = cmds.length; i < len; i++) {\n                    current = cmds[i];\n\n                    if (current.cmd === 'scale') {\n                      current.args = [size, -size];\n                    }\n\n                    c[current.cmd].apply(c, current.args);\n                  }\n                };\n              }\n            }\n            return this.compiledGlyphs[character];\n          }\n        };\n        return FontFaceObject;\n      })();\n\n      exports.FontFaceObject = FontFaceObject;\n      exports.FontLoader = FontLoader;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayMetadata = {}), root.pdfjsSharedUtil);\n      }\n    }(this, function(exports, sharedUtil) {\n\n      var error = sharedUtil.error;\n\n      function fixMetadata(meta) {\n        return meta.replace(/>\\\\376\\\\377([^<]+)/g, function(all, codes) {\n          var bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g,\n            function(code, d1, d2, d3) {\n              return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n            });\n          var chars = '';\n          for (var i = 0; i < bytes.length; i += 2) {\n            var code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n            chars += code >= 32 && code < 127 && code !== 60 && code !== 62 &&\n              code !== 38 && false ? String.fromCharCode(code) :\n              '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n          }\n          return '>' + chars;\n        });\n      }\n\n      function Metadata(meta) {\n        if (typeof meta === 'string') {\n          // Ghostscript produces invalid metadata\n          meta = fixMetadata(meta);\n\n          var parser = new DOMParser();\n          meta = parser.parseFromString(meta, 'application/xml');\n        } else if (!(meta instanceof Document)) {\n          error('Metadata: Invalid metadata object');\n        }\n\n        this.metaDocument = meta;\n        this.metadata = Object.create(null);\n        this.parse();\n      }\n\n      Metadata.prototype = {\n        parse: function Metadata_parse() {\n          var doc = this.metaDocument;\n          var rdf = doc.documentElement;\n\n          if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') { // Wrapped in <xmpmeta>\n            rdf = rdf.firstChild;\n            while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n              rdf = rdf.nextSibling;\n            }\n          }\n\n          var nodeName = (rdf) ? rdf.nodeName.toLowerCase() : null;\n          if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n            return;\n          }\n\n          var children = rdf.childNodes,\n            desc, entry, name, i, ii, length, iLength;\n          for (i = 0, length = children.length; i < length; i++) {\n            desc = children[i];\n            if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n              continue;\n            }\n\n            for (ii = 0, iLength = desc.childNodes.length; ii < iLength; ii++) {\n              if (desc.childNodes[ii].nodeName.toLowerCase() !== '#text') {\n                entry = desc.childNodes[ii];\n                name = entry.nodeName.toLowerCase();\n                this.metadata[name] = entry.textContent.trim();\n              }\n            }\n          }\n        },\n\n        get: function Metadata_get(name) {\n          return this.metadata[name] || null;\n        },\n\n        has: function Metadata_has(name) {\n          return typeof this.metadata[name] !== 'undefined';\n        }\n      };\n\n      exports.Metadata = Metadata;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplaySVG = {}), root.pdfjsSharedUtil);\n      }\n    }(this, function(exports, sharedUtil) {\n      var FONT_IDENTITY_MATRIX = sharedUtil.FONT_IDENTITY_MATRIX;\n      var IDENTITY_MATRIX = sharedUtil.IDENTITY_MATRIX;\n      var ImageKind = sharedUtil.ImageKind;\n      var OPS = sharedUtil.OPS;\n      var Util = sharedUtil.Util;\n      var isNum = sharedUtil.isNum;\n      var isArray = sharedUtil.isArray;\n      var warn = sharedUtil.warn;\n      var createObjectURL = sharedUtil.createObjectURL;\n\n      var SVG_DEFAULTS = {\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n        fillColor: '#000000'\n      };\n\n      var convertImgDataToPng = (function convertImgDataToPngClosure() {\n        var PNG_HEADER =\n          new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n        var CHUNK_WRAPPER_SIZE = 12;\n\n        var crcTable = new Int32Array(256);\n        for (var i = 0; i < 256; i++) {\n          var c = i;\n          for (var h = 0; h < 8; h++) {\n            if (c & 1) {\n              c = 0xedB88320 ^ ((c >> 1) & 0x7fffffff);\n            } else {\n              c = (c >> 1) & 0x7fffffff;\n            }\n          }\n          crcTable[i] = c;\n        }\n\n        function crc32(data, start, end) {\n          var crc = -1;\n          for (var i = start; i < end; i++) {\n            var a = (crc ^ data[i]) & 0xff;\n            var b = crcTable[a];\n            crc = (crc >>> 8) ^ b;\n          }\n          return crc ^ -1;\n        }\n\n        function writePngChunk(type, body, data, offset) {\n          var p = offset;\n          var len = body.length;\n\n          data[p] = len >> 24 & 0xff;\n          data[p + 1] = len >> 16 & 0xff;\n          data[p + 2] = len >> 8 & 0xff;\n          data[p + 3] = len & 0xff;\n          p += 4;\n\n          data[p] = type.charCodeAt(0) & 0xff;\n          data[p + 1] = type.charCodeAt(1) & 0xff;\n          data[p + 2] = type.charCodeAt(2) & 0xff;\n          data[p + 3] = type.charCodeAt(3) & 0xff;\n          p += 4;\n\n          data.set(body, p);\n          p += body.length;\n\n          var crc = crc32(data, offset + 4, p);\n\n          data[p] = crc >> 24 & 0xff;\n          data[p + 1] = crc >> 16 & 0xff;\n          data[p + 2] = crc >> 8 & 0xff;\n          data[p + 3] = crc & 0xff;\n        }\n\n        function adler32(data, start, end) {\n          var a = 1;\n          var b = 0;\n          for (var i = start; i < end; ++i) {\n            a = (a + (data[i] & 0xff)) % 65521;\n            b = (b + a) % 65521;\n          }\n          return (b << 16) | a;\n        }\n\n        function encode(imgData, kind, forceDataSchema) {\n          var width = imgData.width;\n          var height = imgData.height;\n          var bitDepth, colorType, lineSize;\n          var bytes = imgData.data;\n\n          switch (kind) {\n            case ImageKind.GRAYSCALE_1BPP:\n              colorType = 0;\n              bitDepth = 1;\n              lineSize = (width + 7) >> 3;\n              break;\n            case ImageKind.RGB_24BPP:\n              colorType = 2;\n              bitDepth = 8;\n              lineSize = width * 3;\n              break;\n            case ImageKind.RGBA_32BPP:\n              colorType = 6;\n              bitDepth = 8;\n              lineSize = width * 4;\n              break;\n            default:\n              throw new Error('invalid format');\n          }\n\n          // prefix every row with predictor 0\n          var literals = new Uint8Array((1 + lineSize) * height);\n          var offsetLiterals = 0,\n            offsetBytes = 0;\n          var y, i;\n          for (y = 0; y < height; ++y) {\n            literals[offsetLiterals++] = 0; // no prediction\n            literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize),\n              offsetLiterals);\n            offsetBytes += lineSize;\n            offsetLiterals += lineSize;\n          }\n\n          if (kind === ImageKind.GRAYSCALE_1BPP) {\n            // inverting for B/W\n            offsetLiterals = 0;\n            for (y = 0; y < height; y++) {\n              offsetLiterals++; // skipping predictor\n              for (i = 0; i < lineSize; i++) {\n                literals[offsetLiterals++] ^= 0xFF;\n              }\n            }\n          }\n\n          var ihdr = new Uint8Array([\n            width >> 24 & 0xff,\n            width >> 16 & 0xff,\n            width >> 8 & 0xff,\n            width & 0xff,\n            height >> 24 & 0xff,\n            height >> 16 & 0xff,\n            height >> 8 & 0xff,\n            height & 0xff,\n            bitDepth, // bit depth\n            colorType, // color type\n            0x00, // compression method\n            0x00, // filter method\n            0x00 // interlace method\n          ]);\n\n          var len = literals.length;\n          var maxBlockLength = 0xFFFF;\n\n          var deflateBlocks = Math.ceil(len / maxBlockLength);\n          var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n          var pi = 0;\n          idat[pi++] = 0x78; // compression method and flags\n          idat[pi++] = 0x9c; // flags\n\n          var pos = 0;\n          while (len > maxBlockLength) {\n            // writing non-final DEFLATE blocks type 0 and length of 65535\n            idat[pi++] = 0x00;\n            idat[pi++] = 0xff;\n            idat[pi++] = 0xff;\n            idat[pi++] = 0x00;\n            idat[pi++] = 0x00;\n            idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n            pi += maxBlockLength;\n            pos += maxBlockLength;\n            len -= maxBlockLength;\n          }\n\n          // writing non-final DEFLATE blocks type 0\n          idat[pi++] = 0x01;\n          idat[pi++] = len & 0xff;\n          idat[pi++] = len >> 8 & 0xff;\n          idat[pi++] = (~len & 0xffff) & 0xff;\n          idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n          idat.set(literals.subarray(pos), pi);\n          pi += literals.length - pos;\n\n          var adler = adler32(literals, 0, literals.length); // checksum\n          idat[pi++] = adler >> 24 & 0xff;\n          idat[pi++] = adler >> 16 & 0xff;\n          idat[pi++] = adler >> 8 & 0xff;\n          idat[pi++] = adler & 0xff;\n\n          // PNG will consists: header, IHDR+data, IDAT+data, and IEND.\n          var pngLength = PNG_HEADER.length + (CHUNK_WRAPPER_SIZE * 3) +\n            ihdr.length + idat.length;\n          var data = new Uint8Array(pngLength);\n          var offset = 0;\n          data.set(PNG_HEADER, offset);\n          offset += PNG_HEADER.length;\n          writePngChunk('IHDR', ihdr, data, offset);\n          offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n          writePngChunk('IDATA', idat, data, offset);\n          offset += CHUNK_WRAPPER_SIZE + idat.length;\n          writePngChunk('IEND', new Uint8Array(0), data, offset);\n\n          return createObjectURL(data, 'image/png', forceDataSchema);\n        }\n\n        return function convertImgDataToPng(imgData, forceDataSchema) {\n          var kind = (imgData.kind === undefined ?\n            ImageKind.GRAYSCALE_1BPP : imgData.kind);\n          return encode(imgData, kind, forceDataSchema);\n        };\n      })();\n\n      var SVGExtraState = (function SVGExtraStateClosure() {\n        function SVGExtraState() {\n          this.fontSizeScale = 1;\n          this.fontWeight = SVG_DEFAULTS.fontWeight;\n          this.fontSize = 0;\n\n          this.textMatrix = IDENTITY_MATRIX;\n          this.fontMatrix = FONT_IDENTITY_MATRIX;\n          this.leading = 0;\n\n          // Current point (in user coordinates)\n          this.x = 0;\n          this.y = 0;\n\n          // Start of text line (in text coordinates)\n          this.lineX = 0;\n          this.lineY = 0;\n\n          // Character and word spacing\n          this.charSpacing = 0;\n          this.wordSpacing = 0;\n          this.textHScale = 1;\n          this.textRise = 0;\n\n          // Default foreground and background colors\n          this.fillColor = SVG_DEFAULTS.fillColor;\n          this.strokeColor = '#000000';\n\n          this.fillAlpha = 1;\n          this.strokeAlpha = 1;\n          this.lineWidth = 1;\n          this.lineJoin = '';\n          this.lineCap = '';\n          this.miterLimit = 0;\n\n          this.dashArray = [];\n          this.dashPhase = 0;\n\n          this.dependencies = [];\n\n          // Clipping\n          this.clipId = '';\n          this.pendingClip = false;\n\n          this.maskId = '';\n        }\n\n        SVGExtraState.prototype = {\n          clone: function SVGExtraState_clone() {\n            return Object.create(this);\n          },\n          setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n            this.x = x;\n            this.y = y;\n          }\n        };\n        return SVGExtraState;\n      })();\n\n      var SVGGraphics = (function SVGGraphicsClosure() {\n        function createScratchSVG(width, height) {\n          var NS = 'http://www.w3.org/2000/svg';\n          var svg = document.createElementNS(NS, 'svg:svg');\n          svg.setAttributeNS(null, 'version', '1.1');\n          svg.setAttributeNS(null, 'width', width + 'px');\n          svg.setAttributeNS(null, 'height', height + 'px');\n          svg.setAttributeNS(null, 'viewBox', '0 0 ' + width + ' ' + height);\n          return svg;\n        }\n\n        function opListToTree(opList) {\n          var opTree = [];\n          var tmp = [];\n          var opListLen = opList.length;\n\n          for (var x = 0; x < opListLen; x++) {\n            if (opList[x].fn === 'save') {\n              opTree.push({\n                'fnId': 92,\n                'fn': 'group',\n                'items': []\n              });\n              tmp.push(opTree);\n              opTree = opTree[opTree.length - 1].items;\n              continue;\n            }\n\n            if (opList[x].fn === 'restore') {\n              opTree = tmp.pop();\n            } else {\n              opTree.push(opList[x]);\n            }\n          }\n          return opTree;\n        }\n\n        /**\n         * Formats float number.\n         * @param value {number} number to format.\n         * @returns {string}\n         */\n        function pf(value) {\n          if (value === (value | 0)) { // integer number\n            return value.toString();\n          }\n          var s = value.toFixed(10);\n          var i = s.length - 1;\n          if (s[i] !== '0') {\n            return s;\n          }\n          // removing trailing zeros\n          do {\n            i--;\n          } while (s[i] === '0');\n          return s.substr(0, s[i] === '.' ? i : i + 1);\n        }\n\n        /**\n         * Formats transform matrix. The standard rotation, scale and translate\n         * matrices are replaced by their shorter forms, and for identity matrix\n         * returns empty string to save the memory.\n         * @param m {Array} matrix to format.\n         * @returns {string}\n         */\n        function pm(m) {\n          if (m[4] === 0 && m[5] === 0) {\n            if (m[1] === 0 && m[2] === 0) {\n              if (m[0] === 1 && m[3] === 1) {\n                return '';\n              }\n              return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n            }\n            if (m[0] === m[3] && m[1] === -m[2]) {\n              var a = Math.acos(m[0]) * 180 / Math.PI;\n              return 'rotate(' + pf(a) + ')';\n            }\n          } else {\n            if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n              return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n            }\n          }\n          return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' +\n            pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n        }\n\n        function SVGGraphics(commonObjs, objs, forceDataSchema) {\n          this.current = new SVGExtraState();\n          this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n          this.transformStack = [];\n          this.extraStack = [];\n          this.commonObjs = commonObjs;\n          this.objs = objs;\n          this.pendingEOFill = false;\n\n          this.embedFonts = false;\n          this.embeddedFonts = Object.create(null);\n          this.cssStyle = null;\n          this.forceDataSchema = !!forceDataSchema;\n        }\n\n        var NS = 'http://www.w3.org/2000/svg';\n        var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n        var XLINK_NS = 'http://www.w3.org/1999/xlink';\n        var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n        var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n        var clipCount = 0;\n        var maskCount = 0;\n\n        SVGGraphics.prototype = {\n          save: function SVGGraphics_save() {\n            this.transformStack.push(this.transformMatrix);\n            var old = this.current;\n            this.extraStack.push(old);\n            this.current = old.clone();\n          },\n\n          restore: function SVGGraphics_restore() {\n            this.transformMatrix = this.transformStack.pop();\n            this.current = this.extraStack.pop();\n\n            this.tgrp = document.createElementNS(NS, 'svg:g');\n            this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n            this.pgrp.appendChild(this.tgrp);\n          },\n\n          group: function SVGGraphics_group(items) {\n            this.save();\n            this.executeOpTree(items);\n            this.restore();\n          },\n\n          loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n            var fnArray = operatorList.fnArray;\n            var fnArrayLen = fnArray.length;\n            var argsArray = operatorList.argsArray;\n\n            var self = this;\n            for (var i = 0; i < fnArrayLen; i++) {\n              if (OPS.dependency === fnArray[i]) {\n                var deps = argsArray[i];\n                for (var n = 0, nn = deps.length; n < nn; n++) {\n                  var obj = deps[n];\n                  var common = obj.substring(0, 2) === 'g_';\n                  var promise;\n                  if (common) {\n                    promise = new Promise(function(resolve) {\n                      self.commonObjs.get(obj, resolve);\n                    });\n                  } else {\n                    promise = new Promise(function(resolve) {\n                      self.objs.get(obj, resolve);\n                    });\n                  }\n                  this.current.dependencies.push(promise);\n                }\n              }\n            }\n            return Promise.all(this.current.dependencies);\n          },\n\n          transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n            var transformMatrix = [a, b, c, d, e, f];\n            this.transformMatrix = Util.transform(this.transformMatrix,\n              transformMatrix);\n\n            this.tgrp = document.createElementNS(NS, 'svg:g');\n            this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n          },\n\n          getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n            this.svg = createScratchSVG(viewport.width, viewport.height);\n            this.viewport = viewport;\n\n            return this.loadDependencies(operatorList).then(function() {\n              this.transformMatrix = IDENTITY_MATRIX;\n              this.pgrp = document.createElementNS(NS, 'svg:g'); // Parent group\n              this.pgrp.setAttributeNS(null, 'transform', pm(viewport.transform));\n              this.tgrp = document.createElementNS(NS, 'svg:g'); // Transform group\n              this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n              this.defs = document.createElementNS(NS, 'svg:defs');\n              this.pgrp.appendChild(this.defs);\n              this.pgrp.appendChild(this.tgrp);\n              this.svg.appendChild(this.pgrp);\n              var opTree = this.convertOpList(operatorList);\n              this.executeOpTree(opTree);\n              return this.svg;\n            }.bind(this));\n          },\n\n          convertOpList: function SVGGraphics_convertOpList(operatorList) {\n            var argsArray = operatorList.argsArray;\n            var fnArray = operatorList.fnArray;\n            var fnArrayLen = fnArray.length;\n            var REVOPS = [];\n            var opList = [];\n\n            for (var op in OPS) {\n              REVOPS[OPS[op]] = op;\n            }\n\n            for (var x = 0; x < fnArrayLen; x++) {\n              var fnId = fnArray[x];\n              opList.push({\n                'fnId': fnId,\n                'fn': REVOPS[fnId],\n                'args': argsArray[x]\n              });\n            }\n            return opListToTree(opList);\n          },\n\n          executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n            var opTreeLen = opTree.length;\n            for (var x = 0; x < opTreeLen; x++) {\n              var fn = opTree[x].fn;\n              var fnId = opTree[x].fnId;\n              var args = opTree[x].args;\n\n              switch (fnId | 0) {\n                case OPS.beginText:\n                  this.beginText();\n                  break;\n                case OPS.setLeading:\n                  this.setLeading(args);\n                  break;\n                case OPS.setLeadingMoveText:\n                  this.setLeadingMoveText(args[0], args[1]);\n                  break;\n                case OPS.setFont:\n                  this.setFont(args);\n                  break;\n                case OPS.showText:\n                  this.showText(args[0]);\n                  break;\n                case OPS.showSpacedText:\n                  this.showText(args[0]);\n                  break;\n                case OPS.endText:\n                  this.endText();\n                  break;\n                case OPS.moveText:\n                  this.moveText(args[0], args[1]);\n                  break;\n                case OPS.setCharSpacing:\n                  this.setCharSpacing(args[0]);\n                  break;\n                case OPS.setWordSpacing:\n                  this.setWordSpacing(args[0]);\n                  break;\n                case OPS.setHScale:\n                  this.setHScale(args[0]);\n                  break;\n                case OPS.setTextMatrix:\n                  this.setTextMatrix(args[0], args[1], args[2],\n                    args[3], args[4], args[5]);\n                  break;\n                case OPS.setLineWidth:\n                  this.setLineWidth(args[0]);\n                  break;\n                case OPS.setLineJoin:\n                  this.setLineJoin(args[0]);\n                  break;\n                case OPS.setLineCap:\n                  this.setLineCap(args[0]);\n                  break;\n                case OPS.setMiterLimit:\n                  this.setMiterLimit(args[0]);\n                  break;\n                case OPS.setFillRGBColor:\n                  this.setFillRGBColor(args[0], args[1], args[2]);\n                  break;\n                case OPS.setStrokeRGBColor:\n                  this.setStrokeRGBColor(args[0], args[1], args[2]);\n                  break;\n                case OPS.setDash:\n                  this.setDash(args[0], args[1]);\n                  break;\n                case OPS.setGState:\n                  this.setGState(args[0]);\n                  break;\n                case OPS.fill:\n                  this.fill();\n                  break;\n                case OPS.eoFill:\n                  this.eoFill();\n                  break;\n                case OPS.stroke:\n                  this.stroke();\n                  break;\n                case OPS.fillStroke:\n                  this.fillStroke();\n                  break;\n                case OPS.eoFillStroke:\n                  this.eoFillStroke();\n                  break;\n                case OPS.clip:\n                  this.clip('nonzero');\n                  break;\n                case OPS.eoClip:\n                  this.clip('evenodd');\n                  break;\n                case OPS.paintSolidColorImageMask:\n                  this.paintSolidColorImageMask();\n                  break;\n                case OPS.paintJpegXObject:\n                  this.paintJpegXObject(args[0], args[1], args[2]);\n                  break;\n                case OPS.paintImageXObject:\n                  this.paintImageXObject(args[0]);\n                  break;\n                case OPS.paintInlineImageXObject:\n                  this.paintInlineImageXObject(args[0]);\n                  break;\n                case OPS.paintImageMaskXObject:\n                  this.paintImageMaskXObject(args[0]);\n                  break;\n                case OPS.paintFormXObjectBegin:\n                  this.paintFormXObjectBegin(args[0], args[1]);\n                  break;\n                case OPS.paintFormXObjectEnd:\n                  this.paintFormXObjectEnd();\n                  break;\n                case OPS.closePath:\n                  this.closePath();\n                  break;\n                case OPS.closeStroke:\n                  this.closeStroke();\n                  break;\n                case OPS.closeFillStroke:\n                  this.closeFillStroke();\n                  break;\n                case OPS.nextLine:\n                  this.nextLine();\n                  break;\n                case OPS.transform:\n                  this.transform(args[0], args[1], args[2], args[3],\n                    args[4], args[5]);\n                  break;\n                case OPS.constructPath:\n                  this.constructPath(args[0], args[1]);\n                  break;\n                case OPS.endPath:\n                  this.endPath();\n                  break;\n                case 92:\n                  this.group(opTree[x].items);\n                  break;\n                default:\n                  warn('Unimplemented method ' + fn);\n                  break;\n              }\n            }\n          },\n\n          setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n            this.current.wordSpacing = wordSpacing;\n          },\n\n          setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n            this.current.charSpacing = charSpacing;\n          },\n\n          nextLine: function SVGGraphics_nextLine() {\n            this.moveText(0, this.current.leading);\n          },\n\n          setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n            var current = this.current;\n            this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n\n            current.xcoords = [];\n            current.tspan = document.createElementNS(NS, 'svg:tspan');\n            current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n            current.tspan.setAttributeNS(null, 'font-size',\n              pf(current.fontSize) + 'px');\n            current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n\n            current.txtElement = document.createElementNS(NS, 'svg:text');\n            current.txtElement.appendChild(current.tspan);\n          },\n\n          beginText: function SVGGraphics_beginText() {\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n            this.current.textMatrix = IDENTITY_MATRIX;\n            this.current.lineMatrix = IDENTITY_MATRIX;\n            this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n            this.current.txtElement = document.createElementNS(NS, 'svg:text');\n            this.current.txtgrp = document.createElementNS(NS, 'svg:g');\n            this.current.xcoords = [];\n          },\n\n          moveText: function SVGGraphics_moveText(x, y) {\n            var current = this.current;\n            this.current.x = this.current.lineX += x;\n            this.current.y = this.current.lineY += y;\n\n            current.xcoords = [];\n            current.tspan = document.createElementNS(NS, 'svg:tspan');\n            current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n            current.tspan.setAttributeNS(null, 'font-size',\n              pf(current.fontSize) + 'px');\n            current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n          },\n\n          showText: function SVGGraphics_showText(glyphs) {\n            var current = this.current;\n            var font = current.font;\n            var fontSize = current.fontSize;\n\n            if (fontSize === 0) {\n              return;\n            }\n\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var fontDirection = current.fontDirection;\n            var textHScale = current.textHScale * fontDirection;\n            var glyphsLength = glyphs.length;\n            var vertical = font.vertical;\n            var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n            var x = 0,\n              i;\n            for (i = 0; i < glyphsLength; ++i) {\n              var glyph = glyphs[i];\n              if (glyph === null) {\n                // word break\n                x += fontDirection * wordSpacing;\n                continue;\n              } else if (isNum(glyph)) {\n                x += -glyph * fontSize * 0.001;\n                continue;\n              }\n              current.xcoords.push(current.x + x * textHScale);\n\n              var width = glyph.width;\n              var character = glyph.fontChar;\n              var charWidth = width * widthAdvanceScale + charSpacing * fontDirection;\n              x += charWidth;\n\n              current.tspan.textContent += character;\n            }\n            if (vertical) {\n              current.y -= x * textHScale;\n            } else {\n              current.x += x * textHScale;\n            }\n\n            current.tspan.setAttributeNS(null, 'x',\n              current.xcoords.map(pf).join(' '));\n            current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n            current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n            current.tspan.setAttributeNS(null, 'font-size',\n              pf(current.fontSize) + 'px');\n            if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n              current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n            }\n            if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n              current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n            }\n            if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n              current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n            }\n\n            current.txtElement.setAttributeNS(null, 'transform',\n              pm(current.textMatrix) +\n              ' scale(1, -1)');\n            current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n            current.txtElement.appendChild(current.tspan);\n            current.txtgrp.appendChild(current.txtElement);\n\n            this.tgrp.appendChild(current.txtElement);\n\n          },\n\n          setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n            this.setLeading(-y);\n            this.moveText(x, y);\n          },\n\n          addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n            if (!this.cssStyle) {\n              this.cssStyle = document.createElementNS(NS, 'svg:style');\n              this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n              this.defs.appendChild(this.cssStyle);\n            }\n\n            var url = createObjectURL(fontObj.data, fontObj.mimetype,\n              this.forceDataSchema);\n            this.cssStyle.textContent +=\n              '@font-face { font-family: \"' + fontObj.loadedName + '\";' +\n              ' src: url(' + url + '); }\\n';\n          },\n\n          setFont: function SVGGraphics_setFont(details) {\n            var current = this.current;\n            var fontObj = this.commonObjs.get(details[0]);\n            var size = details[1];\n            this.current.font = fontObj;\n\n            if (this.embedFonts && fontObj.data &&\n              !this.embeddedFonts[fontObj.loadedName]) {\n              this.addFontStyle(fontObj);\n              this.embeddedFonts[fontObj.loadedName] = fontObj;\n            }\n\n            current.fontMatrix = (fontObj.fontMatrix ?\n              fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n            var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n              (fontObj.bold ? 'bold' : 'normal');\n            var italic = fontObj.italic ? 'italic' : 'normal';\n\n            if (size < 0) {\n              size = -size;\n              current.fontDirection = -1;\n            } else {\n              current.fontDirection = 1;\n            }\n            current.fontSize = size;\n            current.fontFamily = fontObj.loadedName;\n            current.fontWeight = bold;\n            current.fontStyle = italic;\n\n            current.tspan = document.createElementNS(NS, 'svg:tspan');\n            current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n            current.xcoords = [];\n          },\n\n          endText: function SVGGraphics_endText() {\n            if (this.current.pendingClip) {\n              this.cgrp.appendChild(this.tgrp);\n              this.pgrp.appendChild(this.cgrp);\n            } else {\n              this.pgrp.appendChild(this.tgrp);\n            }\n            this.tgrp = document.createElementNS(NS, 'svg:g');\n            this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n          },\n\n          // Path properties\n          setLineWidth: function SVGGraphics_setLineWidth(width) {\n            this.current.lineWidth = width;\n          },\n          setLineCap: function SVGGraphics_setLineCap(style) {\n            this.current.lineCap = LINE_CAP_STYLES[style];\n          },\n          setLineJoin: function SVGGraphics_setLineJoin(style) {\n            this.current.lineJoin = LINE_JOIN_STYLES[style];\n          },\n          setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n            this.current.miterLimit = limit;\n          },\n          setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n            var color = Util.makeCssRgb(r, g, b);\n            this.current.strokeColor = color;\n          },\n          setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n            var color = Util.makeCssRgb(r, g, b);\n            this.current.fillColor = color;\n            this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n            this.current.xcoords = [];\n          },\n          setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n            this.current.dashArray = dashArray;\n            this.current.dashPhase = dashPhase;\n          },\n\n          constructPath: function SVGGraphics_constructPath(ops, args) {\n            var current = this.current;\n            var x = current.x,\n              y = current.y;\n            current.path = document.createElementNS(NS, 'svg:path');\n            var d = [];\n            var opLength = ops.length;\n\n            for (var i = 0, j = 0; i < opLength; i++) {\n              switch (ops[i] | 0) {\n                case OPS.rectangle:\n                  x = args[j++];\n                  y = args[j++];\n                  var width = args[j++];\n                  var height = args[j++];\n                  var xw = x + width;\n                  var yh = y + height;\n                  d.push('M', pf(x), pf(y), 'L', pf(xw), pf(y), 'L', pf(xw), pf(yh),\n                    'L', pf(x), pf(yh), 'Z');\n                  break;\n                case OPS.moveTo:\n                  x = args[j++];\n                  y = args[j++];\n                  d.push('M', pf(x), pf(y));\n                  break;\n                case OPS.lineTo:\n                  x = args[j++];\n                  y = args[j++];\n                  d.push('L', pf(x), pf(y));\n                  break;\n                case OPS.curveTo:\n                  x = args[j + 4];\n                  y = args[j + 5];\n                  d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]),\n                    pf(args[j + 3]), pf(x), pf(y));\n                  j += 6;\n                  break;\n                case OPS.curveTo2:\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]),\n                    pf(args[j + 2]), pf(args[j + 3]));\n                  j += 4;\n                  break;\n                case OPS.curveTo3:\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y),\n                    pf(x), pf(y));\n                  j += 4;\n                  break;\n                case OPS.closePath:\n                  d.push('Z');\n                  break;\n              }\n            }\n            current.path.setAttributeNS(null, 'd', d.join(' '));\n            current.path.setAttributeNS(null, 'stroke-miterlimit',\n              pf(current.miterLimit));\n            current.path.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n            current.path.setAttributeNS(null, 'stroke-linejoin', current.lineJoin);\n            current.path.setAttributeNS(null, 'stroke-width',\n              pf(current.lineWidth) + 'px');\n            current.path.setAttributeNS(null, 'stroke-dasharray',\n              current.dashArray.map(pf).join(' '));\n            current.path.setAttributeNS(null, 'stroke-dashoffset',\n              pf(current.dashPhase) + 'px');\n            current.path.setAttributeNS(null, 'fill', 'none');\n\n            this.tgrp.appendChild(current.path);\n            if (current.pendingClip) {\n              this.cgrp.appendChild(this.tgrp);\n              this.pgrp.appendChild(this.cgrp);\n            } else {\n              this.pgrp.appendChild(this.tgrp);\n            }\n            // Saving a reference in current.element so that it can be addressed\n            // in 'fill' and 'stroke'\n            current.element = current.path;\n            current.setCurrentPoint(x, y);\n          },\n\n          endPath: function SVGGraphics_endPath() {\n            var current = this.current;\n            if (current.pendingClip) {\n              this.cgrp.appendChild(this.tgrp);\n              this.pgrp.appendChild(this.cgrp);\n            } else {\n              this.pgrp.appendChild(this.tgrp);\n            }\n            this.tgrp = document.createElementNS(NS, 'svg:g');\n            this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n          },\n\n          clip: function SVGGraphics_clip(type) {\n            var current = this.current;\n            // Add current path to clipping path\n            current.clipId = 'clippath' + clipCount;\n            clipCount++;\n            this.clippath = document.createElementNS(NS, 'svg:clipPath');\n            this.clippath.setAttributeNS(null, 'id', current.clipId);\n            var clipElement = current.element.cloneNode();\n            if (type === 'evenodd') {\n              clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n            } else {\n              clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n            }\n            this.clippath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n            this.clippath.appendChild(clipElement);\n            this.defs.appendChild(this.clippath);\n\n            // Create a new group with that attribute\n            current.pendingClip = true;\n            this.cgrp = document.createElementNS(NS, 'svg:g');\n            this.cgrp.setAttributeNS(null, 'clip-path',\n              'url(#' + current.clipId + ')');\n            this.pgrp.appendChild(this.cgrp);\n          },\n\n          closePath: function SVGGraphics_closePath() {\n            var current = this.current;\n            var d = current.path.getAttributeNS(null, 'd');\n            d += 'Z';\n            current.path.setAttributeNS(null, 'd', d);\n          },\n\n          setLeading: function SVGGraphics_setLeading(leading) {\n            this.current.leading = -leading;\n          },\n\n          setTextRise: function SVGGraphics_setTextRise(textRise) {\n            this.current.textRise = textRise;\n          },\n\n          setHScale: function SVGGraphics_setHScale(scale) {\n            this.current.textHScale = scale / 100;\n          },\n\n          setGState: function SVGGraphics_setGState(states) {\n            for (var i = 0, ii = states.length; i < ii; i++) {\n              var state = states[i];\n              var key = state[0];\n              var value = state[1];\n\n              switch (key) {\n                case 'LW':\n                  this.setLineWidth(value);\n                  break;\n                case 'LC':\n                  this.setLineCap(value);\n                  break;\n                case 'LJ':\n                  this.setLineJoin(value);\n                  break;\n                case 'ML':\n                  this.setMiterLimit(value);\n                  break;\n                case 'D':\n                  this.setDash(value[0], value[1]);\n                  break;\n                case 'RI':\n                  break;\n                case 'FL':\n                  break;\n                case 'Font':\n                  this.setFont(value);\n                  break;\n                case 'CA':\n                  break;\n                case 'ca':\n                  break;\n                case 'BM':\n                  break;\n                case 'SMask':\n                  break;\n              }\n            }\n          },\n\n          fill: function SVGGraphics_fill() {\n            var current = this.current;\n            current.element.setAttributeNS(null, 'fill', current.fillColor);\n          },\n\n          stroke: function SVGGraphics_stroke() {\n            var current = this.current;\n            current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n            current.element.setAttributeNS(null, 'fill', 'none');\n          },\n\n          eoFill: function SVGGraphics_eoFill() {\n            var current = this.current;\n            current.element.setAttributeNS(null, 'fill', current.fillColor);\n            current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n          },\n\n          fillStroke: function SVGGraphics_fillStroke() {\n            // Order is important since stroke wants fill to be none.\n            // First stroke, then if fill needed, it will be overwritten.\n            this.stroke();\n            this.fill();\n          },\n\n          eoFillStroke: function SVGGraphics_eoFillStroke() {\n            this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n            this.fillStroke();\n          },\n\n          closeStroke: function SVGGraphics_closeStroke() {\n            this.closePath();\n            this.stroke();\n          },\n\n          closeFillStroke: function SVGGraphics_closeFillStroke() {\n            this.closePath();\n            this.fillStroke();\n          },\n\n          paintSolidColorImageMask: function SVGGraphics_paintSolidColorImageMask() {\n            var current = this.current;\n            var rect = document.createElementNS(NS, 'svg:rect');\n            rect.setAttributeNS(null, 'x', '0');\n            rect.setAttributeNS(null, 'y', '0');\n            rect.setAttributeNS(null, 'width', '1px');\n            rect.setAttributeNS(null, 'height', '1px');\n            rect.setAttributeNS(null, 'fill', current.fillColor);\n            this.tgrp.appendChild(rect);\n          },\n\n          paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n            var current = this.current;\n            var imgObj = this.objs.get(objId);\n            var imgEl = document.createElementNS(NS, 'svg:image');\n            imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n            imgEl.setAttributeNS(null, 'width', imgObj.width + 'px');\n            imgEl.setAttributeNS(null, 'height', imgObj.height + 'px');\n            imgEl.setAttributeNS(null, 'x', '0');\n            imgEl.setAttributeNS(null, 'y', pf(-h));\n            imgEl.setAttributeNS(null, 'transform',\n              'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n\n            this.tgrp.appendChild(imgEl);\n            if (current.pendingClip) {\n              this.cgrp.appendChild(this.tgrp);\n              this.pgrp.appendChild(this.cgrp);\n            } else {\n              this.pgrp.appendChild(this.tgrp);\n            }\n          },\n\n          paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n            var imgData = this.objs.get(objId);\n            if (!imgData) {\n              warn('Dependent image isn\\'t ready yet');\n              return;\n            }\n            this.paintInlineImageXObject(imgData);\n          },\n\n          paintInlineImageXObject: function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n            var current = this.current;\n            var width = imgData.width;\n            var height = imgData.height;\n\n            var imgSrc = convertImgDataToPng(imgData, this.forceDataSchema);\n            var cliprect = document.createElementNS(NS, 'svg:rect');\n            cliprect.setAttributeNS(null, 'x', '0');\n            cliprect.setAttributeNS(null, 'y', '0');\n            cliprect.setAttributeNS(null, 'width', pf(width));\n            cliprect.setAttributeNS(null, 'height', pf(height));\n            current.element = cliprect;\n            this.clip('nonzero');\n            var imgEl = document.createElementNS(NS, 'svg:image');\n            imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n            imgEl.setAttributeNS(null, 'x', '0');\n            imgEl.setAttributeNS(null, 'y', pf(-height));\n            imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n            imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n            imgEl.setAttributeNS(null, 'transform',\n              'scale(' + pf(1 / width) + ' ' +\n              pf(-1 / height) + ')');\n            if (mask) {\n              mask.appendChild(imgEl);\n            } else {\n              this.tgrp.appendChild(imgEl);\n            }\n            if (current.pendingClip) {\n              this.cgrp.appendChild(this.tgrp);\n              this.pgrp.appendChild(this.cgrp);\n            } else {\n              this.pgrp.appendChild(this.tgrp);\n            }\n          },\n\n          paintImageMaskXObject: function SVGGraphics_paintImageMaskXObject(imgData) {\n            var current = this.current;\n            var width = imgData.width;\n            var height = imgData.height;\n            var fillColor = current.fillColor;\n\n            current.maskId = 'mask' + maskCount++;\n            var mask = document.createElementNS(NS, 'svg:mask');\n            mask.setAttributeNS(null, 'id', current.maskId);\n\n            var rect = document.createElementNS(NS, 'svg:rect');\n            rect.setAttributeNS(null, 'x', '0');\n            rect.setAttributeNS(null, 'y', '0');\n            rect.setAttributeNS(null, 'width', pf(width));\n            rect.setAttributeNS(null, 'height', pf(height));\n            rect.setAttributeNS(null, 'fill', fillColor);\n            rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId + ')');\n            this.defs.appendChild(mask);\n            this.tgrp.appendChild(rect);\n\n            this.paintInlineImageXObject(imgData, mask);\n          },\n\n          paintFormXObjectBegin: function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n            this.save();\n\n            if (isArray(matrix) && matrix.length === 6) {\n              this.transform(matrix[0], matrix[1], matrix[2],\n                matrix[3], matrix[4], matrix[5]);\n            }\n\n            if (isArray(bbox) && bbox.length === 4) {\n              var width = bbox[2] - bbox[0];\n              var height = bbox[3] - bbox[1];\n\n              var cliprect = document.createElementNS(NS, 'svg:rect');\n              cliprect.setAttributeNS(null, 'x', bbox[0]);\n              cliprect.setAttributeNS(null, 'y', bbox[1]);\n              cliprect.setAttributeNS(null, 'width', pf(width));\n              cliprect.setAttributeNS(null, 'height', pf(height));\n              this.current.element = cliprect;\n              this.clip('nonzero');\n              this.endPath();\n            }\n          },\n\n          paintFormXObjectEnd: function SVGGraphics_paintFormXObjectEnd() {\n            this.restore();\n          }\n        };\n        return SVGGraphics;\n      })();\n\n      exports.SVGGraphics = SVGGraphics;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayAnnotationLayer = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayDOMUtils);\n      }\n    }(this, function(exports, sharedUtil, displayDOMUtils) {\n\n      var AnnotationBorderStyleType = sharedUtil.AnnotationBorderStyleType;\n      var AnnotationType = sharedUtil.AnnotationType;\n      var Util = sharedUtil.Util;\n      var addLinkAttributes = displayDOMUtils.addLinkAttributes;\n      var LinkTarget = displayDOMUtils.LinkTarget;\n      var getFilenameFromUrl = displayDOMUtils.getFilenameFromUrl;\n      var warn = sharedUtil.warn;\n      var CustomStyle = displayDOMUtils.CustomStyle;\n      var getDefaultSetting = displayDOMUtils.getDefaultSetting;\n\n      /**\n       * @typedef {Object} AnnotationElementParameters\n       * @property {Object} data\n       * @property {HTMLDivElement} layer\n       * @property {PDFPage} page\n       * @property {PageViewport} viewport\n       * @property {IPDFLinkService} linkService\n       * @property {DownloadManager} downloadManager\n       * @property {string} imageResourcesPath\n       * @property {boolean} renderInteractiveForms\n       */\n\n      /**\n       * @class\n       * @alias AnnotationElementFactory\n       */\n      function AnnotationElementFactory() {}\n      AnnotationElementFactory.prototype =\n        /** @lends AnnotationElementFactory.prototype */\n        {\n          /**\n           * @param {AnnotationElementParameters} parameters\n           * @returns {AnnotationElement}\n           */\n          create: function AnnotationElementFactory_create(parameters) {\n            var subtype = parameters.data.annotationType;\n\n            switch (subtype) {\n              case AnnotationType.LINK:\n                return new LinkAnnotationElement(parameters);\n\n              case AnnotationType.TEXT:\n                return new TextAnnotationElement(parameters);\n\n              case AnnotationType.WIDGET:\n                var fieldType = parameters.data.fieldType;\n\n                switch (fieldType) {\n                  case 'Tx':\n                    return new TextWidgetAnnotationElement(parameters);\n                }\n                return new WidgetAnnotationElement(parameters);\n\n              case AnnotationType.POPUP:\n                return new PopupAnnotationElement(parameters);\n\n              case AnnotationType.HIGHLIGHT:\n                return new HighlightAnnotationElement(parameters);\n\n              case AnnotationType.UNDERLINE:\n                return new UnderlineAnnotationElement(parameters);\n\n              case AnnotationType.SQUIGGLY:\n                return new SquigglyAnnotationElement(parameters);\n\n              case AnnotationType.STRIKEOUT:\n                return new StrikeOutAnnotationElement(parameters);\n\n              case AnnotationType.FILEATTACHMENT:\n                return new FileAttachmentAnnotationElement(parameters);\n\n              default:\n                return new AnnotationElement(parameters);\n            }\n          }\n        };\n\n      /**\n       * @class\n       * @alias AnnotationElement\n       */\n      var AnnotationElement = (function AnnotationElementClosure() {\n        function AnnotationElement(parameters, isRenderable) {\n          this.isRenderable = isRenderable || false;\n          this.data = parameters.data;\n          this.layer = parameters.layer;\n          this.page = parameters.page;\n          this.viewport = parameters.viewport;\n          this.linkService = parameters.linkService;\n          this.downloadManager = parameters.downloadManager;\n          this.imageResourcesPath = parameters.imageResourcesPath;\n          this.renderInteractiveForms = parameters.renderInteractiveForms;\n\n          if (isRenderable) {\n            this.container = this._createContainer();\n          }\n        }\n\n        AnnotationElement.prototype = /** @lends AnnotationElement.prototype */ {\n          /**\n           * Create an empty container for the annotation's HTML element.\n           *\n           * @private\n           * @memberof AnnotationElement\n           * @returns {HTMLSectionElement}\n           */\n          _createContainer: function AnnotationElement_createContainer() {\n            var data = this.data,\n              page = this.page,\n              viewport = this.viewport;\n            var container = document.createElement('section');\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n\n            container.setAttribute('data-annotation-id', data.id);\n\n            // Do *not* modify `data.rect`, since that will corrupt the annotation\n            // position on subsequent calls to `_createContainer` (see issue 6804).\n            var rect = Util.normalizeRect([\n              data.rect[0],\n              page.view[3] - data.rect[1] + page.view[1],\n              data.rect[2],\n              page.view[3] - data.rect[3] + page.view[1]\n            ]);\n\n            CustomStyle.setProp('transform', container,\n              'matrix(' + viewport.transform.join(',') + ')');\n            CustomStyle.setProp('transformOrigin', container, -rect[0] + 'px ' + -rect[1] + 'px');\n\n            if (data.borderStyle.width > 0) {\n              container.style.borderWidth = data.borderStyle.width + 'px';\n              if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n                // Underline styles only have a bottom border, so we do not need\n                // to adjust for all borders. This yields a similar result as\n                // Adobe Acrobat/Reader.\n                width = width - 2 * data.borderStyle.width;\n                height = height - 2 * data.borderStyle.width;\n              }\n\n              var horizontalRadius = data.borderStyle.horizontalCornerRadius;\n              var verticalRadius = data.borderStyle.verticalCornerRadius;\n              if (horizontalRadius > 0 || verticalRadius > 0) {\n                var radius = horizontalRadius + 'px / ' + verticalRadius + 'px';\n                CustomStyle.setProp('borderRadius', container, radius);\n              }\n\n              switch (data.borderStyle.style) {\n                case AnnotationBorderStyleType.SOLID:\n                  container.style.borderStyle = 'solid';\n                  break;\n\n                case AnnotationBorderStyleType.DASHED:\n                  container.style.borderStyle = 'dashed';\n                  break;\n\n                case AnnotationBorderStyleType.BEVELED:\n                  warn('Unimplemented border style: beveled');\n                  break;\n\n                case AnnotationBorderStyleType.INSET:\n                  warn('Unimplemented border style: inset');\n                  break;\n\n                case AnnotationBorderStyleType.UNDERLINE:\n                  container.style.borderBottomStyle = 'solid';\n                  break;\n\n                default:\n                  break;\n              }\n\n              if (data.color) {\n                container.style.borderColor =\n                  Util.makeCssRgb(data.color[0] | 0,\n                    data.color[1] | 0,\n                    data.color[2] | 0);\n              } else {\n                // Transparent (invisible) border, so do not draw it at all.\n                container.style.borderWidth = 0;\n              }\n            }\n\n            container.style.left = rect[0] + 'px';\n            container.style.top = rect[1] + 'px';\n\n            container.style.width = width + 'px';\n            container.style.height = height + 'px';\n\n            return container;\n          },\n\n          /**\n           * Create a popup for the annotation's HTML element. This is used for\n           * annotations that do not have a Popup entry in the dictionary, but\n           * are of a type that works with popups (such as Highlight annotations).\n           *\n           * @private\n           * @param {HTMLSectionElement} container\n           * @param {HTMLDivElement|HTMLImageElement|null} trigger\n           * @param {Object} data\n           * @memberof AnnotationElement\n           */\n          _createPopup: function AnnotationElement_createPopup(container, trigger, data) {\n            // If no trigger element is specified, create it.\n            if (!trigger) {\n              trigger = document.createElement('div');\n              trigger.style.height = container.style.height;\n              trigger.style.width = container.style.width;\n              container.appendChild(trigger);\n            }\n\n            var popupElement = new PopupElement({\n              container: container,\n              trigger: trigger,\n              color: data.color,\n              title: data.title,\n              contents: data.contents,\n              hideWrapper: true\n            });\n            var popup = popupElement.render();\n\n            // Position the popup next to the annotation's container.\n            popup.style.left = container.style.width;\n\n            container.appendChild(popup);\n          },\n\n          /**\n           * Render the annotation's HTML element in the empty container.\n           *\n           * @public\n           * @memberof AnnotationElement\n           */\n          render: function AnnotationElement_render() {\n            throw new Error('Abstract method AnnotationElement.render called');\n          }\n        };\n\n        return AnnotationElement;\n      })();\n\n      /**\n       * @class\n       * @alias LinkAnnotationElement\n       */\n      var LinkAnnotationElement = (function LinkAnnotationElementClosure() {\n        function LinkAnnotationElement(parameters) {\n          AnnotationElement.call(this, parameters, true);\n        }\n\n        Util.inherit(LinkAnnotationElement, AnnotationElement, {\n          /**\n           * Render the link annotation's HTML element in the empty container.\n           *\n           * @public\n           * @memberof LinkAnnotationElement\n           * @returns {HTMLSectionElement}\n           */\n          render: function LinkAnnotationElement_render() {\n            this.container.className = 'linkAnnotation';\n\n            var link = document.createElement('a');\n            addLinkAttributes(link, {\n              url: this.data.url,\n              target: (this.data.newWindow ? LinkTarget.BLANK : undefined),\n            });\n\n            if (!this.data.url) {\n              if (this.data.action) {\n                this._bindNamedAction(link, this.data.action);\n              } else {\n                this._bindLink(link, (this.data.dest || null));\n              }\n            }\n\n            this.container.appendChild(link);\n            return this.container;\n          },\n\n          /**\n           * Bind internal links to the link element.\n           *\n           * @private\n           * @param {Object} link\n           * @param {Object} destination\n           * @memberof LinkAnnotationElement\n           */\n          _bindLink: function LinkAnnotationElement_bindLink(link, destination) {\n            var self = this;\n\n            link.href = this.linkService.getDestinationHash(destination);\n            link.onclick = function() {\n              if (destination) {\n                self.linkService.navigateTo(destination);\n              }\n              return false;\n            };\n            if (destination) {\n              link.className = 'internalLink';\n            }\n          },\n\n          /**\n           * Bind named actions to the link element.\n           *\n           * @private\n           * @param {Object} link\n           * @param {Object} action\n           * @memberof LinkAnnotationElement\n           */\n          _bindNamedAction: function LinkAnnotationElement_bindNamedAction(link, action) {\n            var self = this;\n\n            link.href = this.linkService.getAnchorUrl('');\n            link.onclick = function() {\n              self.linkService.executeNamedAction(action);\n              return false;\n            };\n            link.className = 'internalLink';\n          }\n        });\n\n        return LinkAnnotationElement;\n      })();\n\n      /**\n       * @class\n       * @alias TextAnnotationElement\n       */\n      var TextAnnotationElement = (function TextAnnotationElementClosure() {\n        function TextAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup ||\n            parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        Util.inherit(TextAnnotationElement, AnnotationElement, {\n          /**\n           * Render the text annotation's HTML element in the empty container.\n           *\n           * @public\n           * @memberof TextAnnotationElement\n           * @returns {HTMLSectionElement}\n           */\n          render: function TextAnnotationElement_render() {\n            this.container.className = 'textAnnotation';\n\n            var image = document.createElement('img');\n            image.style.height = this.container.style.height;\n            image.style.width = this.container.style.width;\n            image.src = this.imageResourcesPath + 'annotation-' +\n              this.data.name.toLowerCase() + '.svg';\n            image.alt = '[{{type}} Annotation]';\n            image.dataset.l10nId = 'text_annotation_type';\n            image.dataset.l10nArgs = JSON.stringify({\n              type: this.data.name\n            });\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, image, this.data);\n            }\n\n            this.container.appendChild(image);\n            return this.container;\n          }\n        });\n\n        return TextAnnotationElement;\n      })();\n\n      /**\n       * @class\n       * @alias WidgetAnnotationElement\n       */\n      var WidgetAnnotationElement = (function WidgetAnnotationElementClosure() {\n        function WidgetAnnotationElement(parameters) {\n          var isRenderable = parameters.renderInteractiveForms ||\n            (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        Util.inherit(WidgetAnnotationElement, AnnotationElement, {\n          /**\n           * Render the widget annotation's HTML element in the empty container.\n           *\n           * @public\n           * @memberof WidgetAnnotationElement\n           * @returns {HTMLSectionElement}\n           */\n          render: function WidgetAnnotationElement_render() {\n            // Show only the container for unsupported field types.\n            return this.container;\n          }\n        });\n\n        return WidgetAnnotationElement;\n      })();\n\n      /**\n       * @class\n       * @alias TextWidgetAnnotationElement\n       */\n      var TextWidgetAnnotationElement = (\n        function TextWidgetAnnotationElementClosure() {\n          var TEXT_ALIGNMENT = ['left', 'center', 'right'];\n\n          function TextWidgetAnnotationElement(parameters) {\n            WidgetAnnotationElement.call(this, parameters);\n          }\n\n          Util.inherit(TextWidgetAnnotationElement, WidgetAnnotationElement, {\n            /**\n             * Render the text widget annotation's HTML element in the empty container.\n             *\n             * @public\n             * @memberof TextWidgetAnnotationElement\n             * @returns {HTMLSectionElement}\n             */\n            render: function TextWidgetAnnotationElement_render() {\n              this.container.className = 'textWidgetAnnotation';\n\n              var element = null;\n              if (this.renderInteractiveForms) {\n                if (this.data.multiLine) {\n                  element = document.createElement('textarea');\n                } else {\n                  element = document.createElement('input');\n                  element.type = 'text';\n                }\n\n                element.value = this.data.fieldValue;\n                element.disabled = this.data.readOnly;\n\n                if (this.data.maxLen !== null) {\n                  element.maxLength = this.data.maxLen;\n                }\n              } else {\n                element = document.createElement('div');\n                element.textContent = this.data.fieldValue;\n                element.style.verticalAlign = 'middle';\n                element.style.display = 'table-cell';\n\n                var font = null;\n                if (this.data.fontRefName) {\n                  font = this.page.commonObjs.getData(this.data.fontRefName);\n                }\n                this._setTextStyle(element, font);\n              }\n\n              if (this.data.textAlignment !== null) {\n                element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n              }\n\n              this.container.appendChild(element);\n              return this.container;\n            },\n\n            /**\n             * Apply text styles to the text in the element.\n             *\n             * @private\n             * @param {HTMLDivElement} element\n             * @param {Object} font\n             * @memberof TextWidgetAnnotationElement\n             */\n            _setTextStyle: function TextWidgetAnnotationElement_setTextStyle(element, font) {\n              // TODO: This duplicates some of the logic in CanvasGraphics.setFont().\n              var style = element.style;\n              style.fontSize = this.data.fontSize + 'px';\n              style.direction = (this.data.fontDirection < 0 ? 'rtl' : 'ltr');\n\n              if (!font) {\n                return;\n              }\n\n              style.fontWeight = (font.black ?\n                (font.bold ? '900' : 'bold') :\n                (font.bold ? 'bold' : 'normal'));\n              style.fontStyle = (font.italic ? 'italic' : 'normal');\n\n              // Use a reasonable default font if the font doesn't specify a fallback.\n              var fontFamily = font.loadedName ? '\"' + font.loadedName + '\", ' : '';\n              var fallbackName = font.fallbackName || 'Helvetica, sans-serif';\n              style.fontFamily = fontFamily + fallbackName;\n            }\n          });\n\n          return TextWidgetAnnotationElement;\n        })();\n\n      /**\n       * @class\n       * @alias PopupAnnotationElement\n       */\n      var PopupAnnotationElement = (function PopupAnnotationElementClosure() {\n        function PopupAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        Util.inherit(PopupAnnotationElement, AnnotationElement, {\n          /**\n           * Render the popup annotation's HTML element in the empty container.\n           *\n           * @public\n           * @memberof PopupAnnotationElement\n           * @returns {HTMLSectionElement}\n           */\n          render: function PopupAnnotationElement_render() {\n            this.container.className = 'popupAnnotation';\n\n            var selector = '[data-annotation-id=\"' + this.data.parentId + '\"]';\n            var parentElement = this.layer.querySelector(selector);\n            if (!parentElement) {\n              return this.container;\n            }\n\n            var popup = new PopupElement({\n              container: this.container,\n              trigger: parentElement,\n              color: this.data.color,\n              title: this.data.title,\n              contents: this.data.contents\n            });\n\n            // Position the popup next to the parent annotation's container.\n            // PDF viewers ignore a popup annotation's rectangle.\n            var parentLeft = parseFloat(parentElement.style.left);\n            var parentWidth = parseFloat(parentElement.style.width);\n            CustomStyle.setProp('transformOrigin', this.container, -(parentLeft + parentWidth) + 'px -' +\n              parentElement.style.top);\n            this.container.style.left = (parentLeft + parentWidth) + 'px';\n\n            this.container.appendChild(popup.render());\n            return this.container;\n          }\n        });\n\n        return PopupAnnotationElement;\n      })();\n\n      /**\n       * @class\n       * @alias PopupElement\n       */\n      var PopupElement = (function PopupElementClosure() {\n        var BACKGROUND_ENLIGHT = 0.7;\n\n        function PopupElement(parameters) {\n          this.container = parameters.container;\n          this.trigger = parameters.trigger;\n          this.color = parameters.color;\n          this.title = parameters.title;\n          this.contents = parameters.contents;\n          this.hideWrapper = parameters.hideWrapper || false;\n\n          this.pinned = false;\n        }\n\n        PopupElement.prototype = /** @lends PopupElement.prototype */ {\n          /**\n           * Render the popup's HTML element.\n           *\n           * @public\n           * @memberof PopupElement\n           * @returns {HTMLSectionElement}\n           */\n          render: function PopupElement_render() {\n            var wrapper = document.createElement('div');\n            wrapper.className = 'popupWrapper';\n\n            // For Popup annotations we hide the entire section because it contains\n            // only the popup. However, for Text annotations without a separate Popup\n            // annotation, we cannot hide the entire container as the image would\n            // disappear too. In that special case, hiding the wrapper suffices.\n            this.hideElement = (this.hideWrapper ? wrapper : this.container);\n            this.hideElement.setAttribute('hidden', true);\n\n            var popup = document.createElement('div');\n            popup.className = 'popup';\n\n            var color = this.color;\n            if (color) {\n              // Enlighten the color.\n              var r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n              var g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n              var b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n              popup.style.backgroundColor = Util.makeCssRgb(r | 0, g | 0, b | 0);\n            }\n\n            var contents = this._formatContents(this.contents);\n            var title = document.createElement('h1');\n            title.textContent = this.title;\n\n            // Attach the event listeners to the trigger element.\n            this.trigger.addEventListener('click', this._toggle.bind(this));\n            this.trigger.addEventListener('mouseover', this._show.bind(this, false));\n            this.trigger.addEventListener('mouseout', this._hide.bind(this, false));\n            popup.addEventListener('click', this._hide.bind(this, true));\n\n            popup.appendChild(title);\n            popup.appendChild(contents);\n            wrapper.appendChild(popup);\n            return wrapper;\n          },\n\n          /**\n           * Format the contents of the popup by adding newlines where necessary.\n           *\n           * @private\n           * @param {string} contents\n           * @memberof PopupElement\n           * @returns {HTMLParagraphElement}\n           */\n          _formatContents: function PopupElement_formatContents(contents) {\n            var p = document.createElement('p');\n            var lines = contents.split(/(?:\\r\\n?|\\n)/);\n            for (var i = 0, ii = lines.length; i < ii; ++i) {\n              var line = lines[i];\n              p.appendChild(document.createTextNode(line));\n              if (i < (ii - 1)) {\n                p.appendChild(document.createElement('br'));\n              }\n            }\n            return p;\n          },\n\n          /**\n           * Toggle the visibility of the popup.\n           *\n           * @private\n           * @memberof PopupElement\n           */\n          _toggle: function PopupElement_toggle() {\n            if (this.pinned) {\n              this._hide(true);\n            } else {\n              this._show(true);\n            }\n          },\n\n          /**\n           * Show the popup.\n           *\n           * @private\n           * @param {boolean} pin\n           * @memberof PopupElement\n           */\n          _show: function PopupElement_show(pin) {\n            if (pin) {\n              this.pinned = true;\n            }\n            if (this.hideElement.hasAttribute('hidden')) {\n              this.hideElement.removeAttribute('hidden');\n              this.container.style.zIndex += 1;\n            }\n          },\n\n          /**\n           * Hide the popup.\n           *\n           * @private\n           * @param {boolean} unpin\n           * @memberof PopupElement\n           */\n          _hide: function PopupElement_hide(unpin) {\n            if (unpin) {\n              this.pinned = false;\n            }\n            if (!this.hideElement.hasAttribute('hidden') && !this.pinned) {\n              this.hideElement.setAttribute('hidden', true);\n              this.container.style.zIndex -= 1;\n            }\n          }\n        };\n\n        return PopupElement;\n      })();\n\n      /**\n       * @class\n       * @alias HighlightAnnotationElement\n       */\n      var HighlightAnnotationElement = (\n        function HighlightAnnotationElementClosure() {\n          function HighlightAnnotationElement(parameters) {\n            var isRenderable = !!(parameters.data.hasPopup ||\n              parameters.data.title || parameters.data.contents);\n            AnnotationElement.call(this, parameters, isRenderable);\n          }\n\n          Util.inherit(HighlightAnnotationElement, AnnotationElement, {\n            /**\n             * Render the highlight annotation's HTML element in the empty container.\n             *\n             * @public\n             * @memberof HighlightAnnotationElement\n             * @returns {HTMLSectionElement}\n             */\n            render: function HighlightAnnotationElement_render() {\n              this.container.className = 'highlightAnnotation';\n\n              if (!this.data.hasPopup) {\n                this._createPopup(this.container, null, this.data);\n              }\n\n              return this.container;\n            }\n          });\n\n          return HighlightAnnotationElement;\n        })();\n\n      /**\n       * @class\n       * @alias UnderlineAnnotationElement\n       */\n      var UnderlineAnnotationElement = (\n        function UnderlineAnnotationElementClosure() {\n          function UnderlineAnnotationElement(parameters) {\n            var isRenderable = !!(parameters.data.hasPopup ||\n              parameters.data.title || parameters.data.contents);\n            AnnotationElement.call(this, parameters, isRenderable);\n          }\n\n          Util.inherit(UnderlineAnnotationElement, AnnotationElement, {\n            /**\n             * Render the underline annotation's HTML element in the empty container.\n             *\n             * @public\n             * @memberof UnderlineAnnotationElement\n             * @returns {HTMLSectionElement}\n             */\n            render: function UnderlineAnnotationElement_render() {\n              this.container.className = 'underlineAnnotation';\n\n              if (!this.data.hasPopup) {\n                this._createPopup(this.container, null, this.data);\n              }\n\n              return this.container;\n            }\n          });\n\n          return UnderlineAnnotationElement;\n        })();\n\n      /**\n       * @class\n       * @alias SquigglyAnnotationElement\n       */\n      var SquigglyAnnotationElement = (function SquigglyAnnotationElementClosure() {\n        function SquigglyAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup ||\n            parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        Util.inherit(SquigglyAnnotationElement, AnnotationElement, {\n          /**\n           * Render the squiggly annotation's HTML element in the empty container.\n           *\n           * @public\n           * @memberof SquigglyAnnotationElement\n           * @returns {HTMLSectionElement}\n           */\n          render: function SquigglyAnnotationElement_render() {\n            this.container.className = 'squigglyAnnotation';\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n\n            return this.container;\n          }\n        });\n\n        return SquigglyAnnotationElement;\n      })();\n\n      /**\n       * @class\n       * @alias StrikeOutAnnotationElement\n       */\n      var StrikeOutAnnotationElement = (\n        function StrikeOutAnnotationElementClosure() {\n          function StrikeOutAnnotationElement(parameters) {\n            var isRenderable = !!(parameters.data.hasPopup ||\n              parameters.data.title || parameters.data.contents);\n            AnnotationElement.call(this, parameters, isRenderable);\n          }\n\n          Util.inherit(StrikeOutAnnotationElement, AnnotationElement, {\n            /**\n             * Render the strikeout annotation's HTML element in the empty container.\n             *\n             * @public\n             * @memberof StrikeOutAnnotationElement\n             * @returns {HTMLSectionElement}\n             */\n            render: function StrikeOutAnnotationElement_render() {\n              this.container.className = 'strikeoutAnnotation';\n\n              if (!this.data.hasPopup) {\n                this._createPopup(this.container, null, this.data);\n              }\n\n              return this.container;\n            }\n          });\n\n          return StrikeOutAnnotationElement;\n        })();\n\n      /**\n       * @class\n       * @alias FileAttachmentAnnotationElement\n       */\n      var FileAttachmentAnnotationElement = (\n        function FileAttachmentAnnotationElementClosure() {\n          function FileAttachmentAnnotationElement(parameters) {\n            AnnotationElement.call(this, parameters, true);\n\n            this.filename = getFilenameFromUrl(parameters.data.file.filename);\n            this.content = parameters.data.file.content;\n          }\n\n          Util.inherit(FileAttachmentAnnotationElement, AnnotationElement, {\n            /**\n             * Render the file attachment annotation's HTML element in the empty\n             * container.\n             *\n             * @public\n             * @memberof FileAttachmentAnnotationElement\n             * @returns {HTMLSectionElement}\n             */\n            render: function FileAttachmentAnnotationElement_render() {\n              this.container.className = 'fileAttachmentAnnotation';\n\n              var trigger = document.createElement('div');\n              trigger.style.height = this.container.style.height;\n              trigger.style.width = this.container.style.width;\n              trigger.addEventListener('dblclick', this._download.bind(this));\n\n              if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n                this._createPopup(this.container, trigger, this.data);\n              }\n\n              this.container.appendChild(trigger);\n              return this.container;\n            },\n\n            /**\n             * Download the file attachment associated with this annotation.\n             *\n             * @private\n             * @memberof FileAttachmentAnnotationElement\n             */\n            _download: function FileAttachmentAnnotationElement_download() {\n              if (!this.downloadManager) {\n                warn('Download cannot be started due to unavailable download manager');\n                return;\n              }\n              this.downloadManager.downloadData(this.content, this.filename, '');\n            }\n          });\n\n          return FileAttachmentAnnotationElement;\n        })();\n\n      /**\n       * @typedef {Object} AnnotationLayerParameters\n       * @property {PageViewport} viewport\n       * @property {HTMLDivElement} div\n       * @property {Array} annotations\n       * @property {PDFPage} page\n       * @property {IPDFLinkService} linkService\n       * @property {string} imageResourcesPath\n       * @property {boolean} renderInteractiveForms\n       */\n\n      /**\n       * @class\n       * @alias AnnotationLayer\n       */\n      var AnnotationLayer = (function AnnotationLayerClosure() {\n        return {\n          /**\n           * Render a new annotation layer with all annotation elements.\n           *\n           * @public\n           * @param {AnnotationLayerParameters} parameters\n           * @memberof AnnotationLayer\n           */\n          render: function AnnotationLayer_render(parameters) {\n            var annotationElementFactory = new AnnotationElementFactory();\n\n            for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n              var data = parameters.annotations[i];\n              if (!data) {\n                continue;\n              }\n\n              var properties = {\n                data: data,\n                layer: parameters.div,\n                page: parameters.page,\n                viewport: parameters.viewport,\n                linkService: parameters.linkService,\n                downloadManager: parameters.downloadManager,\n                imageResourcesPath: parameters.imageResourcesPath ||\n                  getDefaultSetting('imageResourcesPath'),\n                renderInteractiveForms: parameters.renderInteractiveForms || false,\n              };\n              var element = annotationElementFactory.create(properties);\n              if (element.isRenderable) {\n                parameters.div.appendChild(element.render());\n              }\n            }\n          },\n\n          /**\n           * Update the annotation elements on existing annotation layer.\n           *\n           * @public\n           * @param {AnnotationLayerParameters} parameters\n           * @memberof AnnotationLayer\n           */\n          update: function AnnotationLayer_update(parameters) {\n            for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n              var data = parameters.annotations[i];\n              var element = parameters.div.querySelector(\n                '[data-annotation-id=\"' + data.id + '\"]');\n              if (element) {\n                CustomStyle.setProp('transform', element,\n                  'matrix(' + parameters.viewport.transform.join(',') + ')');\n              }\n            }\n            parameters.div.removeAttribute('hidden');\n          }\n        };\n      })();\n\n      exports.AnnotationLayer = AnnotationLayer;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayTextLayer = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayDOMUtils);\n      }\n    }(this, function(exports, sharedUtil, displayDOMUtils) {\n\n      var Util = sharedUtil.Util;\n      var createPromiseCapability = sharedUtil.createPromiseCapability;\n      var CustomStyle = displayDOMUtils.CustomStyle;\n      var getDefaultSetting = displayDOMUtils.getDefaultSetting;\n      var hexcase = 0;\n      /* hex output format. 0 - lowercase; 1 - uppercase        */\n      var b64pad = \"\";\n      /* base-64 pad character. \"=\" for strict RFC compliance   */\n      var chrsz = 8;\n      /* bits per input character. 8 - ASCII; 16 - Unicode      */\n\n      /*\n       * These are the functions you'll usually want to call\n       * They take string arguments and return either hex or base-64 encoded strings\n       */\n      function md5(s) {\n        return binl2hex(core_md5(str2binl(s), s.length * chrsz));\n      }\n\n      function core_md5(x, len) {\n        /* append padding */\n        x[len >> 5] |= 0x80 << ((len) % 32);\n        x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n        var a = 1732584193;\n        var b = -271733879;\n        var c = -1732584194;\n        var d = 271733878;\n\n        for (var i = 0; i < x.length; i += 16) {\n          var olda = a;\n          var oldb = b;\n          var oldc = c;\n          var oldd = d;\n\n          a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\n          d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n          c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n          b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n          a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n          d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n          c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n          b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n          a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n          d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n          c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n          b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n          a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n          d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n          c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n          b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n          a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n          d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n          c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n          b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\n          a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n          d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n          c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n          b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n          a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n          d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n          c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n          b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n          a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n          d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n          c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n          b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n          a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n          d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n          c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n          b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n          a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n          d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n          c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n          b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n          a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n          d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\n          c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n          b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n          a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n          d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n          c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n          b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n          a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\n          d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n          c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n          b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n          a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n          d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n          c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n          b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n          a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n          d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n          c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n          b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n          a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n          d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n          c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n          b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n          a = safe_add(a, olda);\n          b = safe_add(b, oldb);\n          c = safe_add(c, oldc);\n          d = safe_add(d, oldd);\n        }\n        return Array(a, b, c, d);\n\n      }\n\n      /*\n       * These functions implement the four basic operations the algorithm uses.\n       */\n      function md5_cmn(q, a, b, x, s, t) {\n        return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n      }\n\n      function md5_ff(a, b, c, d, x, s, t) {\n        return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n      }\n\n      function md5_gg(a, b, c, d, x, s, t) {\n        return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n      }\n\n      function md5_hh(a, b, c, d, x, s, t) {\n        return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n      }\n\n      function md5_ii(a, b, c, d, x, s, t) {\n        return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n      }\n\n      /*\n       * Calculate the HMAC-MD5, of a key and some data\n       */\n      function core_hmac_md5(key, data) {\n        var bkey = str2binl(key);\n        if (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);\n\n        var ipad = Array(16),\n          opad = Array(16);\n        for (var i = 0; i < 16; i++) {\n          ipad[i] = bkey[i] ^ 0x36363636;\n          opad[i] = bkey[i] ^ 0x5C5C5C5C;\n        }\n\n        var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);\n        return core_md5(opad.concat(hash), 512 + 128);\n      }\n\n      /*\n       * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n       * to work around bugs in some JS interpreters.\n       */\n      function safe_add(x, y) {\n        var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n        return (msw << 16) | (lsw & 0xFFFF);\n      }\n\n      /*\n       * Bitwise rotate a 32-bit number to the left.\n       */\n      function bit_rol(num, cnt) {\n        return (num << cnt) | (num >>> (32 - cnt));\n      }\n\n      /*\n       * Convert a string to an array of little-endian words\n       * If chrsz is ASCII, characters >255 have their hi-byte silently ignored.\n       */\n      function str2binl(str) {\n        var bin = Array();\n        var mask = (1 << chrsz) - 1;\n        for (var i = 0; i < str.length * chrsz; i += chrsz)\n          bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (i % 32);\n        return bin;\n      }\n\n      /*\n       * Convert an array of little-endian words to a string\n       */\n      function binl2str(bin) {\n        var str = \"\";\n        var mask = (1 << chrsz) - 1;\n        for (var i = 0; i < bin.length * 32; i += chrsz)\n          str += String.fromCharCode((bin[i >> 5] >>> (i % 32)) & mask);\n        return str;\n      }\n\n      /*\n       * Convert an array of little-endian words to a hex string.\n       */\n      function binl2hex(binarray) {\n        var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n        var str = \"\";\n        for (var i = 0; i < binarray.length * 4; i++) {\n          str += hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8 + 4)) & 0xF) +\n            hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8)) & 0xF);\n        }\n        return str;\n      }\n\n      /*\n       * Convert an array of little-endian words to a base-64 string\n       */\n      function binl2b64(binarray) {\n        var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n        var str = \"\";\n        for (var i = 0; i < binarray.length * 4; i += 3) {\n          var triplet = (((binarray[i >> 2] >> 8 * (i % 4)) & 0xFF) << 16) | (((binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4)) & 0xFF) << 8) | ((binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4)) & 0xFF);\n          for (var j = 0; j < 4; j++) {\n            if (i * 8 + j * 6 > binarray.length * 32) str += b64pad;\n            else str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);\n          }\n        }\n        return str;\n      }\n      /**\n       * Text layer render parameters.\n       *\n       * @typedef {Object} TextLayerRenderParameters\n       * @property {TextContent} textContent - Text content to render (the object is\n       *   returned by the page's getTextContent() method).\n       * @property {HTMLElement} container - HTML element that will contain text runs.\n       * @property {PageViewport} viewport - The target viewport to properly\n       *   layout the text runs.\n       * @property {Array} textDivs - (optional) HTML elements that are correspond\n       *   the text items of the textContent input. This is output and shall be\n       *   initially be set to empty array.\n       * @property {number} timeout - (optional) Delay in milliseconds before\n       *   rendering of the text  runs occurs.\n       * @property {boolean} enhanceTextSelection - (optional) Whether to turn on the\n       *   text selection enhancement.\n       */\n      var renderTextLayer = (function renderTextLayerClosure() {\n        var MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n        var NonWhitespaceRegexp = /\\S/;\n\n        function isAllWhitespace(str) {\n          return !NonWhitespaceRegexp.test(str);\n        }\n\n        // Text layers may contain many thousand div's, and using `styleBuf` avoids\n        // creating many intermediate strings when building their 'style' properties.\n        var styleBuf = ['left: ', 0, 'px; top: ', 0, 'px; font-size: ', 0,\n          'px; font-family: ', '', ';'\n        ];\n\n        function appendText(task, geom, styles, number) {\n          // Initialize all used properties to keep the caches monomorphic.\n          var textDiv = document.createElement('div');\n          var textDivProperties = {\n            style: null,\n            angle: 0,\n            canvasWidth: 0,\n            isWhitespace: false,\n            originalTransform: null,\n            paddingBottom: 0,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            scale: 1,\n          };\n\n          task._textDivs.push(textDiv);\n          if (isAllWhitespace(geom.str)) {\n            textDivProperties.isWhitespace = true;\n            task._textDivProperties.set(textDiv, textDivProperties);\n            return;\n          }\n\n          var tx = Util.transform(task._viewport.transform, geom.transform);\n          var angle = Math.atan2(tx[1], tx[0]);\n          var style = styles[geom.fontName];\n          if (style.vertical) {\n            angle += Math.PI / 2;\n          }\n          var fontHeight = Math.sqrt((tx[2] * tx[2]) + (tx[3] * tx[3]));\n          var fontAscent = fontHeight;\n          if (style.ascent) {\n            fontAscent = style.ascent * fontAscent;\n          } else if (style.descent) {\n            fontAscent = (1 + style.descent) * fontAscent;\n          }\n\n          var left;\n          var top;\n          if (angle === 0) {\n            left = tx[4];\n            top = tx[5] - fontAscent;\n          } else {\n            left = tx[4] + (fontAscent * Math.sin(angle));\n            top = tx[5] - (fontAscent * Math.cos(angle));\n          }\n          styleBuf[1] = left;\n          styleBuf[3] = top;\n          styleBuf[5] = fontHeight;\n          styleBuf[7] = style.fontFamily;\n          textDivProperties.style = styleBuf.join('');\n          textDiv.setAttribute('style', textDivProperties.style);\n          textDiv.textContent = geom.str;\n          textDiv.id = md5(textDiv.textContent + number);\n\n          // |fontName| is only used by the Font Inspector. This test will succeed\n          // when e.g. the Font Inspector is off but the Stepper is on, but it's\n          // not worth the effort to do a more accurate test. We only use `dataset`\n          // here to make the font name available for the debugger.\n          if (getDefaultSetting('pdfBug')) {\n            textDiv.dataset.fontName = geom.fontName;\n          }\n          if (angle !== 0) {\n            textDivProperties.angle = angle * (180 / Math.PI);\n          }\n          // We don't bother scaling single-char text divs, because it has very\n          // little effect on text highlighting. This makes scrolling on docs with\n          // lots of such divs a lot faster.\n          if (geom.str.length > 1) {\n            if (style.vertical) {\n              textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n            } else {\n              textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n            }\n          }\n          task._textDivProperties.set(textDiv, textDivProperties);\n\n          if (task._enhanceTextSelection) {\n            var angleCos = 1,\n              angleSin = 0;\n            if (angle !== 0) {\n              angleCos = Math.cos(angle);\n              angleSin = Math.sin(angle);\n            }\n            var divWidth = (style.vertical ? geom.height : geom.width) *\n              task._viewport.scale;\n            var divHeight = fontHeight;\n\n            var m, b;\n            if (angle !== 0) {\n              m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n              b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n            } else {\n              b = [left, top, left + divWidth, top + divHeight];\n            }\n\n            task._bounds.push({\n              left: b[0],\n              top: b[1],\n              right: b[2],\n              bottom: b[3],\n              div: textDiv,\n              size: [divWidth, divHeight],\n              m: m\n            });\n          }\n        }\n\n        function render(task) {\n          if (task._canceled) {\n            return;\n          }\n          var textLayerFrag = task._container;\n          var textDivs = task._textDivs;\n          var capability = task._capability;\n          var textDivsLength = textDivs.length;\n\n          // No point in rendering many divs as it would make the browser\n          // unusable even after the divs are rendered.\n          if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n            task._renderingDone = true;\n            capability.resolve();\n            return;\n          }\n\n          var canvas = document.createElement('canvas');\n          canvas.mozOpaque = true;\n          var ctx = canvas.getContext('2d', {\n            alpha: false\n          });\n\n          var lastFontSize;\n          var lastFontFamily;\n          for (var i = 0; i < textDivsLength; i++) {\n            var textDiv = textDivs[i];\n            var textDivProperties = task._textDivProperties.get(textDiv);\n            if (textDivProperties.isWhitespace) {\n              continue;\n            }\n\n            var fontSize = textDiv.style.fontSize;\n            var fontFamily = textDiv.style.fontFamily;\n\n            // Only build font string and set to context if different from last.\n            if (fontSize !== lastFontSize || fontFamily !== lastFontFamily) {\n              ctx.font = fontSize + ' ' + fontFamily;\n              lastFontSize = fontSize;\n              lastFontFamily = fontFamily;\n            }\n\n            var width = ctx.measureText(textDiv.textContent).width;\n            textLayerFrag.appendChild(textDiv);\n\n            var transform = '';\n            if (textDivProperties.canvasWidth !== 0 && width > 0) {\n              textDivProperties.scale = textDivProperties.canvasWidth / width;\n              transform = 'scaleX(' + textDivProperties.scale + ')';\n            }\n            if (textDivProperties.angle !== 0) {\n              transform = 'rotate(' + textDivProperties.angle + 'deg) ' + transform;\n            }\n            if (transform !== '') {\n              textDivProperties.originalTransform = transform;\n              CustomStyle.setProp('transform', textDiv, transform);\n            }\n            task._textDivProperties.set(textDiv, textDivProperties);\n          }\n          task._renderingDone = true;\n          capability.resolve();\n        }\n\n        function expand(task) {\n          var bounds = task._bounds;\n          var viewport = task._viewport;\n\n          var expanded = expandBounds(viewport.width, viewport.height, bounds);\n          for (var i = 0; i < expanded.length; i++) {\n            var div = bounds[i].div;\n            var divProperties = task._textDivProperties.get(div);\n            if (divProperties.angle === 0) {\n              divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n              divProperties.paddingTop = bounds[i].top - expanded[i].top;\n              divProperties.paddingRight = expanded[i].right - bounds[i].right;\n              divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n              task._textDivProperties.set(div, divProperties);\n              continue;\n            }\n            // Box is rotated -- trying to find padding so rotated div will not\n            // exceed its expanded bounds.\n            var e = expanded[i],\n              b = bounds[i];\n            var m = b.m,\n              c = m[0],\n              s = m[1];\n            // Finding intersections with expanded box.\n            var points = [\n              [0, 0],\n              [0, b.size[1]],\n              [b.size[0], 0], b.size\n            ];\n            var ts = new Float64Array(64);\n            points.forEach(function(p, i) {\n              var t = Util.applyTransform(p, m);\n              ts[i + 0] = c && (e.left - t[0]) / c;\n              ts[i + 4] = s && (e.top - t[1]) / s;\n              ts[i + 8] = c && (e.right - t[0]) / c;\n              ts[i + 12] = s && (e.bottom - t[1]) / s;\n\n              ts[i + 16] = s && (e.left - t[0]) / -s;\n              ts[i + 20] = c && (e.top - t[1]) / c;\n              ts[i + 24] = s && (e.right - t[0]) / -s;\n              ts[i + 28] = c && (e.bottom - t[1]) / c;\n\n              ts[i + 32] = c && (e.left - t[0]) / -c;\n              ts[i + 36] = s && (e.top - t[1]) / -s;\n              ts[i + 40] = c && (e.right - t[0]) / -c;\n              ts[i + 44] = s && (e.bottom - t[1]) / -s;\n\n              ts[i + 48] = s && (e.left - t[0]) / s;\n              ts[i + 52] = c && (e.top - t[1]) / -c;\n              ts[i + 56] = s && (e.right - t[0]) / s;\n              ts[i + 60] = c && (e.bottom - t[1]) / -c;\n            });\n            var findPositiveMin = function(ts, offset, count) {\n              var result = 0;\n              for (var i = 0; i < count; i++) {\n                var t = ts[offset++];\n                if (t > 0) {\n                  result = result ? Math.min(t, result) : t;\n                }\n              }\n              return result;\n            };\n            // Not based on math, but to simplify calculations, using cos and sin\n            // absolute values to not exceed the box (it can but insignificantly).\n            var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n            divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n            divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n            divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n            divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n            task._textDivProperties.set(div, divProperties);\n          }\n        }\n\n        function expandBounds(width, height, boxes) {\n          var bounds = boxes.map(function(box, i) {\n            return {\n              x1: box.left,\n              y1: box.top,\n              x2: box.right,\n              y2: box.bottom,\n              index: i,\n              x1New: undefined,\n              x2New: undefined\n            };\n          });\n          expandBoundsLTR(width, bounds);\n          var expanded = new Array(boxes.length);\n          bounds.forEach(function(b) {\n            var i = b.index;\n            expanded[i] = {\n              left: b.x1New,\n              top: 0,\n              right: b.x2New,\n              bottom: 0\n            };\n          });\n\n          // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n          // array and objects.\n          boxes.map(function(box, i) {\n            var e = expanded[i],\n              b = bounds[i];\n            b.x1 = box.top;\n            b.y1 = width - e.right;\n            b.x2 = box.bottom;\n            b.y2 = width - e.left;\n            b.index = i;\n            b.x1New = undefined;\n            b.x2New = undefined;\n          });\n          expandBoundsLTR(height, bounds);\n\n          bounds.forEach(function(b) {\n            var i = b.index;\n            expanded[i].top = b.x1New;\n            expanded[i].bottom = b.x2New;\n          });\n          return expanded;\n        }\n\n        function expandBoundsLTR(width, bounds) {\n          // Sorting by x1 coordinate and walk by the bounds in the same order.\n          bounds.sort(function(a, b) {\n            return a.x1 - b.x1 || a.index - b.index;\n          });\n\n          // First we see on the horizon is a fake boundary.\n          var fakeBoundary = {\n            x1: -Infinity,\n            y1: -Infinity,\n            x2: 0,\n            y2: Infinity,\n            index: -1,\n            x1New: 0,\n            x2New: 0\n          };\n          var horizon = [{\n            start: -Infinity,\n            end: Infinity,\n            boundary: fakeBoundary\n          }];\n\n          bounds.forEach(function(boundary) {\n            // Searching for the affected part of horizon.\n            // TODO red-black tree or simple binary search\n            var i = 0;\n            while (i < horizon.length && horizon[i].end <= boundary.y1) {\n              i++;\n            }\n            var j = horizon.length - 1;\n            while (j >= 0 && horizon[j].start >= boundary.y2) {\n              j--;\n            }\n\n            var horizonPart, affectedBoundary;\n            var q, k, maxXNew = -Infinity;\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              var xNew;\n              if (affectedBoundary.x2 > boundary.x1) {\n                // In the middle of the previous element, new x shall be at the\n                // boundary start. Extending if further if the affected bondary\n                // placed on top of the current one.\n                xNew = affectedBoundary.index > boundary.index ?\n                  affectedBoundary.x1New : boundary.x1;\n              } else if (affectedBoundary.x2New === undefined) {\n                // We have some space in between, new x in middle will be a fair\n                // choice.\n                xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n              } else {\n                // Affected boundary has x2new set, using it as new x.\n                xNew = affectedBoundary.x2New;\n              }\n              if (xNew > maxXNew) {\n                maxXNew = xNew;\n              }\n            }\n\n            // Set new x1 for current boundary.\n            boundary.x1New = maxXNew;\n\n            // Adjusts new x2 for the affected boundaries.\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              if (affectedBoundary.x2New === undefined) {\n                // Was not set yet, choosing new x if possible.\n                if (affectedBoundary.x2 > boundary.x1) {\n                  // Current and affected boundaries intersect. If affected boundary\n                  // is placed on top of the current, shrinking the affected.\n                  if (affectedBoundary.index > boundary.index) {\n                    affectedBoundary.x2New = affectedBoundary.x2;\n                  }\n                } else {\n                  affectedBoundary.x2New = maxXNew;\n                }\n              } else if (affectedBoundary.x2New > maxXNew) {\n                // Affected boundary is touching new x, pushing it back.\n                affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n              }\n            }\n\n            // Fixing the horizon.\n            var changedHorizon = [],\n              lastBoundary = null;\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              // Checking which boundary will be visible.\n              var useBoundary = affectedBoundary.x2 > boundary.x2 ?\n                affectedBoundary : boundary;\n              if (lastBoundary === useBoundary) {\n                // Merging with previous.\n                changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n              } else {\n                changedHorizon.push({\n                  start: horizonPart.start,\n                  end: horizonPart.end,\n                  boundary: useBoundary\n                });\n                lastBoundary = useBoundary;\n              }\n            }\n            if (horizon[i].start < boundary.y1) {\n              changedHorizon[0].start = boundary.y1;\n              changedHorizon.unshift({\n                start: horizon[i].start,\n                end: boundary.y1,\n                boundary: horizon[i].boundary\n              });\n            }\n            if (boundary.y2 < horizon[j].end) {\n              changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n              changedHorizon.push({\n                start: boundary.y2,\n                end: horizon[j].end,\n                boundary: horizon[j].boundary\n              });\n            }\n\n            // Set x2 new of boundary that is no longer visible (see overlapping case\n            // above).\n            // TODO more efficient, e.g. via reference counting.\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              if (affectedBoundary.x2New !== undefined) {\n                continue;\n              }\n              var used = false;\n              for (k = i - 1; !used && k >= 0 &&\n                horizon[k].start >= affectedBoundary.y1; k--) {\n                used = horizon[k].boundary === affectedBoundary;\n              }\n              for (k = j + 1; !used && k < horizon.length &&\n                horizon[k].end <= affectedBoundary.y2; k++) {\n                used = horizon[k].boundary === affectedBoundary;\n              }\n              for (k = 0; !used && k < changedHorizon.length; k++) {\n                used = changedHorizon[k].boundary === affectedBoundary;\n              }\n              if (!used) {\n                affectedBoundary.x2New = maxXNew;\n              }\n            }\n\n            Array.prototype.splice.apply(horizon, [i, j - i + 1].concat(changedHorizon));\n          });\n\n          // Set new x2 for all unset boundaries.\n          horizon.forEach(function(horizonPart) {\n            var affectedBoundary = horizonPart.boundary;\n            if (affectedBoundary.x2New === undefined) {\n              affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n            }\n          });\n        }\n\n        /**\n         * Text layer rendering task.\n         *\n         * @param {TextContent} textContent\n         * @param {HTMLElement} container\n         * @param {PageViewport} viewport\n         * @param {Array} textDivs\n         * @param {boolean} enhanceTextSelection\n         * @private\n         */\n        function TextLayerRenderTask(textContent, container, viewport, textDivs,\n          enhanceTextSelection) {\n          this._textContent = textContent;\n          this._container = container;\n          this._viewport = viewport;\n          this._textDivs = textDivs || [];\n          this._textDivProperties = new WeakMap();\n          this._renderingDone = false;\n          this._canceled = false;\n          this._capability = createPromiseCapability();\n          this._renderTimer = null;\n          this._bounds = [];\n          this._enhanceTextSelection = !!enhanceTextSelection;\n        }\n        TextLayerRenderTask.prototype = {\n          get promise() {\n            return this._capability.promise;\n          },\n\n          cancel: function TextLayer_cancel() {\n            this._canceled = true;\n            if (this._renderTimer !== null) {\n              clearTimeout(this._renderTimer);\n              this._renderTimer = null;\n            }\n            this._capability.reject('canceled');\n          },\n\n          _render: function TextLayer_render(timeout) {\n            var textItems = this._textContent.items;\n            var textStyles = this._textContent.styles;\n            for (var i = 0, len = textItems.length; i < len; i++) {\n              appendText(this, textItems[i], textStyles, i);\n            }\n\n            if (!timeout) { // Render right away\n              render(this);\n            } else { // Schedule\n              var self = this;\n              this._renderTimer = setTimeout(function() {\n                render(self);\n                self._renderTimer = null;\n              }, timeout);\n            }\n          },\n\n          expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n            if (!this._enhanceTextSelection || !this._renderingDone) {\n              return;\n            }\n            if (this._bounds !== null) {\n              expand(this);\n              this._bounds = null;\n            }\n\n            for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n              var div = this._textDivs[i];\n              var divProperties = this._textDivProperties.get(div);\n\n              if (divProperties.isWhitespace) {\n                continue;\n              }\n              if (expandDivs) {\n                var transform = '',\n                  padding = '';\n\n                if (divProperties.scale !== 1) {\n                  transform = 'scaleX(' + divProperties.scale + ')';\n                }\n                if (divProperties.angle !== 0) {\n                  transform = 'rotate(' + divProperties.angle + 'deg) ' + transform;\n                }\n                if (divProperties.paddingLeft !== 0) {\n                  padding += ' padding-left: ' +\n                    (divProperties.paddingLeft / divProperties.scale) + 'px;';\n                  transform += ' translateX(' +\n                    (-divProperties.paddingLeft / divProperties.scale) + 'px)';\n                }\n                if (divProperties.paddingTop !== 0) {\n                  padding += ' padding-top: ' + divProperties.paddingTop + 'px;';\n                  transform += ' translateY(' + (-divProperties.paddingTop) + 'px)';\n                }\n                if (divProperties.paddingRight !== 0) {\n                  padding += ' padding-right: ' +\n                    (divProperties.paddingRight / divProperties.scale) + 'px;';\n                }\n                if (divProperties.paddingBottom !== 0) {\n                  padding += ' padding-bottom: ' +\n                    divProperties.paddingBottom + 'px;';\n                }\n\n                if (padding !== '') {\n                  div.setAttribute('style', divProperties.style + padding);\n                }\n                if (transform !== '') {\n                  CustomStyle.setProp('transform', div, transform);\n                }\n              } else {\n                div.style.padding = 0;\n                CustomStyle.setProp('transform', div,\n                  divProperties.originalTransform || '');\n              }\n            }\n          },\n        };\n\n        /**\n         * Starts rendering of the text layer.\n         *\n         * @param {TextLayerRenderParameters} renderParameters\n         * @returns {TextLayerRenderTask}\n         */\n        function renderTextLayer(renderParameters) {\n          var task = new TextLayerRenderTask(renderParameters.textContent,\n            renderParameters.container,\n            renderParameters.viewport,\n            renderParameters.textDivs,\n            renderParameters.enhanceTextSelection);\n          task._render(renderParameters.timeout);\n          return task;\n        }\n\n        return renderTextLayer;\n      })();\n\n      exports.renderTextLayer = renderTextLayer;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayWebGL = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayDOMUtils);\n      }\n    }(this, function(exports, sharedUtil, displayDOMUtils) {\n\n      var shadow = sharedUtil.shadow;\n      var getDefaultSetting = displayDOMUtils.getDefaultSetting;\n\n      var WebGLUtils = (function WebGLUtilsClosure() {\n        function loadShader(gl, code, shaderType) {\n          var shader = gl.createShader(shaderType);\n          gl.shaderSource(shader, code);\n          gl.compileShader(shader);\n          var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n          if (!compiled) {\n            var errorMsg = gl.getShaderInfoLog(shader);\n            throw new Error('Error during shader compilation: ' + errorMsg);\n          }\n          return shader;\n        }\n\n        function createVertexShader(gl, code) {\n          return loadShader(gl, code, gl.VERTEX_SHADER);\n        }\n\n        function createFragmentShader(gl, code) {\n          return loadShader(gl, code, gl.FRAGMENT_SHADER);\n        }\n\n        function createProgram(gl, shaders) {\n          var program = gl.createProgram();\n          for (var i = 0, ii = shaders.length; i < ii; ++i) {\n            gl.attachShader(program, shaders[i]);\n          }\n          gl.linkProgram(program);\n          var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n          if (!linked) {\n            var errorMsg = gl.getProgramInfoLog(program);\n            throw new Error('Error during program linking: ' + errorMsg);\n          }\n          return program;\n        }\n\n        function createTexture(gl, image, textureId) {\n          gl.activeTexture(textureId);\n          var texture = gl.createTexture();\n          gl.bindTexture(gl.TEXTURE_2D, texture);\n\n          // Set the parameters so we can render any size image.\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n          // Upload the image into the texture.\n          gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n          return texture;\n        }\n\n        var currentGL, currentCanvas;\n\n        function generateGL() {\n          if (currentGL) {\n            return;\n          }\n          currentCanvas = document.createElement('canvas');\n          currentGL = currentCanvas.getContext('webgl', {\n            premultipliedalpha: false\n          });\n        }\n\n        var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n\n        var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n\n        var smaskCache = null;\n\n        function initSmaskGL() {\n          var canvas, gl;\n\n          generateGL();\n          canvas = currentCanvas;\n          currentCanvas = null;\n          gl = currentGL;\n          currentGL = null;\n\n          // setup a GLSL program\n          var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n          var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n          var program = createProgram(gl, [vertexShader, fragmentShader]);\n          gl.useProgram(program);\n\n          var cache = {};\n          cache.gl = gl;\n          cache.canvas = canvas;\n          cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n          cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n          cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n          cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n\n          var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n          var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n          var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n\n          // provide texture coordinates for the rectangle.\n          var texCoordBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n            0.0, 0.0,\n            1.0, 0.0,\n            0.0, 1.0,\n            0.0, 1.0,\n            1.0, 0.0,\n            1.0, 1.0\n          ]), gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(texCoordLocation);\n          gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n          gl.uniform1i(texLayerLocation, 0);\n          gl.uniform1i(texMaskLocation, 1);\n\n          smaskCache = cache;\n        }\n\n        function composeSMask(layer, mask, properties) {\n          var width = layer.width,\n            height = layer.height;\n\n          if (!smaskCache) {\n            initSmaskGL();\n          }\n          var cache = smaskCache,\n            canvas = cache.canvas,\n            gl = cache.gl;\n          canvas.width = width;\n          canvas.height = height;\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.uniform2f(cache.resolutionLocation, width, height);\n\n          if (properties.backdrop) {\n            gl.uniform4f(cache.resolutionLocation, properties.backdrop[0],\n              properties.backdrop[1], properties.backdrop[2], 1);\n          } else {\n            gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n          }\n          gl.uniform1i(cache.subtypeLocation,\n            properties.subtype === 'Luminosity' ? 1 : 0);\n\n          // Create a textures\n          var texture = createTexture(gl, layer, gl.TEXTURE0);\n          var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n\n          // Create a buffer and put a single clipspace rectangle in\n          // it (2 triangles)\n          var buffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n            0, 0,\n            width, 0,\n            0, height,\n            0, height,\n            width, 0,\n            width, height\n          ]), gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.positionLocation);\n          gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n          // draw\n          gl.clearColor(0, 0, 0, 0);\n          gl.enable(gl.BLEND);\n          gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n          gl.clear(gl.COLOR_BUFFER_BIT);\n\n          gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n          gl.flush();\n\n          gl.deleteTexture(texture);\n          gl.deleteTexture(maskTexture);\n          gl.deleteBuffer(buffer);\n\n          return canvas;\n        }\n\n        var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n\n        var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n\n        var figuresCache = null;\n\n        function initFiguresGL() {\n          var canvas, gl;\n\n          generateGL();\n          canvas = currentCanvas;\n          currentCanvas = null;\n          gl = currentGL;\n          currentGL = null;\n\n          // setup a GLSL program\n          var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n          var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n          var program = createProgram(gl, [vertexShader, fragmentShader]);\n          gl.useProgram(program);\n\n          var cache = {};\n          cache.gl = gl;\n          cache.canvas = canvas;\n          cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n          cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n          cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n          cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n          cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n\n          figuresCache = cache;\n        }\n\n        function drawFigures(width, height, backgroundColor, figures, context) {\n          if (!figuresCache) {\n            initFiguresGL();\n          }\n          var cache = figuresCache,\n            canvas = cache.canvas,\n            gl = cache.gl;\n\n          canvas.width = width;\n          canvas.height = height;\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.uniform2f(cache.resolutionLocation, width, height);\n\n          // count triangle points\n          var count = 0;\n          var i, ii, rows;\n          for (i = 0, ii = figures.length; i < ii; i++) {\n            switch (figures[i].type) {\n              case 'lattice':\n                rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n                count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n                break;\n              case 'triangles':\n                count += figures[i].coords.length;\n                break;\n            }\n          }\n          // transfer data\n          var coords = new Float32Array(count * 2);\n          var colors = new Uint8Array(count * 3);\n          var coordsMap = context.coords,\n            colorsMap = context.colors;\n          var pIndex = 0,\n            cIndex = 0;\n          for (i = 0, ii = figures.length; i < ii; i++) {\n            var figure = figures[i],\n              ps = figure.coords,\n              cs = figure.colors;\n            switch (figure.type) {\n              case 'lattice':\n                var cols = figure.verticesPerRow;\n                rows = (ps.length / cols) | 0;\n                for (var row = 1; row < rows; row++) {\n                  var offset = row * cols + 1;\n                  for (var col = 1; col < cols; col++, offset++) {\n                    coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n                    coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n                    coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n                    coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n                    coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n                    coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n                    colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n                    colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n                    colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n                    colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n                    colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n                    colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n                    colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n                    colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n                    colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n                    coords[pIndex + 6] = coords[pIndex + 2];\n                    coords[pIndex + 7] = coords[pIndex + 3];\n                    coords[pIndex + 8] = coords[pIndex + 4];\n                    coords[pIndex + 9] = coords[pIndex + 5];\n                    coords[pIndex + 10] = coordsMap[ps[offset]];\n                    coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n                    colors[cIndex + 9] = colors[cIndex + 3];\n                    colors[cIndex + 10] = colors[cIndex + 4];\n                    colors[cIndex + 11] = colors[cIndex + 5];\n                    colors[cIndex + 12] = colors[cIndex + 6];\n                    colors[cIndex + 13] = colors[cIndex + 7];\n                    colors[cIndex + 14] = colors[cIndex + 8];\n                    colors[cIndex + 15] = colorsMap[cs[offset]];\n                    colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n                    colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n                    pIndex += 12;\n                    cIndex += 18;\n                  }\n                }\n                break;\n              case 'triangles':\n                for (var j = 0, jj = ps.length; j < jj; j++) {\n                  coords[pIndex] = coordsMap[ps[j]];\n                  coords[pIndex + 1] = coordsMap[ps[j] + 1];\n                  colors[cIndex] = colorsMap[cs[j]];\n                  colors[cIndex + 1] = colorsMap[cs[j] + 1];\n                  colors[cIndex + 2] = colorsMap[cs[j] + 2];\n                  pIndex += 2;\n                  cIndex += 3;\n                }\n                break;\n            }\n          }\n\n          // draw\n          if (backgroundColor) {\n            gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255,\n              backgroundColor[2] / 255, 1.0);\n          } else {\n            gl.clearColor(0, 0, 0, 0);\n          }\n          gl.clear(gl.COLOR_BUFFER_BIT);\n\n          var coordsBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.positionLocation);\n          gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n          var colorsBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.colorLocation);\n          gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false,\n            0, 0);\n\n          gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n          gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n          gl.drawArrays(gl.TRIANGLES, 0, count);\n\n          gl.flush();\n\n          gl.deleteBuffer(coordsBuffer);\n          gl.deleteBuffer(colorsBuffer);\n\n          return canvas;\n        }\n\n        function cleanup() {\n          if (smaskCache && smaskCache.canvas) {\n            smaskCache.canvas.width = 0;\n            smaskCache.canvas.height = 0;\n          }\n          if (figuresCache && figuresCache.canvas) {\n            figuresCache.canvas.width = 0;\n            figuresCache.canvas.height = 0;\n          }\n          smaskCache = null;\n          figuresCache = null;\n        }\n\n        return {\n          get isEnabled() {\n            if (getDefaultSetting('disableWebGL')) {\n              return false;\n            }\n            var enabled = false;\n            try {\n              generateGL();\n              enabled = !!currentGL;\n            } catch (e) {}\n            return shadow(this, 'isEnabled', enabled);\n          },\n          composeSMask: composeSMask,\n          drawFigures: drawFigures,\n          clear: cleanup\n        };\n      })();\n\n      exports.WebGLUtils = WebGLUtils;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayPatternHelper = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayWebGL);\n      }\n    }(this, function(exports, sharedUtil, displayWebGL) {\n\n      var Util = sharedUtil.Util;\n      var info = sharedUtil.info;\n      var isArray = sharedUtil.isArray;\n      var error = sharedUtil.error;\n      var WebGLUtils = displayWebGL.WebGLUtils;\n\n      var ShadingIRs = {};\n\n      ShadingIRs.RadialAxial = {\n        fromIR: function RadialAxial_fromIR(raw) {\n          var type = raw[1];\n          var colorStops = raw[2];\n          var p0 = raw[3];\n          var p1 = raw[4];\n          var r0 = raw[5];\n          var r1 = raw[6];\n          return {\n            type: 'Pattern',\n            getPattern: function RadialAxial_getPattern(ctx) {\n              var grad;\n              if (type === 'axial') {\n                grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n              } else if (type === 'radial') {\n                grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n              }\n\n              for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n                var c = colorStops[i];\n                grad.addColorStop(c[0], c[1]);\n              }\n              return grad;\n            }\n          };\n        }\n      };\n\n      var createMeshCanvas = (function createMeshCanvasClosure() {\n        function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n          // Very basic Gouraud-shaded triangle rasterization algorithm.\n          var coords = context.coords,\n            colors = context.colors;\n          var bytes = data.data,\n            rowSize = data.width * 4;\n          var tmp;\n          if (coords[p1 + 1] > coords[p2 + 1]) {\n            tmp = p1;\n            p1 = p2;\n            p2 = tmp;\n            tmp = c1;\n            c1 = c2;\n            c2 = tmp;\n          }\n          if (coords[p2 + 1] > coords[p3 + 1]) {\n            tmp = p2;\n            p2 = p3;\n            p3 = tmp;\n            tmp = c2;\n            c2 = c3;\n            c3 = tmp;\n          }\n          if (coords[p1 + 1] > coords[p2 + 1]) {\n            tmp = p1;\n            p1 = p2;\n            p2 = tmp;\n            tmp = c1;\n            c1 = c2;\n            c2 = tmp;\n          }\n          var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n          var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n          var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n          var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n          var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n          var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n          if (y1 >= y3) {\n            return;\n          }\n          var c1r = colors[c1],\n            c1g = colors[c1 + 1],\n            c1b = colors[c1 + 2];\n          var c2r = colors[c2],\n            c2g = colors[c2 + 1],\n            c2b = colors[c2 + 2];\n          var c3r = colors[c3],\n            c3g = colors[c3 + 1],\n            c3b = colors[c3 + 2];\n\n          var minY = Math.round(y1),\n            maxY = Math.round(y3);\n          var xa, car, cag, cab;\n          var xb, cbr, cbg, cbb;\n          var k;\n          for (var y = minY; y <= maxY; y++) {\n            if (y < y2) {\n              k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n              xa = x1 - (x1 - x2) * k;\n              car = c1r - (c1r - c2r) * k;\n              cag = c1g - (c1g - c2g) * k;\n              cab = c1b - (c1b - c2b) * k;\n            } else {\n              k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n              xa = x2 - (x2 - x3) * k;\n              car = c2r - (c2r - c3r) * k;\n              cag = c2g - (c2g - c3g) * k;\n              cab = c2b - (c2b - c3b) * k;\n            }\n            k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n            xb = x1 - (x1 - x3) * k;\n            cbr = c1r - (c1r - c3r) * k;\n            cbg = c1g - (c1g - c3g) * k;\n            cbb = c1b - (c1b - c3b) * k;\n            var x1_ = Math.round(Math.min(xa, xb));\n            var x2_ = Math.round(Math.max(xa, xb));\n            var j = rowSize * y + x1_ * 4;\n            for (var x = x1_; x <= x2_; x++) {\n              k = (xa - x) / (xa - xb);\n              k = k < 0 ? 0 : k > 1 ? 1 : k;\n              bytes[j++] = (car - (car - cbr) * k) | 0;\n              bytes[j++] = (cag - (cag - cbg) * k) | 0;\n              bytes[j++] = (cab - (cab - cbb) * k) | 0;\n              bytes[j++] = 255;\n            }\n          }\n        }\n\n        function drawFigure(data, figure, context) {\n          var ps = figure.coords;\n          var cs = figure.colors;\n          var i, ii;\n          switch (figure.type) {\n            case 'lattice':\n              var verticesPerRow = figure.verticesPerRow;\n              var rows = Math.floor(ps.length / verticesPerRow) - 1;\n              var cols = verticesPerRow - 1;\n              for (i = 0; i < rows; i++) {\n                var q = i * verticesPerRow;\n                for (var j = 0; j < cols; j++, q++) {\n                  drawTriangle(data, context,\n                    ps[q], ps[q + 1], ps[q + verticesPerRow],\n                    cs[q], cs[q + 1], cs[q + verticesPerRow]);\n                  drawTriangle(data, context,\n                    ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow],\n                    cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n                }\n              }\n              break;\n            case 'triangles':\n              for (i = 0, ii = ps.length; i < ii; i += 3) {\n                drawTriangle(data, context,\n                  ps[i], ps[i + 1], ps[i + 2],\n                  cs[i], cs[i + 1], cs[i + 2]);\n              }\n              break;\n            default:\n              error('illigal figure');\n              break;\n          }\n        }\n\n        function createMeshCanvas(bounds, combinesScale, coords, colors, figures,\n          backgroundColor, cachedCanvases) {\n          // we will increase scale on some weird factor to let antialiasing take\n          // care of \"rough\" edges\n          var EXPECTED_SCALE = 1.1;\n          // MAX_PATTERN_SIZE is used to avoid OOM situation.\n          var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n          // We need to keep transparent border around our pattern for fill():\n          // createPattern with 'no-repeat' will bleed edges across entire area.\n          var BORDER_SIZE = 2;\n\n          var offsetX = Math.floor(bounds[0]);\n          var offsetY = Math.floor(bounds[1]);\n          var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n          var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n          var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] *\n            EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] *\n            EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          var scaleX = boundsWidth / width;\n          var scaleY = boundsHeight / height;\n\n          var context = {\n            coords: coords,\n            colors: colors,\n            offsetX: -offsetX,\n            offsetY: -offsetY,\n            scaleX: 1 / scaleX,\n            scaleY: 1 / scaleY\n          };\n\n          var paddedWidth = width + BORDER_SIZE * 2;\n          var paddedHeight = height + BORDER_SIZE * 2;\n\n          var canvas, tmpCanvas, i, ii;\n          if (WebGLUtils.isEnabled) {\n            canvas = WebGLUtils.drawFigures(width, height, backgroundColor,\n              figures, context);\n\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n            tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight,\n              false);\n            tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n            canvas = tmpCanvas.canvas;\n          } else {\n            tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight,\n              false);\n            var tmpCtx = tmpCanvas.context;\n\n            var data = tmpCtx.createImageData(width, height);\n            if (backgroundColor) {\n              var bytes = data.data;\n              for (i = 0, ii = bytes.length; i < ii; i += 4) {\n                bytes[i] = backgroundColor[0];\n                bytes[i + 1] = backgroundColor[1];\n                bytes[i + 2] = backgroundColor[2];\n                bytes[i + 3] = 255;\n              }\n            }\n            for (i = 0; i < figures.length; i++) {\n              drawFigure(data, figures[i], context);\n            }\n            tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n            canvas = tmpCanvas.canvas;\n          }\n\n          return {\n            canvas: canvas,\n            offsetX: offsetX - BORDER_SIZE * scaleX,\n            offsetY: offsetY - BORDER_SIZE * scaleY,\n            scaleX: scaleX,\n            scaleY: scaleY\n          };\n        }\n        return createMeshCanvas;\n      })();\n\n      ShadingIRs.Mesh = {\n        fromIR: function Mesh_fromIR(raw) {\n          //var type = raw[1];\n          var coords = raw[2];\n          var colors = raw[3];\n          var figures = raw[4];\n          var bounds = raw[5];\n          var matrix = raw[6];\n          //var bbox = raw[7];\n          var background = raw[8];\n          return {\n            type: 'Pattern',\n            getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n              var scale;\n              if (shadingFill) {\n                scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n              } else {\n                // Obtain scale from matrix and current transformation matrix.\n                scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n                if (matrix) {\n                  var matrixScale = Util.singularValueDecompose2dScale(matrix);\n                  scale = [scale[0] * matrixScale[0],\n                    scale[1] * matrixScale[1]\n                  ];\n                }\n              }\n\n\n              // Rasterizing on the main thread since sending/queue large canvases\n              // might cause OOM.\n              var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords,\n                colors, figures, shadingFill ? null : background,\n                owner.cachedCanvases);\n\n              if (!shadingFill) {\n                ctx.setTransform.apply(ctx, owner.baseTransform);\n                if (matrix) {\n                  ctx.transform.apply(ctx, matrix);\n                }\n              }\n\n              ctx.translate(temporaryPatternCanvas.offsetX,\n                temporaryPatternCanvas.offsetY);\n              ctx.scale(temporaryPatternCanvas.scaleX,\n                temporaryPatternCanvas.scaleY);\n\n              return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n            }\n          };\n        }\n      };\n\n      ShadingIRs.Dummy = {\n        fromIR: function Dummy_fromIR() {\n          return {\n            type: 'Pattern',\n            getPattern: function Dummy_fromIR_getPattern() {\n              return 'hotpink';\n            }\n          };\n        }\n      };\n\n      function getShadingPatternFromIR(raw) {\n        var shadingIR = ShadingIRs[raw[0]];\n        if (!shadingIR) {\n          error('Unknown IR type: ' + raw[0]);\n        }\n        return shadingIR.fromIR(raw);\n      }\n\n      var TilingPattern = (function TilingPatternClosure() {\n        var PaintType = {\n          COLORED: 1,\n          UNCOLORED: 2\n        };\n\n        var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n        function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n          this.operatorList = IR[2];\n          this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n          this.bbox = IR[4];\n          this.xstep = IR[5];\n          this.ystep = IR[6];\n          this.paintType = IR[7];\n          this.tilingType = IR[8];\n          this.color = color;\n          this.canvasGraphicsFactory = canvasGraphicsFactory;\n          this.baseTransform = baseTransform;\n          this.type = 'Pattern';\n          this.ctx = ctx;\n        }\n\n        TilingPattern.prototype = {\n          createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n            var operatorList = this.operatorList;\n            var bbox = this.bbox;\n            var xstep = this.xstep;\n            var ystep = this.ystep;\n            var paintType = this.paintType;\n            var tilingType = this.tilingType;\n            var color = this.color;\n            var canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n            info('TilingType: ' + tilingType);\n\n            var x0 = bbox[0],\n              y0 = bbox[1],\n              x1 = bbox[2],\n              y1 = bbox[3];\n\n            var topLeft = [x0, y0];\n            // we want the canvas to be as large as the step size\n            var botRight = [x0 + xstep, y0 + ystep];\n\n            var width = botRight[0] - topLeft[0];\n            var height = botRight[1] - topLeft[1];\n\n            // Obtain scale from matrix and current transformation matrix.\n            var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n            var curMatrixScale = Util.singularValueDecompose2dScale(\n              this.baseTransform);\n            var combinedScale = [matrixScale[0] * curMatrixScale[0],\n              matrixScale[1] * curMatrixScale[1]\n            ];\n\n            // MAX_PATTERN_SIZE is used to avoid OOM situation.\n            // Use width and height values that are as close as possible to the end\n            // result when the pattern is used. Too low value makes the pattern look\n            // blurry. Too large value makes it look too crispy.\n            width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])),\n              MAX_PATTERN_SIZE);\n\n            height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])),\n              MAX_PATTERN_SIZE);\n\n            var tmpCanvas = owner.cachedCanvases.getCanvas('pattern',\n              width, height, true);\n            var tmpCtx = tmpCanvas.context;\n            var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n            graphics.groupLevel = owner.groupLevel;\n\n            this.setFillAndStrokeStyleToContext(tmpCtx, paintType, color);\n\n            this.setScale(width, height, xstep, ystep);\n            this.transformToScale(graphics);\n\n            // transform coordinates to pattern space\n            var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n            graphics.transform.apply(graphics, tmpTranslate);\n\n            this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n            graphics.executeOperatorList(operatorList);\n            return tmpCanvas.canvas;\n          },\n\n          setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n            this.scale = [width / xstep, height / ystep];\n          },\n\n          transformToScale: function TilingPattern_transformToScale(graphics) {\n            var scale = this.scale;\n            var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n            graphics.transform.apply(graphics, tmpScale);\n          },\n\n          scaleToContext: function TilingPattern_scaleToContext() {\n            var scale = this.scale;\n            this.ctx.scale(1 / scale[0], 1 / scale[1]);\n          },\n\n          clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n            if (bbox && isArray(bbox) && bbox.length === 4) {\n              var bboxWidth = x1 - x0;\n              var bboxHeight = y1 - y0;\n              graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n              graphics.clip();\n              graphics.endPath();\n            }\n          },\n\n          setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(context, paintType, color) {\n            switch (paintType) {\n              case PaintType.COLORED:\n                var ctx = this.ctx;\n                context.fillStyle = ctx.fillStyle;\n                context.strokeStyle = ctx.strokeStyle;\n                break;\n              case PaintType.UNCOLORED:\n                var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n                context.fillStyle = cssColor;\n                context.strokeStyle = cssColor;\n                break;\n              default:\n                error('Unsupported paint type: ' + paintType);\n            }\n          },\n\n          getPattern: function TilingPattern_getPattern(ctx, owner) {\n            var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n            ctx = this.ctx;\n            ctx.setTransform.apply(ctx, this.baseTransform);\n            ctx.transform.apply(ctx, this.matrix);\n            this.scaleToContext();\n\n            return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n          }\n        };\n\n        return TilingPattern;\n      })();\n\n      exports.getShadingPatternFromIR = getShadingPatternFromIR;\n      exports.TilingPattern = TilingPattern;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayCanvas = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayDOMUtils, root.pdfjsDisplayPatternHelper,\n          root.pdfjsDisplayWebGL);\n      }\n    }(this, function(exports, sharedUtil, displayDOMUtils, displayPatternHelper,\n      displayWebGL) {\n\n      var FONT_IDENTITY_MATRIX = sharedUtil.FONT_IDENTITY_MATRIX;\n      var IDENTITY_MATRIX = sharedUtil.IDENTITY_MATRIX;\n      var ImageKind = sharedUtil.ImageKind;\n      var OPS = sharedUtil.OPS;\n      var TextRenderingMode = sharedUtil.TextRenderingMode;\n      var Uint32ArrayView = sharedUtil.Uint32ArrayView;\n      var Util = sharedUtil.Util;\n      var assert = sharedUtil.assert;\n      var info = sharedUtil.info;\n      var isNum = sharedUtil.isNum;\n      var isArray = sharedUtil.isArray;\n      var isLittleEndian = sharedUtil.isLittleEndian;\n      var error = sharedUtil.error;\n      var shadow = sharedUtil.shadow;\n      var warn = sharedUtil.warn;\n      var TilingPattern = displayPatternHelper.TilingPattern;\n      var getShadingPatternFromIR = displayPatternHelper.getShadingPatternFromIR;\n      var WebGLUtils = displayWebGL.WebGLUtils;\n      var hasCanvasTypedArrays = displayDOMUtils.hasCanvasTypedArrays;\n\n      // <canvas> contexts store most of the state we need natively.\n      // However, PDF needs a bit more state, which we store here.\n\n      // Minimal font size that would be used during canvas fillText operations.\n      var MIN_FONT_SIZE = 16;\n      // Maximum font size that would be used during canvas fillText operations.\n      var MAX_FONT_SIZE = 100;\n      var MAX_GROUP_SIZE = 4096;\n\n      // Heuristic value used when enforcing minimum line widths.\n      var MIN_WIDTH_FACTOR = 0.65;\n\n      var COMPILE_TYPE3_GLYPHS = true;\n      var MAX_SIZE_TO_COMPILE = 1000;\n\n      var FULL_CHUNK_HEIGHT = 16;\n\n      var HasCanvasTypedArraysCached = {\n        get value() {\n          return shadow(HasCanvasTypedArraysCached, 'value', hasCanvasTypedArrays());\n        }\n      };\n\n      var IsLittleEndianCached = {\n        get value() {\n          return shadow(IsLittleEndianCached, 'value', isLittleEndian());\n        }\n      };\n\n      function createScratchCanvas(width, height) {\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        return canvas;\n      }\n\n      function addContextCurrentTransform(ctx) {\n        // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n        if (!ctx.mozCurrentTransform) {\n          ctx._originalSave = ctx.save;\n          ctx._originalRestore = ctx.restore;\n          ctx._originalRotate = ctx.rotate;\n          ctx._originalScale = ctx.scale;\n          ctx._originalTranslate = ctx.translate;\n          ctx._originalTransform = ctx.transform;\n          ctx._originalSetTransform = ctx.setTransform;\n\n          ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n          ctx._transformStack = [];\n\n          Object.defineProperty(ctx, 'mozCurrentTransform', {\n            get: function getCurrentTransform() {\n              return this._transformMatrix;\n            }\n          });\n\n          Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n            get: function getCurrentTransformInverse() {\n              // Calculation done using WolframAlpha:\n              // http://www.wolframalpha.com/input/?\n              //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n              var m = this._transformMatrix;\n              var a = m[0],\n                b = m[1],\n                c = m[2],\n                d = m[3],\n                e = m[4],\n                f = m[5];\n\n              var ad_bc = a * d - b * c;\n              var bc_ad = b * c - a * d;\n\n              return [\n                d / ad_bc,\n                b / bc_ad,\n                c / bc_ad,\n                a / ad_bc,\n                (d * e - c * f) / bc_ad,\n                (b * e - a * f) / ad_bc\n              ];\n            }\n          });\n\n          ctx.save = function ctxSave() {\n            var old = this._transformMatrix;\n            this._transformStack.push(old);\n            this._transformMatrix = old.slice(0, 6);\n\n            this._originalSave();\n          };\n\n          ctx.restore = function ctxRestore() {\n            var prev = this._transformStack.pop();\n            if (prev) {\n              this._transformMatrix = prev;\n              this._originalRestore();\n            }\n          };\n\n          ctx.translate = function ctxTranslate(x, y) {\n            var m = this._transformMatrix;\n            m[4] = m[0] * x + m[2] * y + m[4];\n            m[5] = m[1] * x + m[3] * y + m[5];\n\n            this._originalTranslate(x, y);\n          };\n\n          ctx.scale = function ctxScale(x, y) {\n            var m = this._transformMatrix;\n            m[0] = m[0] * x;\n            m[1] = m[1] * x;\n            m[2] = m[2] * y;\n            m[3] = m[3] * y;\n\n            this._originalScale(x, y);\n          };\n\n          ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n            var m = this._transformMatrix;\n            this._transformMatrix = [\n              m[0] * a + m[2] * b,\n              m[1] * a + m[3] * b,\n              m[0] * c + m[2] * d,\n              m[1] * c + m[3] * d,\n              m[0] * e + m[2] * f + m[4],\n              m[1] * e + m[3] * f + m[5]\n            ];\n\n            ctx._originalTransform(a, b, c, d, e, f);\n          };\n\n          ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n            this._transformMatrix = [a, b, c, d, e, f];\n\n            ctx._originalSetTransform(a, b, c, d, e, f);\n          };\n\n          ctx.rotate = function ctxRotate(angle) {\n            var cosValue = Math.cos(angle);\n            var sinValue = Math.sin(angle);\n\n            var m = this._transformMatrix;\n            this._transformMatrix = [\n              m[0] * cosValue + m[2] * sinValue,\n              m[1] * cosValue + m[3] * sinValue,\n              m[0] * (-sinValue) + m[2] * cosValue,\n              m[1] * (-sinValue) + m[3] * cosValue,\n              m[4],\n              m[5]\n            ];\n\n            this._originalRotate(angle);\n          };\n        }\n      }\n\n      var CachedCanvases = (function CachedCanvasesClosure() {\n        function CachedCanvases() {\n          this.cache = Object.create(null);\n        }\n        CachedCanvases.prototype = {\n          getCanvas: function CachedCanvases_getCanvas(id, width, height,\n            trackTransform) {\n            var canvasEntry;\n            if (this.cache[id] !== undefined) {\n              canvasEntry = this.cache[id];\n              canvasEntry.canvas.width = width;\n              canvasEntry.canvas.height = height;\n              // reset canvas transform for emulated mozCurrentTransform, if needed\n              canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n            } else {\n              var canvas = createScratchCanvas(width, height);\n              var ctx = canvas.getContext('2d');\n              if (trackTransform) {\n                addContextCurrentTransform(ctx);\n              }\n              this.cache[id] = canvasEntry = {\n                canvas: canvas,\n                context: ctx\n              };\n            }\n            return canvasEntry;\n          },\n          clear: function() {\n            for (var id in this.cache) {\n              var canvasEntry = this.cache[id];\n              // Zeroing the width and height causes Firefox to release graphics\n              // resources immediately, which can greatly reduce memory consumption.\n              canvasEntry.canvas.width = 0;\n              canvasEntry.canvas.height = 0;\n              delete this.cache[id];\n            }\n          }\n        };\n        return CachedCanvases;\n      })();\n\n      function compileType3Glyph(imgData) {\n        var POINT_TO_PROCESS_LIMIT = 1000;\n\n        var width = imgData.width,\n          height = imgData.height;\n        var i, j, j0, width1 = width + 1;\n        var points = new Uint8Array(width1 * (height + 1));\n        var POINT_TYPES =\n          new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n        // decodes bit-packed mask data\n        var lineSize = (width + 7) & ~7,\n          data0 = imgData.data;\n        var data = new Uint8Array(lineSize * height),\n          pos = 0,\n          ii;\n        for (i = 0, ii = data0.length; i < ii; i++) {\n          var mask = 128,\n            elem = data0[i];\n          while (mask > 0) {\n            data[pos++] = (elem & mask) ? 0 : 255;\n            mask >>= 1;\n          }\n        }\n\n        // finding iteresting points: every point is located between mask pixels,\n        // so there will be points of the (width + 1)x(height + 1) grid. Every point\n        // will have flags assigned based on neighboring mask pixels:\n        //   4 | 8\n        //   --P--\n        //   2 | 1\n        // We are interested only in points with the flags:\n        //   - outside corners: 1, 2, 4, 8;\n        //   - inside corners: 7, 11, 13, 14;\n        //   - and, intersections: 5, 10.\n        var count = 0;\n        pos = 0;\n        if (data[pos] !== 0) {\n          points[0] = 1;\n          ++count;\n        }\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j] = data[pos] ? 2 : 1;\n            ++count;\n          }\n          pos++;\n        }\n        if (data[pos] !== 0) {\n          points[j] = 2;\n          ++count;\n        }\n        for (i = 1; i < height; i++) {\n          pos = i * lineSize;\n          j0 = i * width1;\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0] = data[pos] ? 1 : 8;\n            ++count;\n          }\n          // 'sum' is the position of the current pixel configuration in the 'TYPES'\n          // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n          var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n          for (j = 1; j < width; j++) {\n            sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) +\n              (data[pos - lineSize + 1] ? 8 : 0);\n            if (POINT_TYPES[sum]) {\n              points[j0 + j] = POINT_TYPES[sum];\n              ++count;\n            }\n            pos++;\n          }\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0 + j] = data[pos] ? 2 : 4;\n            ++count;\n          }\n\n          if (count > POINT_TO_PROCESS_LIMIT) {\n            return null;\n          }\n        }\n\n        pos = lineSize * (height - 1);\n        j0 = i * width1;\n        if (data[pos] !== 0) {\n          points[j0] = 8;\n          ++count;\n        }\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j0 + j] = data[pos] ? 4 : 8;\n            ++count;\n          }\n          pos++;\n        }\n        if (data[pos] !== 0) {\n          points[j0 + j] = 4;\n          ++count;\n        }\n        if (count > POINT_TO_PROCESS_LIMIT) {\n          return null;\n        }\n\n        // building outlines\n        var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n        var outlines = [];\n        for (i = 0; count && i <= height; i++) {\n          var p = i * width1;\n          var end = p + width;\n          while (p < end && !points[p]) {\n            p++;\n          }\n          if (p === end) {\n            continue;\n          }\n          var coords = [p % width1, i];\n\n          var type = points[p],\n            p0 = p,\n            pp;\n          do {\n            var step = steps[type];\n            do {\n              p += step;\n            } while (!points[p]);\n\n            pp = points[p];\n            if (pp !== 5 && pp !== 10) {\n              // set new direction\n              type = pp;\n              // delete mark\n              points[p] = 0;\n            } else { // type is 5 or 10, ie, a crossing\n              // set new direction\n              type = pp & ((0x33 * type) >> 4);\n              // set new type for \"future hit\"\n              points[p] &= (type >> 2 | type << 2);\n            }\n\n            coords.push(p % width1);\n            coords.push((p / width1) | 0);\n            --count;\n          } while (p0 !== p);\n          outlines.push(coords);\n          --i;\n        }\n\n        var drawOutline = function(c) {\n          c.save();\n          // the path shall be painted in [0..1]x[0..1] space\n          c.scale(1 / width, -1 / height);\n          c.translate(0, -height);\n          c.beginPath();\n          for (var i = 0, ii = outlines.length; i < ii; i++) {\n            var o = outlines[i];\n            c.moveTo(o[0], o[1]);\n            for (var j = 2, jj = o.length; j < jj; j += 2) {\n              c.lineTo(o[j], o[j + 1]);\n            }\n          }\n          c.fill();\n          c.beginPath();\n          c.restore();\n        };\n\n        return drawOutline;\n      }\n\n      var CanvasExtraState = (function CanvasExtraStateClosure() {\n        function CanvasExtraState(old) {\n          // Are soft masks and alpha values shapes or opacities?\n          this.alphaIsShape = false;\n          this.fontSize = 0;\n          this.fontSizeScale = 1;\n          this.textMatrix = IDENTITY_MATRIX;\n          this.textMatrixScale = 1;\n          this.fontMatrix = FONT_IDENTITY_MATRIX;\n          this.leading = 0;\n          // Current point (in user coordinates)\n          this.x = 0;\n          this.y = 0;\n          // Start of text line (in text coordinates)\n          this.lineX = 0;\n          this.lineY = 0;\n          // Character and word spacing\n          this.charSpacing = 0;\n          this.wordSpacing = 0;\n          this.textHScale = 1;\n          this.textRenderingMode = TextRenderingMode.FILL;\n          this.textRise = 0;\n          // Default fore and background colors\n          this.fillColor = '#000000';\n          this.strokeColor = '#000000';\n          this.patternFill = false;\n          // Note: fill alpha applies to all non-stroking operations\n          this.fillAlpha = 1;\n          this.strokeAlpha = 1;\n          this.lineWidth = 1;\n          this.activeSMask = null;\n          this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n\n          this.old = old;\n        }\n\n        CanvasExtraState.prototype = {\n          clone: function CanvasExtraState_clone() {\n            return Object.create(this);\n          },\n          setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n            this.x = x;\n            this.y = y;\n          }\n        };\n        return CanvasExtraState;\n      })();\n\n      var CanvasGraphics = (function CanvasGraphicsClosure() {\n        // Defines the time the executeOperatorList is going to be executing\n        // before it stops and shedules a continue of execution.\n        var EXECUTION_TIME = 15;\n        // Defines the number of steps before checking the execution time\n        var EXECUTION_STEPS = 10;\n\n        function CanvasGraphics(canvasCtx, commonObjs, objs, imageLayer) {\n          this.ctx = canvasCtx;\n          this.current = new CanvasExtraState();\n          this.stateStack = [];\n          this.pendingClip = null;\n          this.pendingEOFill = false;\n          this.res = null;\n          this.xobjs = null;\n          this.commonObjs = commonObjs;\n          this.objs = objs;\n          this.imageLayer = imageLayer;\n          this.groupStack = [];\n          this.processingType3 = null;\n          // Patterns are painted relative to the initial page/form transform, see pdf\n          // spec 8.7.2 NOTE 1.\n          this.baseTransform = null;\n          this.baseTransformStack = [];\n          this.groupLevel = 0;\n          this.smaskStack = [];\n          this.smaskCounter = 0;\n          this.tempSMask = null;\n          this.cachedCanvases = new CachedCanvases();\n          if (canvasCtx) {\n            // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n            // the transformation must already be set in canvasCtx._transformMatrix.\n            addContextCurrentTransform(canvasCtx);\n          }\n          this.cachedGetSinglePixelWidth = null;\n        }\n\n        function putBinaryImageData(ctx, imgData) {\n          if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n            ctx.putImageData(imgData, 0, 0);\n            return;\n          }\n\n          // Put the image data to the canvas in chunks, rather than putting the\n          // whole image at once.  This saves JS memory, because the ImageData object\n          // is smaller. It also possibly saves C++ memory within the implementation\n          // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n          // the data passed to putImageData()). |n| shouldn't be too small, however,\n          // because too many putImageData() calls will slow things down.\n          //\n          // Note: as written, if the last chunk is partial, the putImageData() call\n          // will (conceptually) put pixels past the bounds of the canvas.  But\n          // that's ok; any such pixels are ignored.\n\n          var height = imgData.height,\n            width = imgData.width;\n          var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n          var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n          var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n          var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n          var srcPos = 0,\n            destPos;\n          var src = imgData.data;\n          var dest = chunkImgData.data;\n          var i, j, thisChunkHeight, elemsInThisChunk;\n\n          // There are multiple forms in which the pixel data can be passed, and\n          // imgData.kind tells us which one this is.\n          if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n            // Grayscale, 1 bit per pixel (i.e. black-and-white).\n            var srcLength = src.byteLength;\n            var dest32 = HasCanvasTypedArraysCached.value ?\n              new Uint32Array(dest.buffer) : new Uint32ArrayView(dest);\n            var dest32DataLength = dest32.length;\n            var fullSrcDiff = (width + 7) >> 3;\n            var white = 0xFFFFFFFF;\n            var black = (IsLittleEndianCached.value ||\n              !HasCanvasTypedArraysCached.value) ? 0xFF000000 : 0x000000FF;\n            for (i = 0; i < totalChunks; i++) {\n              thisChunkHeight =\n                (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n              destPos = 0;\n              for (j = 0; j < thisChunkHeight; j++) {\n                var srcDiff = srcLength - srcPos;\n                var k = 0;\n                var kEnd = (srcDiff > fullSrcDiff) ? width : srcDiff * 8 - 7;\n                var kEndUnrolled = kEnd & ~7;\n                var mask = 0;\n                var srcByte = 0;\n                for (; k < kEndUnrolled; k += 8) {\n                  srcByte = src[srcPos++];\n                  dest32[destPos++] = (srcByte & 128) ? white : black;\n                  dest32[destPos++] = (srcByte & 64) ? white : black;\n                  dest32[destPos++] = (srcByte & 32) ? white : black;\n                  dest32[destPos++] = (srcByte & 16) ? white : black;\n                  dest32[destPos++] = (srcByte & 8) ? white : black;\n                  dest32[destPos++] = (srcByte & 4) ? white : black;\n                  dest32[destPos++] = (srcByte & 2) ? white : black;\n                  dest32[destPos++] = (srcByte & 1) ? white : black;\n                }\n                for (; k < kEnd; k++) {\n                  if (mask === 0) {\n                    srcByte = src[srcPos++];\n                    mask = 128;\n                  }\n\n                  dest32[destPos++] = (srcByte & mask) ? white : black;\n                  mask >>= 1;\n                }\n              }\n              // We ran out of input. Make all remaining pixels transparent.\n              while (destPos < dest32DataLength) {\n                dest32[destPos++] = 0;\n              }\n\n              ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n            }\n          } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n            // RGBA, 32-bits per pixel.\n\n            j = 0;\n            elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n            for (i = 0; i < fullChunks; i++) {\n              dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n              srcPos += elemsInThisChunk;\n\n              ctx.putImageData(chunkImgData, 0, j);\n              j += FULL_CHUNK_HEIGHT;\n            }\n            if (i < totalChunks) {\n              elemsInThisChunk = width * partialChunkHeight * 4;\n              dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n              ctx.putImageData(chunkImgData, 0, j);\n            }\n\n          } else if (imgData.kind === ImageKind.RGB_24BPP) {\n            // RGB, 24-bits per pixel.\n            thisChunkHeight = FULL_CHUNK_HEIGHT;\n            elemsInThisChunk = width * thisChunkHeight;\n            for (i = 0; i < totalChunks; i++) {\n              if (i >= fullChunks) {\n                thisChunkHeight = partialChunkHeight;\n                elemsInThisChunk = width * thisChunkHeight;\n              }\n\n              destPos = 0;\n              for (j = elemsInThisChunk; j--;) {\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = 255;\n              }\n              ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n            }\n          } else {\n            error('bad image kind: ' + imgData.kind);\n          }\n        }\n\n        function putBinaryImageMask(ctx, imgData) {\n          var height = imgData.height,\n            width = imgData.width;\n          var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n          var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n          var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n          var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n          var srcPos = 0;\n          var src = imgData.data;\n          var dest = chunkImgData.data;\n\n          for (var i = 0; i < totalChunks; i++) {\n            var thisChunkHeight =\n              (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n            // Expand the mask so it can be used by the canvas.  Any required\n            // inversion has already been handled.\n            var destPos = 3; // alpha component offset\n            for (var j = 0; j < thisChunkHeight; j++) {\n              var mask = 0;\n              for (var k = 0; k < width; k++) {\n                if (!mask) {\n                  var elem = src[srcPos++];\n                  mask = 128;\n                }\n                dest[destPos] = (elem & mask) ? 0 : 255;\n                destPos += 4;\n                mask >>= 1;\n              }\n            }\n            ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n          }\n        }\n\n        function copyCtxState(sourceCtx, destCtx) {\n          var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha',\n            'lineWidth', 'lineCap', 'lineJoin', 'miterLimit',\n            'globalCompositeOperation', 'font'\n          ];\n          for (var i = 0, ii = properties.length; i < ii; i++) {\n            var property = properties[i];\n            if (sourceCtx[property] !== undefined) {\n              destCtx[property] = sourceCtx[property];\n            }\n          }\n          if (sourceCtx.setLineDash !== undefined) {\n            destCtx.setLineDash(sourceCtx.getLineDash());\n            destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n          }\n        }\n\n        function composeSMaskBackdrop(bytes, r0, g0, b0) {\n          var length = bytes.length;\n          for (var i = 3; i < length; i += 4) {\n            var alpha = bytes[i];\n            if (alpha === 0) {\n              bytes[i - 3] = r0;\n              bytes[i - 2] = g0;\n              bytes[i - 1] = b0;\n            } else if (alpha < 255) {\n              var alpha_ = 255 - alpha;\n              bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n              bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n              bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n            }\n          }\n        }\n\n        function composeSMaskAlpha(maskData, layerData, transferMap) {\n          var length = maskData.length;\n          var scale = 1 / 255;\n          for (var i = 3; i < length; i += 4) {\n            var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n            layerData[i] = (layerData[i] * alpha * scale) | 0;\n          }\n        }\n\n        function composeSMaskLuminosity(maskData, layerData, transferMap) {\n          var length = maskData.length;\n          for (var i = 3; i < length; i += 4) {\n            var y = (maskData[i - 3] * 77) + // * 0.3 / 255 * 0x10000\n              (maskData[i - 2] * 152) + // * 0.59 ....\n              (maskData[i - 1] * 28); // * 0.11 ....\n            layerData[i] = transferMap ?\n              (layerData[i] * transferMap[y >> 8]) >> 8 :\n              (layerData[i] * y) >> 16;\n          }\n        }\n\n        function genericComposeSMask(maskCtx, layerCtx, width, height,\n          subtype, backdrop, transferMap) {\n          var hasBackdrop = !!backdrop;\n          var r0 = hasBackdrop ? backdrop[0] : 0;\n          var g0 = hasBackdrop ? backdrop[1] : 0;\n          var b0 = hasBackdrop ? backdrop[2] : 0;\n\n          var composeFn;\n          if (subtype === 'Luminosity') {\n            composeFn = composeSMaskLuminosity;\n          } else {\n            composeFn = composeSMaskAlpha;\n          }\n\n          // processing image in chunks to save memory\n          var PIXELS_TO_PROCESS = 1048576;\n          var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n          for (var row = 0; row < height; row += chunkSize) {\n            var chunkHeight = Math.min(chunkSize, height - row);\n            var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n            var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n            if (hasBackdrop) {\n              composeSMaskBackdrop(maskData.data, r0, g0, b0);\n            }\n            composeFn(maskData.data, layerData.data, transferMap);\n\n            maskCtx.putImageData(layerData, 0, row);\n          }\n        }\n\n        function composeSMask(ctx, smask, layerCtx) {\n          var mask = smask.canvas;\n          var maskCtx = smask.context;\n\n          ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY,\n            smask.offsetX, smask.offsetY);\n\n          var backdrop = smask.backdrop || null;\n          if (!smask.transferMap && WebGLUtils.isEnabled) {\n            var composed = WebGLUtils.composeSMask(layerCtx.canvas, mask, {\n              subtype: smask.subtype,\n              backdrop: backdrop\n            });\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n            return;\n          }\n          genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height,\n            smask.subtype, backdrop, smask.transferMap);\n          ctx.drawImage(mask, 0, 0);\n        }\n\n        var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n        var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n        var NORMAL_CLIP = {};\n        var EO_CLIP = {};\n\n        CanvasGraphics.prototype = {\n\n          beginDrawing: function CanvasGraphics_beginDrawing(transform, viewport,\n            transparency) {\n            // For pdfs that use blend modes we have to clear the canvas else certain\n            // blend modes can look wrong since we'd be blending with a white\n            // backdrop. The problem with a transparent backdrop though is we then\n            // don't get sub pixel anti aliasing on text, creating temporary\n            // transparent canvas when we have blend modes.\n            var width = this.ctx.canvas.width;\n            var height = this.ctx.canvas.height;\n\n            this.ctx.save();\n            this.ctx.fillStyle = 'rgb(255, 255, 255)';\n            this.ctx.fillRect(0, 0, width, height);\n            this.ctx.restore();\n\n            if (transparency) {\n              var transparentCanvas = this.cachedCanvases.getCanvas(\n                'transparent', width, height, true);\n              this.compositeCtx = this.ctx;\n              this.transparentCanvas = transparentCanvas.canvas;\n              this.ctx = transparentCanvas.context;\n              this.ctx.save();\n              // The transform can be applied before rendering, transferring it to\n              // the new canvas.\n              this.ctx.transform.apply(this.ctx,\n                this.compositeCtx.mozCurrentTransform);\n            }\n\n            this.ctx.save();\n            if (transform) {\n              this.ctx.transform.apply(this.ctx, transform);\n            }\n            this.ctx.transform.apply(this.ctx, viewport.transform);\n\n            this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n            if (this.imageLayer) {\n              this.imageLayer.beginLayout();\n            }\n          },\n\n          executeOperatorList: function CanvasGraphics_executeOperatorList(\n            operatorList,\n            executionStartIdx, continueCallback,\n            stepper) {\n            var argsArray = operatorList.argsArray;\n            var fnArray = operatorList.fnArray;\n            var i = executionStartIdx || 0;\n            var argsArrayLen = argsArray.length;\n\n            // Sometimes the OperatorList to execute is empty.\n            if (argsArrayLen === i) {\n              return i;\n            }\n\n            var chunkOperations = (argsArrayLen - i > EXECUTION_STEPS &&\n              typeof continueCallback === 'function');\n            var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n            var steps = 0;\n\n            var commonObjs = this.commonObjs;\n            var objs = this.objs;\n            var fnId;\n\n            while (true) {\n              if (stepper !== undefined && i === stepper.nextBreakPoint) {\n                stepper.breakIt(i, continueCallback);\n                return i;\n              }\n\n              fnId = fnArray[i];\n\n              if (fnId !== OPS.dependency) {\n                this[fnId].apply(this, argsArray[i]);\n              } else {\n                var deps = argsArray[i];\n                for (var n = 0, nn = deps.length; n < nn; n++) {\n                  var depObjId = deps[n];\n                  var common = depObjId[0] === 'g' && depObjId[1] === '_';\n                  var objsPool = common ? commonObjs : objs;\n\n                  // If the promise isn't resolved yet, add the continueCallback\n                  // to the promise and bail out.\n                  if (!objsPool.isResolved(depObjId)) {\n                    objsPool.get(depObjId, continueCallback);\n                    return i;\n                  }\n                }\n              }\n\n              i++;\n\n              // If the entire operatorList was executed, stop as were done.\n              if (i === argsArrayLen) {\n                return i;\n              }\n\n              // If the execution took longer then a certain amount of time and\n              // `continueCallback` is specified, interrupt the execution.\n              if (chunkOperations && ++steps > EXECUTION_STEPS) {\n                if (Date.now() > endTime) {\n                  continueCallback();\n                  return i;\n                }\n                steps = 0;\n              }\n\n              // If the operatorList isn't executed completely yet OR the execution\n              // time was short enough, do another execution round.\n            }\n          },\n\n          endDrawing: function CanvasGraphics_endDrawing() {\n            // Finishing all opened operations such as SMask group painting.\n            if (this.current.activeSMask !== null) {\n              this.endSMaskGroup();\n            }\n\n            this.ctx.restore();\n\n            if (this.transparentCanvas) {\n              this.ctx = this.compositeCtx;\n              this.ctx.save();\n              this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n              this.ctx.drawImage(this.transparentCanvas, 0, 0);\n              this.ctx.restore();\n              this.transparentCanvas = null;\n            }\n\n            this.cachedCanvases.clear();\n            WebGLUtils.clear();\n\n            if (this.imageLayer) {\n              this.imageLayer.endLayout();\n            }\n          },\n\n          // Graphics state\n          setLineWidth: function CanvasGraphics_setLineWidth(width) {\n            this.current.lineWidth = width;\n            this.ctx.lineWidth = width;\n          },\n          setLineCap: function CanvasGraphics_setLineCap(style) {\n            this.ctx.lineCap = LINE_CAP_STYLES[style];\n          },\n          setLineJoin: function CanvasGraphics_setLineJoin(style) {\n            this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n          },\n          setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n            this.ctx.miterLimit = limit;\n          },\n          setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n            var ctx = this.ctx;\n            if (ctx.setLineDash !== undefined) {\n              ctx.setLineDash(dashArray);\n              ctx.lineDashOffset = dashPhase;\n            }\n          },\n          setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {\n            // Maybe if we one day fully support color spaces this will be important\n            // for now we can ignore.\n            // TODO set rendering intent?\n          },\n          setFlatness: function CanvasGraphics_setFlatness(flatness) {\n            // There's no way to control this with canvas, but we can safely ignore.\n            // TODO set flatness?\n          },\n          setGState: function CanvasGraphics_setGState(states) {\n            for (var i = 0, ii = states.length; i < ii; i++) {\n              var state = states[i];\n              var key = state[0];\n              var value = state[1];\n\n              switch (key) {\n                case 'LW':\n                  this.setLineWidth(value);\n                  break;\n                case 'LC':\n                  this.setLineCap(value);\n                  break;\n                case 'LJ':\n                  this.setLineJoin(value);\n                  break;\n                case 'ML':\n                  this.setMiterLimit(value);\n                  break;\n                case 'D':\n                  this.setDash(value[0], value[1]);\n                  break;\n                case 'RI':\n                  this.setRenderingIntent(value);\n                  break;\n                case 'FL':\n                  this.setFlatness(value);\n                  break;\n                case 'Font':\n                  this.setFont(value[0], value[1]);\n                  break;\n                case 'CA':\n                  this.current.strokeAlpha = state[1];\n                  break;\n                case 'ca':\n                  this.current.fillAlpha = state[1];\n                  this.ctx.globalAlpha = state[1];\n                  break;\n                case 'BM':\n                  if (value && value.name && (value.name !== 'Normal')) {\n                    var mode = value.name.replace(/([A-Z])/g,\n                      function(c) {\n                        return '-' + c.toLowerCase();\n                      }\n                    ).substring(1);\n                    this.ctx.globalCompositeOperation = mode;\n                    if (this.ctx.globalCompositeOperation !== mode) {\n                      warn('globalCompositeOperation \"' + mode +\n                        '\" is not supported');\n                    }\n                  } else {\n                    this.ctx.globalCompositeOperation = 'source-over';\n                  }\n                  break;\n                case 'SMask':\n                  if (this.current.activeSMask) {\n                    // If SMask is currrenly used, it needs to be suspended or\n                    // finished. Suspend only makes sense when at least one save()\n                    // was performed and state needs to be reverted on restore().\n                    if (this.stateStack.length > 0 &&\n                      (this.stateStack[this.stateStack.length - 1].activeSMask ===\n                        this.current.activeSMask)) {\n                      this.suspendSMaskGroup();\n                    } else {\n                      this.endSMaskGroup();\n                    }\n                  }\n                  this.current.activeSMask = value ? this.tempSMask : null;\n                  if (this.current.activeSMask) {\n                    this.beginSMaskGroup();\n                  }\n                  this.tempSMask = null;\n                  break;\n              }\n            }\n          },\n          beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n\n            var activeSMask = this.current.activeSMask;\n            var drawnWidth = activeSMask.canvas.width;\n            var drawnHeight = activeSMask.canvas.height;\n            var cacheId = 'smaskGroupAt' + this.groupLevel;\n            var scratchCanvas = this.cachedCanvases.getCanvas(\n              cacheId, drawnWidth, drawnHeight, true);\n\n            var currentCtx = this.ctx;\n            var currentTransform = currentCtx.mozCurrentTransform;\n            this.ctx.save();\n\n            var groupCtx = scratchCanvas.context;\n            groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n            groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n            groupCtx.transform.apply(groupCtx, currentTransform);\n\n            activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n            copyCtxState(currentCtx, groupCtx);\n            this.ctx = groupCtx;\n            this.setGState([\n              ['BM', 'Normal'],\n              ['ca', 1],\n              ['CA', 1]\n            ]);\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n          },\n          suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            // Similar to endSMaskGroup, the intermediate canvas has to be composed\n            // and future ctx state restored.\n            var groupCtx = this.ctx;\n            this.groupLevel--;\n            this.ctx = this.groupStack.pop();\n\n            composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n            this.ctx.restore();\n            this.ctx.save(); // save is needed since SMask will be resumed.\n            copyCtxState(groupCtx, this.ctx);\n\n            // Saving state for resuming.\n            this.current.resumeSMaskCtx = groupCtx;\n            // Transform was changed in the SMask canvas, reflecting this change on\n            // this.ctx.\n            var deltaTransform = Util.transform(\n              this.current.activeSMask.startTransformInverse,\n              groupCtx.mozCurrentTransform);\n            this.ctx.transform.apply(this.ctx, deltaTransform);\n\n            // SMask was composed, the results at the groupCtx can be cleared.\n            groupCtx.save();\n            groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n            groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n            groupCtx.restore();\n          },\n          resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            // Resuming state saved by suspendSMaskGroup. We don't need to restore\n            // any groupCtx state since restore() command (the only caller) will do\n            // that for us. See also beginSMaskGroup.\n            var groupCtx = this.current.resumeSMaskCtx;\n            var currentCtx = this.ctx;\n            this.ctx = groupCtx;\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n          },\n          endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.ctx;\n            this.groupLevel--;\n            this.ctx = this.groupStack.pop();\n\n            composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n            this.ctx.restore();\n            copyCtxState(groupCtx, this.ctx);\n            // Transform was changed in the SMask canvas, reflecting this change on\n            // this.ctx.\n            var deltaTransform = Util.transform(\n              this.current.activeSMask.startTransformInverse,\n              groupCtx.mozCurrentTransform);\n            this.ctx.transform.apply(this.ctx, deltaTransform);\n          },\n          save: function CanvasGraphics_save() {\n            this.ctx.save();\n            var old = this.current;\n            this.stateStack.push(old);\n            this.current = old.clone();\n            this.current.resumeSMaskCtx = null;\n          },\n          restore: function CanvasGraphics_restore() {\n            // SMask was suspended, we just need to resume it.\n            if (this.current.resumeSMaskCtx) {\n              this.resumeSMaskGroup();\n            }\n            // SMask has to be finished once there is no states that are using the\n            // same SMask.\n            if (this.current.activeSMask !== null && (this.stateStack.length === 0 ||\n                this.stateStack[this.stateStack.length - 1].activeSMask !==\n                this.current.activeSMask)) {\n              this.endSMaskGroup();\n            }\n\n            if (this.stateStack.length !== 0) {\n              this.current = this.stateStack.pop();\n              this.ctx.restore();\n\n              // Ensure that the clipping path is reset (fixes issue6413.pdf).\n              this.pendingClip = null;\n\n              this.cachedGetSinglePixelWidth = null;\n            }\n          },\n          transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n            this.ctx.transform(a, b, c, d, e, f);\n\n            this.cachedGetSinglePixelWidth = null;\n          },\n\n          // Path\n          constructPath: function CanvasGraphics_constructPath(ops, args) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var x = current.x,\n              y = current.y;\n            for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n              switch (ops[i] | 0) {\n                case OPS.rectangle:\n                  x = args[j++];\n                  y = args[j++];\n                  var width = args[j++];\n                  var height = args[j++];\n                  if (width === 0) {\n                    width = this.getSinglePixelWidth();\n                  }\n                  if (height === 0) {\n                    height = this.getSinglePixelWidth();\n                  }\n                  var xw = x + width;\n                  var yh = y + height;\n                  this.ctx.moveTo(x, y);\n                  this.ctx.lineTo(xw, y);\n                  this.ctx.lineTo(xw, yh);\n                  this.ctx.lineTo(x, yh);\n                  this.ctx.lineTo(x, y);\n                  this.ctx.closePath();\n                  break;\n                case OPS.moveTo:\n                  x = args[j++];\n                  y = args[j++];\n                  ctx.moveTo(x, y);\n                  break;\n                case OPS.lineTo:\n                  x = args[j++];\n                  y = args[j++];\n                  ctx.lineTo(x, y);\n                  break;\n                case OPS.curveTo:\n                  x = args[j + 4];\n                  y = args[j + 5];\n                  ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3],\n                    x, y);\n                  j += 6;\n                  break;\n                case OPS.curveTo2:\n                  ctx.bezierCurveTo(x, y, args[j], args[j + 1],\n                    args[j + 2], args[j + 3]);\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  j += 4;\n                  break;\n                case OPS.curveTo3:\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n                  j += 4;\n                  break;\n                case OPS.closePath:\n                  ctx.closePath();\n                  break;\n              }\n            }\n            current.setCurrentPoint(x, y);\n          },\n          closePath: function CanvasGraphics_closePath() {\n            this.ctx.closePath();\n          },\n          stroke: function CanvasGraphics_stroke(consumePath) {\n            consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n            var ctx = this.ctx;\n            var strokeColor = this.current.strokeColor;\n            // Prevent drawing too thin lines by enforcing a minimum line width.\n            ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n              this.current.lineWidth);\n            // For stroke we want to temporarily change the global alpha to the\n            // stroking alpha.\n            ctx.globalAlpha = this.current.strokeAlpha;\n            if (strokeColor && strokeColor.hasOwnProperty('type') &&\n              strokeColor.type === 'Pattern') {\n              // for patterns, we transform to pattern space, calculate\n              // the pattern, call stroke, and restore to user space\n              ctx.save();\n              ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n              ctx.stroke();\n              ctx.restore();\n            } else {\n              ctx.stroke();\n            }\n            if (consumePath) {\n              this.consumePath();\n            }\n            // Restore the global alpha to the fill alpha\n            ctx.globalAlpha = this.current.fillAlpha;\n          },\n          closeStroke: function CanvasGraphics_closeStroke() {\n            this.closePath();\n            this.stroke();\n          },\n          fill: function CanvasGraphics_fill(consumePath) {\n            consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n            var ctx = this.ctx;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var needRestore = false;\n\n            if (isPatternFill) {\n              ctx.save();\n              if (this.baseTransform) {\n                ctx.setTransform.apply(ctx, this.baseTransform);\n              }\n              ctx.fillStyle = fillColor.getPattern(ctx, this);\n              needRestore = true;\n            }\n\n            if (this.pendingEOFill) {\n              if (ctx.mozFillRule !== undefined) {\n                ctx.mozFillRule = 'evenodd';\n                ctx.fill();\n                ctx.mozFillRule = 'nonzero';\n              } else {\n                ctx.fill('evenodd');\n              }\n              this.pendingEOFill = false;\n            } else {\n              ctx.fill();\n            }\n\n            if (needRestore) {\n              ctx.restore();\n            }\n            if (consumePath) {\n              this.consumePath();\n            }\n          },\n          eoFill: function CanvasGraphics_eoFill() {\n            this.pendingEOFill = true;\n            this.fill();\n          },\n          fillStroke: function CanvasGraphics_fillStroke() {\n            this.fill(false);\n            this.stroke(false);\n\n            this.consumePath();\n          },\n          eoFillStroke: function CanvasGraphics_eoFillStroke() {\n            this.pendingEOFill = true;\n            this.fillStroke();\n          },\n          closeFillStroke: function CanvasGraphics_closeFillStroke() {\n            this.closePath();\n            this.fillStroke();\n          },\n          closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n            this.pendingEOFill = true;\n            this.closePath();\n            this.fillStroke();\n          },\n          endPath: function CanvasGraphics_endPath() {\n            this.consumePath();\n          },\n\n          // Clipping\n          clip: function CanvasGraphics_clip() {\n            this.pendingClip = NORMAL_CLIP;\n          },\n          eoClip: function CanvasGraphics_eoClip() {\n            this.pendingClip = EO_CLIP;\n          },\n\n          // Text\n          beginText: function CanvasGraphics_beginText() {\n            this.current.textMatrix = IDENTITY_MATRIX;\n            this.current.textMatrixScale = 1;\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n          },\n          endText: function CanvasGraphics_endText() {\n            var paths = this.pendingTextPaths;\n            var ctx = this.ctx;\n            if (paths === undefined) {\n              ctx.beginPath();\n              return;\n            }\n\n            ctx.save();\n            ctx.beginPath();\n            for (var i = 0; i < paths.length; i++) {\n              var path = paths[i];\n              ctx.setTransform.apply(ctx, path.transform);\n              ctx.translate(path.x, path.y);\n              path.addToPath(ctx, path.fontSize);\n            }\n            ctx.restore();\n            ctx.clip();\n            ctx.beginPath();\n            delete this.pendingTextPaths;\n          },\n          setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n            this.current.charSpacing = spacing;\n          },\n          setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n            this.current.wordSpacing = spacing;\n          },\n          setHScale: function CanvasGraphics_setHScale(scale) {\n            this.current.textHScale = scale / 100;\n          },\n          setLeading: function CanvasGraphics_setLeading(leading) {\n            this.current.leading = -leading;\n          },\n          setFont: function CanvasGraphics_setFont(fontRefName, size) {\n            var fontObj = this.commonObjs.get(fontRefName);\n            var current = this.current;\n\n            if (!fontObj) {\n              error('Can\\'t find font for ' + fontRefName);\n            }\n\n            current.fontMatrix = (fontObj.fontMatrix ?\n              fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n            // A valid matrix needs all main diagonal elements to be non-zero\n            // This also ensures we bypass FF bugzilla bug #719844.\n            if (current.fontMatrix[0] === 0 ||\n              current.fontMatrix[3] === 0) {\n              warn('Invalid font matrix for font ' + fontRefName);\n            }\n\n            // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n            // and in some docs this can be negative (inverted x-y axes).\n            if (size < 0) {\n              size = -size;\n              current.fontDirection = -1;\n            } else {\n              current.fontDirection = 1;\n            }\n\n            this.current.font = fontObj;\n            this.current.fontSize = size;\n\n            if (fontObj.isType3Font) {\n              return; // we don't need ctx.font for Type3 fonts\n            }\n\n            var name = fontObj.loadedName || 'sans-serif';\n            var bold = fontObj.black ? (fontObj.bold ? '900' : 'bold') :\n              (fontObj.bold ? 'bold' : 'normal');\n\n            var italic = fontObj.italic ? 'italic' : 'normal';\n            var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n\n            // Some font backends cannot handle fonts below certain size.\n            // Keeping the font at minimal size and using the fontSizeScale to change\n            // the current transformation matrix before the fillText/strokeText.\n            // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n            var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE :\n              size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n            this.current.fontSizeScale = size / browserFontSize;\n\n            var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n            this.ctx.font = rule;\n          },\n          setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n            this.current.textRenderingMode = mode;\n          },\n          setTextRise: function CanvasGraphics_setTextRise(rise) {\n            this.current.textRise = rise;\n          },\n          moveText: function CanvasGraphics_moveText(x, y) {\n            this.current.x = this.current.lineX += x;\n            this.current.y = this.current.lineY += y;\n          },\n          setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n            this.setLeading(-y);\n            this.moveText(x, y);\n          },\n          setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n            this.current.textMatrix = [a, b, c, d, e, f];\n            this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n          },\n          nextLine: function CanvasGraphics_nextLine() {\n            this.moveText(0, this.current.leading);\n          },\n\n          paintChar: function CanvasGraphics_paintChar(character, x, y) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var font = current.font;\n            var textRenderingMode = current.textRenderingMode;\n            var fontSize = current.fontSize / current.fontSizeScale;\n            var fillStrokeMode = textRenderingMode &\n              TextRenderingMode.FILL_STROKE_MASK;\n            var isAddToPathSet = !!(textRenderingMode &\n              TextRenderingMode.ADD_TO_PATH_FLAG);\n\n            var addToPath;\n            if (font.disableFontFace || isAddToPathSet) {\n              addToPath = font.getPathGenerator(this.commonObjs, character);\n            }\n\n            if (font.disableFontFace) {\n              ctx.save();\n              ctx.translate(x, y);\n              ctx.beginPath();\n              addToPath(ctx, fontSize);\n              if (fillStrokeMode === TextRenderingMode.FILL ||\n                fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n                ctx.fill();\n              }\n              if (fillStrokeMode === TextRenderingMode.STROKE ||\n                fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n                ctx.stroke();\n              }\n              ctx.restore();\n            } else {\n              if (fillStrokeMode === TextRenderingMode.FILL ||\n                fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n                ctx.fillText(character, x, y);\n              }\n              if (fillStrokeMode === TextRenderingMode.STROKE ||\n                fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n                ctx.strokeText(character, x, y);\n              }\n            }\n\n            if (isAddToPathSet) {\n              var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n              paths.push({\n                transform: ctx.mozCurrentTransform,\n                x: x,\n                y: y,\n                fontSize: fontSize,\n                addToPath: addToPath\n              });\n            }\n          },\n\n          get isFontSubpixelAAEnabled() {\n            // Checks if anti-aliasing is enabled when scaled text is painted.\n            // On Windows GDI scaled fonts looks bad.\n            var ctx = document.createElement('canvas').getContext('2d');\n            ctx.scale(1.5, 1);\n            ctx.fillText('I', 0, 10);\n            var data = ctx.getImageData(0, 0, 10, 10).data;\n            var enabled = false;\n            for (var i = 3; i < data.length; i += 4) {\n              if (data[i] > 0 && data[i] < 255) {\n                enabled = true;\n                break;\n              }\n            }\n            return shadow(this, 'isFontSubpixelAAEnabled', enabled);\n          },\n\n          showText: function CanvasGraphics_showText(glyphs) {\n            var current = this.current;\n            var font = current.font;\n            if (font.isType3Font) {\n              return this.showType3Text(glyphs);\n            }\n\n            var fontSize = current.fontSize;\n            if (fontSize === 0) {\n              return;\n            }\n\n            var ctx = this.ctx;\n            var fontSizeScale = current.fontSizeScale;\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var fontDirection = current.fontDirection;\n            var textHScale = current.textHScale * fontDirection;\n            var glyphsLength = glyphs.length;\n            var vertical = font.vertical;\n            var spacingDir = vertical ? 1 : -1;\n            var defaultVMetrics = font.defaultVMetrics;\n            var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n            var simpleFillText =\n              current.textRenderingMode === TextRenderingMode.FILL &&\n              !font.disableFontFace;\n\n            ctx.save();\n            ctx.transform.apply(ctx, current.textMatrix);\n            ctx.translate(current.x, current.y + current.textRise);\n\n            if (current.patternFill) {\n              // TODO: Some shading patterns are not applied correctly to text,\n              //       e.g. issues 3988 and 5432, and ShowText-ShadingPattern.pdf.\n              ctx.fillStyle = current.fillColor.getPattern(ctx, this);\n            }\n\n            if (fontDirection > 0) {\n              ctx.scale(textHScale, -1);\n            } else {\n              ctx.scale(textHScale, 1);\n            }\n\n            var lineWidth = current.lineWidth;\n            var scale = current.textMatrixScale;\n            if (scale === 0 || lineWidth === 0) {\n              var fillStrokeMode = current.textRenderingMode &\n                TextRenderingMode.FILL_STROKE_MASK;\n              if (fillStrokeMode === TextRenderingMode.STROKE ||\n                fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n                this.cachedGetSinglePixelWidth = null;\n                lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n              }\n            } else {\n              lineWidth /= scale;\n            }\n\n            if (fontSizeScale !== 1.0) {\n              ctx.scale(fontSizeScale, fontSizeScale);\n              lineWidth /= fontSizeScale;\n            }\n\n            ctx.lineWidth = lineWidth;\n\n            var x = 0,\n              i;\n            for (i = 0; i < glyphsLength; ++i) {\n              var glyph = glyphs[i];\n              if (isNum(glyph)) {\n                x += spacingDir * glyph * fontSize / 1000;\n                continue;\n              }\n\n              var restoreNeeded = false;\n              var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              var character = glyph.fontChar;\n              var accent = glyph.accent;\n              var scaledX, scaledY, scaledAccentX, scaledAccentY;\n              var width = glyph.width;\n              if (vertical) {\n                var vmetric, vx, vy;\n                vmetric = glyph.vmetric || defaultVMetrics;\n                vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n                vx = -vx * widthAdvanceScale;\n                vy = vmetric[2] * widthAdvanceScale;\n\n                width = vmetric ? -vmetric[0] : width;\n                scaledX = vx / fontSizeScale;\n                scaledY = (x + vy) / fontSizeScale;\n              } else {\n                scaledX = x / fontSizeScale;\n                scaledY = 0;\n              }\n\n              if (font.remeasure && width > 0) {\n                // Some standard fonts may not have the exact width: rescale per\n                // character if measured width is greater than expected glyph width\n                // and subpixel-aa is enabled, otherwise just center the glyph.\n                var measuredWidth = ctx.measureText(character).width * 1000 /\n                  fontSize * fontSizeScale;\n                if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n                  var characterScaleX = width / measuredWidth;\n                  restoreNeeded = true;\n                  ctx.save();\n                  ctx.scale(characterScaleX, 1);\n                  scaledX /= characterScaleX;\n                } else if (width !== measuredWidth) {\n                  scaledX += (width - measuredWidth) / 2000 *\n                    fontSize / fontSizeScale;\n                }\n              }\n\n              // Only attempt to draw the glyph if it is actually in the embedded font\n              // file or if there isn't a font file so the fallback font is shown.\n              if (glyph.isInFont || font.missingFile) {\n                if (simpleFillText && !accent) {\n                  // common case\n                  ctx.fillText(character, scaledX, scaledY);\n                } else {\n                  this.paintChar(character, scaledX, scaledY);\n                  if (accent) {\n                    scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n                    scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n                    this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n                  }\n                }\n              }\n\n              var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n              x += charWidth;\n\n              if (restoreNeeded) {\n                ctx.restore();\n              }\n            }\n            if (vertical) {\n              current.y -= x * textHScale;\n            } else {\n              current.x += x * textHScale;\n            }\n            ctx.restore();\n          },\n\n          showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n            // Type3 fonts - each glyph is a \"mini-PDF\"\n            var ctx = this.ctx;\n            var current = this.current;\n            var font = current.font;\n            var fontSize = current.fontSize;\n            var fontDirection = current.fontDirection;\n            var spacingDir = font.vertical ? 1 : -1;\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var textHScale = current.textHScale * fontDirection;\n            var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n            var glyphsLength = glyphs.length;\n            var isTextInvisible =\n              current.textRenderingMode === TextRenderingMode.INVISIBLE;\n            var i, glyph, width, spacingLength;\n\n            if (isTextInvisible || fontSize === 0) {\n              return;\n            }\n            this.cachedGetSinglePixelWidth = null;\n\n            ctx.save();\n            ctx.transform.apply(ctx, current.textMatrix);\n            ctx.translate(current.x, current.y);\n\n            ctx.scale(textHScale, fontDirection);\n\n            for (i = 0; i < glyphsLength; ++i) {\n              glyph = glyphs[i];\n              if (isNum(glyph)) {\n                spacingLength = spacingDir * glyph * fontSize / 1000;\n                this.ctx.translate(spacingLength, 0);\n                current.x += spacingLength * textHScale;\n                continue;\n              }\n\n              var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              var operatorList = font.charProcOperatorList[glyph.operatorListId];\n              if (!operatorList) {\n                warn('Type3 character \\\"' + glyph.operatorListId +\n                  '\\\" is not available');\n                continue;\n              }\n              this.processingType3 = glyph;\n              this.save();\n              ctx.scale(fontSize, fontSize);\n              ctx.transform.apply(ctx, fontMatrix);\n              this.executeOperatorList(operatorList);\n              this.restore();\n\n              var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n              width = transformed[0] * fontSize + spacing;\n\n              ctx.translate(width, 0);\n              current.x += width * textHScale;\n            }\n            ctx.restore();\n            this.processingType3 = null;\n          },\n\n          // Type3 fonts\n          setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n            // We can safely ignore this since the width should be the same\n            // as the width in the Widths array.\n          },\n          setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth,\n            yWidth,\n            llx,\n            lly,\n            urx,\n            ury) {\n            // TODO According to the spec we're also suppose to ignore any operators\n            // that set color or include images while processing this type3 font.\n            this.ctx.rect(llx, lly, urx - llx, ury - lly);\n            this.clip();\n            this.endPath();\n          },\n\n          // Color\n          getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n            var pattern;\n            if (IR[0] === 'TilingPattern') {\n              var color = IR[1];\n              var baseTransform = this.baseTransform ||\n                this.ctx.mozCurrentTransform.slice();\n              var self = this;\n              var canvasGraphicsFactory = {\n                createCanvasGraphics: function(ctx) {\n                  return new CanvasGraphics(ctx, self.commonObjs, self.objs);\n                }\n              };\n              pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory,\n                baseTransform);\n            } else {\n              pattern = getShadingPatternFromIR(IR);\n            }\n            return pattern;\n          },\n          setStrokeColorN: function CanvasGraphics_setStrokeColorN( /*...*/ ) {\n            this.current.strokeColor = this.getColorN_Pattern(arguments);\n          },\n          setFillColorN: function CanvasGraphics_setFillColorN( /*...*/ ) {\n            this.current.fillColor = this.getColorN_Pattern(arguments);\n            this.current.patternFill = true;\n          },\n          setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n            var color = Util.makeCssRgb(r, g, b);\n            this.ctx.strokeStyle = color;\n            this.current.strokeColor = color;\n          },\n          setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n            var color = Util.makeCssRgb(r, g, b);\n            this.ctx.fillStyle = color;\n            this.current.fillColor = color;\n            this.current.patternFill = false;\n          },\n\n          shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n            var ctx = this.ctx;\n\n            this.save();\n            var pattern = getShadingPatternFromIR(patternIR);\n            ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n            var inv = ctx.mozCurrentTransformInverse;\n            if (inv) {\n              var canvas = ctx.canvas;\n              var width = canvas.width;\n              var height = canvas.height;\n\n              var bl = Util.applyTransform([0, 0], inv);\n              var br = Util.applyTransform([0, height], inv);\n              var ul = Util.applyTransform([width, 0], inv);\n              var ur = Util.applyTransform([width, height], inv);\n\n              var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n              var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n              var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n              var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n              this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n            } else {\n              // HACK to draw the gradient onto an infinite rectangle.\n              // PDF gradients are drawn across the entire image while\n              // Canvas only allows gradients to be drawn in a rectangle\n              // The following bug should allow us to remove this.\n              // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n              this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n            }\n\n            this.restore();\n          },\n\n          // Images\n          beginInlineImage: function CanvasGraphics_beginInlineImage() {\n            error('Should not call beginInlineImage');\n          },\n          beginImageData: function CanvasGraphics_beginImageData() {\n            error('Should not call beginImageData');\n          },\n\n          paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix,\n            bbox) {\n            this.save();\n            this.baseTransformStack.push(this.baseTransform);\n\n            if (isArray(matrix) && 6 === matrix.length) {\n              this.transform.apply(this, matrix);\n            }\n\n            this.baseTransform = this.ctx.mozCurrentTransform;\n\n            if (isArray(bbox) && 4 === bbox.length) {\n              var width = bbox[2] - bbox[0];\n              var height = bbox[3] - bbox[1];\n              this.ctx.rect(bbox[0], bbox[1], width, height);\n              this.clip();\n              this.endPath();\n            }\n          },\n\n          paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n            this.restore();\n            this.baseTransform = this.baseTransformStack.pop();\n          },\n\n          beginGroup: function CanvasGraphics_beginGroup(group) {\n            this.save();\n            var currentCtx = this.ctx;\n            // TODO non-isolated groups - according to Rik at adobe non-isolated\n            // group results aren't usually that different and they even have tools\n            // that ignore this setting. Notes from Rik on implementing:\n            // - When you encounter an transparency group, create a new canvas with\n            // the dimensions of the bbox\n            // - copy the content from the previous canvas to the new canvas\n            // - draw as usual\n            // - remove the backdrop alpha:\n            // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n            // value of your transparency group and 'alphaBackdrop' the alpha of the\n            // backdrop\n            // - remove background color:\n            // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n            if (!group.isolated) {\n              info('TODO: Support non-isolated groups.');\n            }\n\n            // TODO knockout - supposedly possible with the clever use of compositing\n            // modes.\n            if (group.knockout) {\n              warn('Knockout groups not supported.');\n            }\n\n            var currentTransform = currentCtx.mozCurrentTransform;\n            if (group.matrix) {\n              currentCtx.transform.apply(currentCtx, group.matrix);\n            }\n            assert(group.bbox, 'Bounding box is required.');\n\n            // Based on the current transform figure out how big the bounding box\n            // will actually be.\n            var bounds = Util.getAxialAlignedBoundingBox(\n              group.bbox,\n              currentCtx.mozCurrentTransform);\n            // Clip the bounding box to the current canvas.\n            var canvasBounds = [0,\n              0,\n              currentCtx.canvas.width,\n              currentCtx.canvas.height\n            ];\n            bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n            // Use ceil in case we're between sizes so we don't create canvas that is\n            // too small and make the canvas at least 1x1 pixels.\n            var offsetX = Math.floor(bounds[0]);\n            var offsetY = Math.floor(bounds[1]);\n            var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n            var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n            var scaleX = 1,\n              scaleY = 1;\n            if (drawnWidth > MAX_GROUP_SIZE) {\n              scaleX = drawnWidth / MAX_GROUP_SIZE;\n              drawnWidth = MAX_GROUP_SIZE;\n            }\n            if (drawnHeight > MAX_GROUP_SIZE) {\n              scaleY = drawnHeight / MAX_GROUP_SIZE;\n              drawnHeight = MAX_GROUP_SIZE;\n            }\n\n            var cacheId = 'groupAt' + this.groupLevel;\n            if (group.smask) {\n              // Using two cache entries is case if masks are used one after another.\n              cacheId += '_smask_' + ((this.smaskCounter++) % 2);\n            }\n            var scratchCanvas = this.cachedCanvases.getCanvas(\n              cacheId, drawnWidth, drawnHeight, true);\n            var groupCtx = scratchCanvas.context;\n\n            // Since we created a new canvas that is just the size of the bounding box\n            // we have to translate the group ctx.\n            groupCtx.scale(1 / scaleX, 1 / scaleY);\n            groupCtx.translate(-offsetX, -offsetY);\n            groupCtx.transform.apply(groupCtx, currentTransform);\n\n            if (group.smask) {\n              // Saving state and cached mask to be used in setGState.\n              this.smaskStack.push({\n                canvas: scratchCanvas.canvas,\n                context: groupCtx,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                scaleX: scaleX,\n                scaleY: scaleY,\n                subtype: group.smask.subtype,\n                backdrop: group.smask.backdrop,\n                transferMap: group.smask.transferMap || null,\n                startTransformInverse: null, // used during suspend operation\n              });\n            } else {\n              // Setup the current ctx so when the group is popped we draw it at the\n              // right location.\n              currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n              currentCtx.translate(offsetX, offsetY);\n              currentCtx.scale(scaleX, scaleY);\n            }\n            // The transparency group inherits all off the current graphics state\n            // except the blend mode, soft mask, and alpha constants.\n            copyCtxState(currentCtx, groupCtx);\n            this.ctx = groupCtx;\n            this.setGState([\n              ['BM', 'Normal'],\n              ['ca', 1],\n              ['CA', 1]\n            ]);\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n\n            // Reseting mask state, masks will be applied on restore of the group.\n            this.current.activeSMask = null;\n          },\n\n          endGroup: function CanvasGraphics_endGroup(group) {\n            this.groupLevel--;\n            var groupCtx = this.ctx;\n            this.ctx = this.groupStack.pop();\n            // Turn off image smoothing to avoid sub pixel interpolation which can\n            // look kind of blurry for some pdfs.\n            if (this.ctx.imageSmoothingEnabled !== undefined) {\n              this.ctx.imageSmoothingEnabled = false;\n            } else {\n              this.ctx.mozImageSmoothingEnabled = false;\n            }\n            if (group.smask) {\n              this.tempSMask = this.smaskStack.pop();\n            } else {\n              this.ctx.drawImage(groupCtx.canvas, 0, 0);\n            }\n            this.restore();\n          },\n\n          beginAnnotations: function CanvasGraphics_beginAnnotations() {\n            this.save();\n            this.current = new CanvasExtraState();\n\n            if (this.baseTransform) {\n              this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n            }\n          },\n\n          endAnnotations: function CanvasGraphics_endAnnotations() {\n            this.restore();\n          },\n\n          beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform,\n            matrix) {\n            this.save();\n\n            if (isArray(rect) && 4 === rect.length) {\n              var width = rect[2] - rect[0];\n              var height = rect[3] - rect[1];\n              this.ctx.rect(rect[0], rect[1], width, height);\n              this.clip();\n              this.endPath();\n            }\n\n            this.transform.apply(this, transform);\n            this.transform.apply(this, matrix);\n          },\n\n          endAnnotation: function CanvasGraphics_endAnnotation() {\n            this.restore();\n          },\n\n          paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n            var domImage = this.objs.get(objId);\n            if (!domImage) {\n              warn('Dependent image isn\\'t ready yet');\n              return;\n            }\n\n            this.save();\n\n            var ctx = this.ctx;\n            // scale the image to the unit square\n            ctx.scale(1 / w, -1 / h);\n\n            ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height,\n              0, -h, w, h);\n            if (this.imageLayer) {\n              var currentTransform = ctx.mozCurrentTransformInverse;\n              var position = this.getCanvasPosition(0, 0);\n              this.imageLayer.appendImage({\n                objId: objId,\n                left: position[0],\n                top: position[1],\n                width: w / currentTransform[0],\n                height: h / currentTransform[3]\n              });\n            }\n            this.restore();\n          },\n\n          paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n            var ctx = this.ctx;\n            var width = img.width,\n              height = img.height;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n\n            var glyph = this.processingType3;\n\n            if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n              if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n                glyph.compiled =\n                  compileType3Glyph({\n                    data: img.data,\n                    width: width,\n                    height: height\n                  });\n              } else {\n                glyph.compiled = null;\n              }\n            }\n\n            if (glyph && glyph.compiled) {\n              glyph.compiled(ctx);\n              return;\n            }\n\n            var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n              width, height);\n            var maskCtx = maskCanvas.context;\n            maskCtx.save();\n\n            putBinaryImageMask(maskCtx, img);\n\n            maskCtx.globalCompositeOperation = 'source-in';\n\n            maskCtx.fillStyle = isPatternFill ?\n              fillColor.getPattern(maskCtx, this) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n\n            maskCtx.restore();\n\n            this.paintInlineImageXObject(maskCanvas.canvas);\n          },\n\n          paintImageMaskXObjectRepeat: function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX,\n            scaleY, positions) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n\n            var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n              width, height);\n            var maskCtx = maskCanvas.context;\n            maskCtx.save();\n\n            putBinaryImageMask(maskCtx, imgData);\n\n            maskCtx.globalCompositeOperation = 'source-in';\n\n            maskCtx.fillStyle = isPatternFill ?\n              fillColor.getPattern(maskCtx, this) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n\n            maskCtx.restore();\n\n            var ctx = this.ctx;\n            for (var i = 0, ii = positions.length; i < ii; i += 2) {\n              ctx.save();\n              ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n              ctx.scale(1, -1);\n              ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n                0, -1, 1, 1);\n              ctx.restore();\n            }\n          },\n\n          paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n            var ctx = this.ctx;\n\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            for (var i = 0, ii = images.length; i < ii; i++) {\n              var image = images[i];\n              var width = image.width,\n                height = image.height;\n\n              var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                width, height);\n              var maskCtx = maskCanvas.context;\n              maskCtx.save();\n\n              putBinaryImageMask(maskCtx, image);\n\n              maskCtx.globalCompositeOperation = 'source-in';\n\n              maskCtx.fillStyle = isPatternFill ?\n                fillColor.getPattern(maskCtx, this) : fillColor;\n              maskCtx.fillRect(0, 0, width, height);\n\n              maskCtx.restore();\n\n              ctx.save();\n              ctx.transform.apply(ctx, image.transform);\n              ctx.scale(1, -1);\n              ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n                0, -1, 1, 1);\n              ctx.restore();\n            }\n          },\n\n          paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n            var imgData = this.objs.get(objId);\n            if (!imgData) {\n              warn('Dependent image isn\\'t ready yet');\n              return;\n            }\n\n            this.paintInlineImageXObject(imgData);\n          },\n\n          paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY,\n            positions) {\n            var imgData = this.objs.get(objId);\n            if (!imgData) {\n              warn('Dependent image isn\\'t ready yet');\n              return;\n            }\n\n            var width = imgData.width;\n            var height = imgData.height;\n            var map = [];\n            for (var i = 0, ii = positions.length; i < ii; i += 2) {\n              map.push({\n                transform: [scaleX, 0, 0, scaleY, positions[i],\n                  positions[i + 1]\n                ],\n                x: 0,\n                y: 0,\n                w: width,\n                h: height\n              });\n            }\n            this.paintInlineImageXObjectGroup(imgData, map);\n          },\n\n          paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(imgData) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var ctx = this.ctx;\n\n            this.save();\n            // scale the image to the unit square\n            ctx.scale(1 / width, -1 / height);\n\n            var currentTransform = ctx.mozCurrentTransformInverse;\n            var a = currentTransform[0],\n              b = currentTransform[1];\n            var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n            var c = currentTransform[2],\n              d = currentTransform[3];\n            var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n            var imgToPaint, tmpCanvas;\n            // instanceof HTMLElement does not work in jsdom node.js module\n            if (imgData instanceof HTMLElement || !imgData.data) {\n              imgToPaint = imgData;\n            } else {\n              tmpCanvas = this.cachedCanvases.getCanvas('inlineImage',\n                width, height);\n              var tmpCtx = tmpCanvas.context;\n              putBinaryImageData(tmpCtx, imgData);\n              imgToPaint = tmpCanvas.canvas;\n            }\n\n            var paintWidth = width,\n              paintHeight = height;\n            var tmpCanvasId = 'prescale1';\n            // Vertial or horizontal scaling shall not be more than 2 to not loose the\n            // pixels during drawImage operation, painting on the temporary canvas(es)\n            // that are twice smaller in size\n            while ((widthScale > 2 && paintWidth > 1) ||\n              (heightScale > 2 && paintHeight > 1)) {\n              var newWidth = paintWidth,\n                newHeight = paintHeight;\n              if (widthScale > 2 && paintWidth > 1) {\n                newWidth = Math.ceil(paintWidth / 2);\n                widthScale /= paintWidth / newWidth;\n              }\n              if (heightScale > 2 && paintHeight > 1) {\n                newHeight = Math.ceil(paintHeight / 2);\n                heightScale /= paintHeight / newHeight;\n              }\n              tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId,\n                newWidth, newHeight);\n              tmpCtx = tmpCanvas.context;\n              tmpCtx.clearRect(0, 0, newWidth, newHeight);\n              tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                0, 0, newWidth, newHeight);\n              imgToPaint = tmpCanvas.canvas;\n              paintWidth = newWidth;\n              paintHeight = newHeight;\n              tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n            }\n            ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n              0, -height, width, height);\n\n            if (this.imageLayer) {\n              var position = this.getCanvasPosition(0, -height);\n              this.imageLayer.appendImage({\n                imgData: imgData,\n                left: position[0],\n                top: position[1],\n                width: width / currentTransform[0],\n                height: height / currentTransform[3]\n              });\n            }\n            this.restore();\n          },\n\n          paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n            var ctx = this.ctx;\n            var w = imgData.width;\n            var h = imgData.height;\n\n            var tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', w, h);\n            var tmpCtx = tmpCanvas.context;\n            putBinaryImageData(tmpCtx, imgData);\n\n            for (var i = 0, ii = map.length; i < ii; i++) {\n              var entry = map[i];\n              ctx.save();\n              ctx.transform.apply(ctx, entry.transform);\n              ctx.scale(1, -1);\n              ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h,\n                0, -1, 1, 1);\n              if (this.imageLayer) {\n                var position = this.getCanvasPosition(entry.x, entry.y);\n                this.imageLayer.appendImage({\n                  imgData: imgData,\n                  left: position[0],\n                  top: position[1],\n                  width: w,\n                  height: h\n                });\n              }\n              ctx.restore();\n            }\n          },\n\n          paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n            this.ctx.fillRect(0, 0, 1, 1);\n          },\n\n          paintXObject: function CanvasGraphics_paintXObject() {\n            warn('Unsupported \\'paintXObject\\' command.');\n          },\n\n          // Marked content\n\n          markPoint: function CanvasGraphics_markPoint(tag) {\n            // TODO Marked content.\n          },\n          markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n            // TODO Marked content.\n          },\n          beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n            // TODO Marked content.\n          },\n          beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n            tag, properties) {\n            // TODO Marked content.\n          },\n          endMarkedContent: function CanvasGraphics_endMarkedContent() {\n            // TODO Marked content.\n          },\n\n          // Compatibility\n\n          beginCompat: function CanvasGraphics_beginCompat() {\n            // TODO ignore undefined operators (should we do that anyway?)\n          },\n          endCompat: function CanvasGraphics_endCompat() {\n            // TODO stop ignoring undefined operators\n          },\n\n          // Helper functions\n\n          consumePath: function CanvasGraphics_consumePath() {\n            var ctx = this.ctx;\n            if (this.pendingClip) {\n              if (this.pendingClip === EO_CLIP) {\n                if (ctx.mozFillRule !== undefined) {\n                  ctx.mozFillRule = 'evenodd';\n                  ctx.clip();\n                  ctx.mozFillRule = 'nonzero';\n                } else {\n                  ctx.clip('evenodd');\n                }\n              } else {\n                ctx.clip();\n              }\n              this.pendingClip = null;\n            }\n            ctx.beginPath();\n          },\n          getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n            if (this.cachedGetSinglePixelWidth === null) {\n              // NOTE: The `save` and `restore` commands used below is a workaround\n              // that is necessary in order to prevent `mozCurrentTransformInverse`\n              // from intermittently returning incorrect values in Firefox, see:\n              // https://github.com/mozilla/pdf.js/issues/7188.\n              this.ctx.save();\n              var inverse = this.ctx.mozCurrentTransformInverse;\n              this.ctx.restore();\n              // max of the current horizontal and vertical scale\n              this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(\n                (inverse[0] * inverse[0] + inverse[1] * inverse[1]),\n                (inverse[2] * inverse[2] + inverse[3] * inverse[3])));\n            }\n            return this.cachedGetSinglePixelWidth;\n          },\n          getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n            var transform = this.ctx.mozCurrentTransform;\n            return [\n              transform[0] * x + transform[2] * y + transform[4],\n              transform[1] * x + transform[3] * y + transform[5]\n            ];\n          }\n        };\n\n        for (var op in OPS) {\n          CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n        }\n\n        return CanvasGraphics;\n      })();\n\n      exports.CanvasGraphics = CanvasGraphics;\n      exports.createScratchCanvas = createScratchCanvas;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayAPI = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayFontLoader, root.pdfjsDisplayCanvas,\n          root.pdfjsDisplayMetadata, root.pdfjsDisplayDOMUtils);\n      }\n    }(this, function(exports, sharedUtil, displayFontLoader, displayCanvas,\n      displayMetadata, displayDOMUtils, amdRequire) {\n\n      var InvalidPDFException = sharedUtil.InvalidPDFException;\n      var MessageHandler = sharedUtil.MessageHandler;\n      var MissingPDFException = sharedUtil.MissingPDFException;\n      var PageViewport = sharedUtil.PageViewport;\n      var PasswordResponses = sharedUtil.PasswordResponses;\n      var PasswordException = sharedUtil.PasswordException;\n      var StatTimer = sharedUtil.StatTimer;\n      var UnexpectedResponseException = sharedUtil.UnexpectedResponseException;\n      var UnknownErrorException = sharedUtil.UnknownErrorException;\n      var Util = sharedUtil.Util;\n      var createPromiseCapability = sharedUtil.createPromiseCapability;\n      var error = sharedUtil.error;\n      var deprecated = sharedUtil.deprecated;\n      var getVerbosityLevel = sharedUtil.getVerbosityLevel;\n      var info = sharedUtil.info;\n      var isInt = sharedUtil.isInt;\n      var isArray = sharedUtil.isArray;\n      var isArrayBuffer = sharedUtil.isArrayBuffer;\n      var isSameOrigin = sharedUtil.isSameOrigin;\n      var loadJpegStream = sharedUtil.loadJpegStream;\n      var stringToBytes = sharedUtil.stringToBytes;\n      var globalScope = sharedUtil.globalScope;\n      var warn = sharedUtil.warn;\n      var FontFaceObject = displayFontLoader.FontFaceObject;\n      var FontLoader = displayFontLoader.FontLoader;\n      var CanvasGraphics = displayCanvas.CanvasGraphics;\n      var createScratchCanvas = displayCanvas.createScratchCanvas;\n      var Metadata = displayMetadata.Metadata;\n      var getDefaultSetting = displayDOMUtils.getDefaultSetting;\n\n      var DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\n\n      var isWorkerDisabled = false;\n      var workerSrc;\n      var isPostMessageTransfersDisabled = false;\n\n\n      var useRequireEnsure = false;\n      if (typeof window === 'undefined') {\n        // node.js - disable worker and set require.ensure.\n        isWorkerDisabled = true;\n        if (typeof require.ensure === 'undefined') {\n          require.ensure = require('node-ensure');\n        }\n        useRequireEnsure = true;\n      }\n      if (typeof __webpack_require__ !== 'undefined') {\n        useRequireEnsure = true;\n      }\n      if (typeof requirejs !== 'undefined' && requirejs.toUrl) {\n        workerSrc = requirejs.toUrl('pdfjs-dist/build/pdf.worker.js');\n      }\n      var dynamicLoaderSupported = typeof requirejs !== 'undefined' && requirejs.load;\n      var fakeWorkerFilesLoader = useRequireEnsure ? (function(callback) {\n        require.ensure([], function() {\n          var worker = require('./pdf.worker.js');\n          callback(worker.WorkerMessageHandler);\n        });\n      }) : dynamicLoaderSupported ? (function(callback) {\n        requirejs(['pdfjs-dist/build/pdf.worker'], function(worker) {\n          callback(worker.WorkerMessageHandler);\n        });\n      }) : null;\n\n\n      /**\n       * Document initialization / loading parameters object.\n       *\n       * @typedef {Object} DocumentInitParameters\n       * @property {string}     url   - The URL of the PDF.\n       * @property {TypedArray|Array|string} data - Binary PDF data. Use typed arrays\n       *   (Uint8Array) to improve the memory usage. If PDF data is BASE64-encoded,\n       *   use atob() to convert it to a binary string first.\n       * @property {Object}     httpHeaders - Basic authentication headers.\n       * @property {boolean}    withCredentials - Indicates whether or not cross-site\n       *   Access-Control requests should be made using credentials such as cookies\n       *   or authorization headers. The default is false.\n       * @property {string}     password - For decrypting password-protected PDFs.\n       * @property {TypedArray} initialData - A typed array with the first portion or\n       *   all of the pdf data. Used by the extension since some data is already\n       *   loaded before the switch to range requests.\n       * @property {number}     length - The PDF file length. It's used for progress\n       *   reports and range requests operations.\n       * @property {PDFDataRangeTransport} range\n       * @property {number}     rangeChunkSize - Optional parameter to specify\n       *   maximum number of bytes fetched per range request. The default value is\n       *   2^16 = 65536.\n       * @property {PDFWorker}  worker - The worker that will be used for the loading\n       *   and parsing of the PDF data.\n       */\n\n      /**\n       * @typedef {Object} PDFDocumentStats\n       * @property {Array} streamTypes - Used stream types in the document (an item\n       *   is set to true if specific stream ID was used in the document).\n       * @property {Array} fontTypes - Used font type in the document (an item is set\n       *   to true if specific font ID was used in the document).\n       */\n\n      /**\n       * This is the main entry point for loading a PDF and interacting with it.\n       * NOTE: If a URL is used to fetch the PDF data a standard XMLHttpRequest(XHR)\n       * is used, which means it must follow the same origin rules that any XHR does\n       * e.g. No cross domain requests without CORS.\n       *\n       * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src\n       * Can be a url to where a PDF is located, a typed array (Uint8Array)\n       * already populated with data or parameter object.\n       *\n       * @param {PDFDataRangeTransport} pdfDataRangeTransport (deprecated) It is used\n       * if you want to manually serve range requests for data in the PDF.\n       *\n       * @param {function} passwordCallback (deprecated) It is used to request a\n       * password if wrong or no password was provided. The callback receives two\n       * parameters: function that needs to be called with new password and reason\n       * (see {PasswordResponses}).\n       *\n       * @param {function} progressCallback (deprecated) It is used to be able to\n       * monitor the loading progress of the PDF file (necessary to implement e.g.\n       * a loading bar). The callback receives an {Object} with the properties:\n       * {number} loaded and {number} total.\n       *\n       * @return {PDFDocumentLoadingTask}\n       */\n      function getDocument(src, pdfDataRangeTransport,\n        passwordCallback, progressCallback) {\n        var task = new PDFDocumentLoadingTask();\n\n        // Support of the obsolete arguments (for compatibility with API v1.0)\n        if (arguments.length > 1) {\n          deprecated('getDocument is called with pdfDataRangeTransport, ' +\n            'passwordCallback or progressCallback argument');\n        }\n        if (pdfDataRangeTransport) {\n          if (!(pdfDataRangeTransport instanceof PDFDataRangeTransport)) {\n            // Not a PDFDataRangeTransport instance, trying to add missing properties.\n            pdfDataRangeTransport = Object.create(pdfDataRangeTransport);\n            pdfDataRangeTransport.length = src.length;\n            pdfDataRangeTransport.initialData = src.initialData;\n            if (!pdfDataRangeTransport.abort) {\n              pdfDataRangeTransport.abort = function() {};\n            }\n          }\n          src = Object.create(src);\n          src.range = pdfDataRangeTransport;\n        }\n        task.onPassword = passwordCallback || null;\n        task.onProgress = progressCallback || null;\n\n        var source;\n        if (typeof src === 'string') {\n          source = {\n            url: src\n          };\n        } else if (isArrayBuffer(src)) {\n          source = {\n            data: src\n          };\n        } else if (src instanceof PDFDataRangeTransport) {\n          source = {\n            range: src\n          };\n        } else {\n          if (typeof src !== 'object') {\n            error('Invalid parameter in getDocument, need either Uint8Array, ' +\n              'string or a parameter object');\n          }\n          if (!src.url && !src.data && !src.range) {\n            error('Invalid parameter object: need either .data, .range or .url');\n          }\n\n          source = src;\n        }\n\n        var params = {};\n        var rangeTransport = null;\n        var worker = null;\n        for (var key in source) {\n          if (key === 'url' && typeof window !== 'undefined') {\n            // The full path is required in the 'url' field.\n            params[key] = new URL(source[key], window.location).href;\n            continue;\n          } else if (key === 'range') {\n            rangeTransport = source[key];\n            continue;\n          } else if (key === 'worker') {\n            worker = source[key];\n            continue;\n          } else if (key === 'data' && !(source[key] instanceof Uint8Array)) {\n            // Converting string or array-like data to Uint8Array.\n            var pdfBytes = source[key];\n            if (typeof pdfBytes === 'string') {\n              params[key] = stringToBytes(pdfBytes);\n            } else if (typeof pdfBytes === 'object' && pdfBytes !== null &&\n              !isNaN(pdfBytes.length)) {\n              params[key] = new Uint8Array(pdfBytes);\n            } else if (isArrayBuffer(pdfBytes)) {\n              params[key] = new Uint8Array(pdfBytes);\n            } else {\n              error('Invalid PDF binary data: either typed array, string or ' +\n                'array-like object is expected in the data property.');\n            }\n            continue;\n          }\n          params[key] = source[key];\n        }\n\n        params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n\n        if (!worker) {\n          // Worker was not provided -- creating and owning our own.\n          worker = new PDFWorker();\n          task._worker = worker;\n        }\n        var docId = task.docId;\n        worker.promise.then(function() {\n          if (task.destroyed) {\n            throw new Error('Loading aborted');\n          }\n          return _fetchDocument(worker, params, rangeTransport, docId).then(\n            function(workerId) {\n              if (task.destroyed) {\n                throw new Error('Loading aborted');\n              }\n              var messageHandler = new MessageHandler(docId, workerId, worker.port);\n              var transport = new WorkerTransport(messageHandler, task, rangeTransport);\n              task._transport = transport;\n              messageHandler.send('Ready', null);\n            });\n        }).catch(task._capability.reject);\n\n        return task;\n      }\n\n      /**\n       * Starts fetching of specified PDF document/data.\n       * @param {PDFWorker} worker\n       * @param {Object} source\n       * @param {PDFDataRangeTransport} pdfDataRangeTransport\n       * @param {string} docId Unique document id, used as MessageHandler id.\n       * @returns {Promise} The promise, which is resolved when worker id of\n       *                    MessageHandler is known.\n       * @private\n       */\n      function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n        if (worker.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n\n        source.disableAutoFetch = getDefaultSetting('disableAutoFetch');\n        source.disableStream = getDefaultSetting('disableStream');\n        source.chunkedViewerLoading = !!pdfDataRangeTransport;\n        if (pdfDataRangeTransport) {\n          source.length = pdfDataRangeTransport.length;\n          source.initialData = pdfDataRangeTransport.initialData;\n        }\n        return worker.messageHandler.sendWithPromise('GetDocRequest', {\n          docId: docId,\n          source: source,\n          disableRange: getDefaultSetting('disableRange'),\n          maxImageSize: getDefaultSetting('maxImageSize'),\n          cMapUrl: getDefaultSetting('cMapUrl'),\n          cMapPacked: getDefaultSetting('cMapPacked'),\n          disableFontFace: getDefaultSetting('disableFontFace'),\n          disableCreateObjectURL: getDefaultSetting('disableCreateObjectURL'),\n          postMessageTransfers: getDefaultSetting('postMessageTransfers') &&\n            !isPostMessageTransfersDisabled,\n        }).then(function(workerId) {\n          if (worker.destroyed) {\n            throw new Error('Worker was destroyed');\n          }\n          return workerId;\n        });\n      }\n\n      /**\n       * PDF document loading operation.\n       * @class\n       * @alias PDFDocumentLoadingTask\n       */\n      var PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n        var nextDocumentId = 0;\n\n        /** @constructs PDFDocumentLoadingTask */\n        function PDFDocumentLoadingTask() {\n          this._capability = createPromiseCapability();\n          this._transport = null;\n          this._worker = null;\n\n          /**\n           * Unique document loading task id -- used in MessageHandlers.\n           * @type {string}\n           */\n          this.docId = 'd' + (nextDocumentId++);\n\n          /**\n           * Shows if loading task is destroyed.\n           * @type {boolean}\n           */\n          this.destroyed = false;\n\n          /**\n           * Callback to request a password if wrong or no password was provided.\n           * The callback receives two parameters: function that needs to be called\n           * with new password and reason (see {PasswordResponses}).\n           */\n          this.onPassword = null;\n\n          /**\n           * Callback to be able to monitor the loading progress of the PDF file\n           * (necessary to implement e.g. a loading bar). The callback receives\n           * an {Object} with the properties: {number} loaded and {number} total.\n           */\n          this.onProgress = null;\n\n          /**\n           * Callback to when unsupported feature is used. The callback receives\n           * an {UNSUPPORTED_FEATURES} argument.\n           */\n          this.onUnsupportedFeature = null;\n        }\n\n        PDFDocumentLoadingTask.prototype =\n          /** @lends PDFDocumentLoadingTask.prototype */\n          {\n            /**\n             * @return {Promise}\n             */\n            get promise() {\n              return this._capability.promise;\n            },\n\n            /**\n             * Aborts all network requests and destroys worker.\n             * @return {Promise} A promise that is resolved after destruction activity\n             *                   is completed.\n             */\n            destroy: function() {\n              this.destroyed = true;\n\n              var transportDestroyed = !this._transport ? Promise.resolve() :\n                this._transport.destroy();\n              return transportDestroyed.then(function() {\n                this._transport = null;\n                if (this._worker) {\n                  this._worker.destroy();\n                  this._worker = null;\n                }\n              }.bind(this));\n            },\n\n            /**\n             * Registers callbacks to indicate the document loading completion.\n             *\n             * @param {function} onFulfilled The callback for the loading completion.\n             * @param {function} onRejected The callback for the loading failure.\n             * @return {Promise} A promise that is resolved after the onFulfilled or\n             *                   onRejected callback.\n             */\n            then: function PDFDocumentLoadingTask_then(onFulfilled, onRejected) {\n              return this.promise.then.apply(this.promise, arguments);\n            }\n          };\n\n        return PDFDocumentLoadingTask;\n      })();\n\n      /**\n       * Abstract class to support range requests file loading.\n       * @class\n       * @alias PDFDataRangeTransport\n       * @param {number} length\n       * @param {Uint8Array} initialData\n       */\n      var PDFDataRangeTransport = (function pdfDataRangeTransportClosure() {\n        function PDFDataRangeTransport(length, initialData) {\n          this.length = length;\n          this.initialData = initialData;\n\n          this._rangeListeners = [];\n          this._progressListeners = [];\n          this._progressiveReadListeners = [];\n          this._readyCapability = createPromiseCapability();\n        }\n        PDFDataRangeTransport.prototype =\n          /** @lends PDFDataRangeTransport.prototype */\n          {\n            addRangeListener: function PDFDataRangeTransport_addRangeListener(listener) {\n              this._rangeListeners.push(listener);\n            },\n\n            addProgressListener: function PDFDataRangeTransport_addProgressListener(listener) {\n              this._progressListeners.push(listener);\n            },\n\n            addProgressiveReadListener: function PDFDataRangeTransport_addProgressiveReadListener(listener) {\n              this._progressiveReadListeners.push(listener);\n            },\n\n            onDataRange: function PDFDataRangeTransport_onDataRange(begin, chunk) {\n              var listeners = this._rangeListeners;\n              for (var i = 0, n = listeners.length; i < n; ++i) {\n                listeners[i](begin, chunk);\n              }\n            },\n\n            onDataProgress: function PDFDataRangeTransport_onDataProgress(loaded) {\n              this._readyCapability.promise.then(function() {\n                var listeners = this._progressListeners;\n                for (var i = 0, n = listeners.length; i < n; ++i) {\n                  listeners[i](loaded);\n                }\n              }.bind(this));\n            },\n\n            onDataProgressiveRead: function PDFDataRangeTransport_onDataProgress(chunk) {\n              this._readyCapability.promise.then(function() {\n                var listeners = this._progressiveReadListeners;\n                for (var i = 0, n = listeners.length; i < n; ++i) {\n                  listeners[i](chunk);\n                }\n              }.bind(this));\n            },\n\n            transportReady: function PDFDataRangeTransport_transportReady() {\n              this._readyCapability.resolve();\n            },\n\n            requestDataRange: function PDFDataRangeTransport_requestDataRange(begin, end) {\n              throw new Error('Abstract method PDFDataRangeTransport.requestDataRange');\n            },\n\n            abort: function PDFDataRangeTransport_abort() {}\n          };\n        return PDFDataRangeTransport;\n      })();\n\n      /**\n       * Proxy to a PDFDocument in the worker thread. Also, contains commonly used\n       * properties that can be read synchronously.\n       * @class\n       * @alias PDFDocumentProxy\n       */\n      var PDFDocumentProxy = (function PDFDocumentProxyClosure() {\n        function PDFDocumentProxy(pdfInfo, transport, loadingTask) {\n          this.pdfInfo = pdfInfo;\n          this.transport = transport;\n          this.loadingTask = loadingTask;\n        }\n        PDFDocumentProxy.prototype = /** @lends PDFDocumentProxy.prototype */ {\n          /**\n           * @return {number} Total number of pages the PDF contains.\n           */\n          get numPages() {\n            return this.pdfInfo.numPages;\n          },\n          /**\n           * @return {string} A unique ID to identify a PDF. Not guaranteed to be\n           * unique.\n           */\n          get fingerprint() {\n            return this.pdfInfo.fingerprint;\n          },\n          /**\n           * @param {number} pageNumber The page number to get. The first page is 1.\n           * @return {Promise} A promise that is resolved with a {@link PDFPageProxy}\n           * object.\n           */\n          getPage: function PDFDocumentProxy_getPage(pageNumber) {\n            return this.transport.getPage(pageNumber);\n          },\n          /**\n           * @param {{num: number, gen: number}} ref The page reference. Must have\n           *   the 'num' and 'gen' properties.\n           * @return {Promise} A promise that is resolved with the page index that is\n           * associated with the reference.\n           */\n          getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n            return this.transport.getPageIndex(ref);\n          },\n          /**\n           * @return {Promise} A promise that is resolved with a lookup table for\n           * mapping named destinations to reference numbers.\n           *\n           * This can be slow for large documents: use getDestination instead\n           */\n          getDestinations: function PDFDocumentProxy_getDestinations() {\n            return this.transport.getDestinations();\n          },\n          /**\n           * @param {string} id The named destination to get.\n           * @return {Promise} A promise that is resolved with all information\n           * of the given named destination.\n           */\n          getDestination: function PDFDocumentProxy_getDestination(id) {\n            return this.transport.getDestination(id);\n          },\n          /**\n           * @return {Promise} A promise that is resolved with:\n           *   an Array containing the pageLabels that correspond to the pageIndexes,\n           *   or `null` when no pageLabels are present in the PDF file.\n           */\n          getPageLabels: function PDFDocumentProxy_getPageLabels() {\n            return this.transport.getPageLabels();\n          },\n          /**\n           * @return {Promise} A promise that is resolved with a lookup table for\n           * mapping named attachments to their content.\n           */\n          getAttachments: function PDFDocumentProxy_getAttachments() {\n            return this.transport.getAttachments();\n          },\n          /**\n           * @return {Promise} A promise that is resolved with an array of all the\n           * JavaScript strings in the name tree.\n           */\n          getJavaScript: function PDFDocumentProxy_getJavaScript() {\n            return this.transport.getJavaScript();\n          },\n          /**\n           * @return {Promise} A promise that is resolved with an {Array} that is a\n           * tree outline (if it has one) of the PDF. The tree is in the format of:\n           * [\n           *  {\n           *   title: string,\n           *   bold: boolean,\n           *   italic: boolean,\n           *   color: rgb Uint8Array,\n           *   dest: dest obj,\n           *   url: string,\n           *   items: array of more items like this\n           *  },\n           *  ...\n           * ].\n           */\n          getOutline: function PDFDocumentProxy_getOutline() {\n            return this.transport.getOutline();\n          },\n          /**\n           * @return {Promise} A promise that is resolved with an {Object} that has\n           * info and metadata properties.  Info is an {Object} filled with anything\n           * available in the information dictionary and similarly metadata is a\n           * {Metadata} object with information from the metadata section of the PDF.\n           */\n          getMetadata: function PDFDocumentProxy_getMetadata() {\n            return this.transport.getMetadata();\n          },\n          /**\n           * @return {Promise} A promise that is resolved with a TypedArray that has\n           * the raw data from the PDF.\n           */\n          getData: function PDFDocumentProxy_getData() {\n            return this.transport.getData();\n          },\n          /**\n           * @return {Promise} A promise that is resolved when the document's data\n           * is loaded. It is resolved with an {Object} that contains the length\n           * property that indicates size of the PDF data in bytes.\n           */\n          getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n            return this.transport.downloadInfoCapability.promise;\n          },\n          /**\n           * @return {Promise} A promise this is resolved with current stats about\n           * document structures (see {@link PDFDocumentStats}).\n           */\n          getStats: function PDFDocumentProxy_getStats() {\n            return this.transport.getStats();\n          },\n          /**\n           * Cleans up resources allocated by the document, e.g. created @font-face.\n           */\n          cleanup: function PDFDocumentProxy_cleanup() {\n            this.transport.startCleanup();\n          },\n          /**\n           * Destroys current document instance and terminates worker.\n           */\n          destroy: function PDFDocumentProxy_destroy() {\n            return this.loadingTask.destroy();\n          }\n        };\n        return PDFDocumentProxy;\n      })();\n\n      /**\n       * Page getTextContent parameters.\n       *\n       * @typedef {Object} getTextContentParameters\n       * @param {boolean} normalizeWhitespace - replaces all occurrences of\n       *   whitespace with standard spaces (0x20). The default value is `false`.\n       * @param {boolean} disableCombineTextItems - do not attempt to combine\n       *   same line {@link TextItem}'s. The default value is `false`.\n       */\n\n      /**\n       * Page text content.\n       *\n       * @typedef {Object} TextContent\n       * @property {array} items - array of {@link TextItem}\n       * @property {Object} styles - {@link TextStyles} objects, indexed by font\n       *                    name.\n       */\n\n      /**\n       * Page text content part.\n       *\n       * @typedef {Object} TextItem\n       * @property {string} str - text content.\n       * @property {string} dir - text direction: 'ttb', 'ltr' or 'rtl'.\n       * @property {array} transform - transformation matrix.\n       * @property {number} width - width in device space.\n       * @property {number} height - height in device space.\n       * @property {string} fontName - font name used by pdf.js for converted font.\n       */\n\n      /**\n       * Text style.\n       *\n       * @typedef {Object} TextStyle\n       * @property {number} ascent - font ascent.\n       * @property {number} descent - font descent.\n       * @property {boolean} vertical - text is in vertical mode.\n       * @property {string} fontFamily - possible font family\n       */\n\n      /**\n       * Page annotation parameters.\n       *\n       * @typedef {Object} GetAnnotationsParameters\n       * @param {string} intent - Determines the annotations that will be fetched,\n       *                 can be either 'display' (viewable annotations) or 'print'\n       *                 (printable annotations).\n       *                 If the parameter is omitted, all annotations are fetched.\n       */\n\n      /**\n       * Page render parameters.\n       *\n       * @typedef {Object} RenderParameters\n       * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n       * @property {PageViewport} viewport - Rendering viewport obtained by\n       *                                calling of PDFPage.getViewport method.\n       * @property {string} intent - Rendering intent, can be 'display' or 'print'\n       *                    (default value is 'display').\n       * @property {boolean} renderInteractiveForms - (optional) Whether or not\n       *                     interactive form elements are rendered in the display\n       *                     layer. If so, we do not render them on canvas as well.\n       * @property {Array}  transform - (optional) Additional transform, applied\n       *                    just before viewport transform.\n       * @property {Object} imageLayer - (optional) An object that has beginLayout,\n       *                    endLayout and appendImage functions.\n       * @property {function} continueCallback - (deprecated) A function that will be\n       *                      called each time the rendering is paused.  To continue\n       *                      rendering call the function that is the first argument\n       *                      to the callback.\n       */\n\n      /**\n       * PDF page operator list.\n       *\n       * @typedef {Object} PDFOperatorList\n       * @property {Array} fnArray - Array containing the operator functions.\n       * @property {Array} argsArray - Array containing the arguments of the\n       *                               functions.\n       */\n\n      /**\n       * Proxy to a PDFPage in the worker thread.\n       * @class\n       * @alias PDFPageProxy\n       */\n      var PDFPageProxy = (function PDFPageProxyClosure() {\n        function PDFPageProxy(pageIndex, pageInfo, transport) {\n          this.pageIndex = pageIndex;\n          this.pageInfo = pageInfo;\n          this.transport = transport;\n          this.stats = new StatTimer();\n          this.stats.enabled = getDefaultSetting('enableStats');\n          this.commonObjs = transport.commonObjs;\n          this.objs = new PDFObjects();\n          this.cleanupAfterRender = false;\n          this.pendingCleanup = false;\n          this.intentStates = Object.create(null);\n          this.destroyed = false;\n        }\n        PDFPageProxy.prototype = /** @lends PDFPageProxy.prototype */ {\n          /**\n           * @return {number} Page number of the page. First page is 1.\n           */\n          get pageNumber() {\n            return this.pageIndex + 1;\n          },\n          /**\n           * @return {number} The number of degrees the page is rotated clockwise.\n           */\n          get rotate() {\n            return this.pageInfo.rotate;\n          },\n          /**\n           * @return {Object} The reference that points to this page. It has 'num' and\n           * 'gen' properties.\n           */\n          get ref() {\n            return this.pageInfo.ref;\n          },\n          /**\n           * @return {Array} An array of the visible portion of the PDF page in the\n           * user space units - [x1, y1, x2, y2].\n           */\n          get view() {\n            return this.pageInfo.view;\n          },\n          /**\n           * @param {number} scale The desired scale of the viewport.\n           * @param {number} rotate Degrees to rotate the viewport. If omitted this\n           * defaults to the page rotation.\n           * @return {PageViewport} Contains 'width' and 'height' properties\n           * along with transforms required for rendering.\n           */\n          getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n            if (arguments.length < 2) {\n              rotate = this.rotate;\n            }\n\n            return new PageViewport(this.view, scale, rotate, 0, 0);\n          },\n          /**\n           * @param {GetAnnotationsParameters} params - Annotation parameters.\n           * @return {Promise} A promise that is resolved with an {Array} of the\n           * annotation objects.\n           */\n          getAnnotations: function PDFPageProxy_getAnnotations(params) {\n            var intent = (params && params.intent) || null;\n\n            if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n              this.annotationsPromise = this.transport.getAnnotations(this.pageIndex,\n                intent);\n              this.annotationsIntent = intent;\n            }\n            return this.annotationsPromise;\n          },\n          /**\n           * Begins the process of rendering a page to the desired context.\n           * @param {RenderParameters} params Page render parameters.\n           * @return {RenderTask} An object that contains the promise, which\n           *                      is resolved when the page finishes rendering.\n           */\n          render: function PDFPageProxy_render(params) {\n            var stats = this.stats;\n            stats.time('Overall');\n\n            // If there was a pending destroy cancel it so no cleanup happens during\n            // this call to render.\n            this.pendingCleanup = false;\n\n            var renderingIntent = (params.intent === 'print' ? 'print' : 'display');\n            var renderInteractiveForms = (params.renderInteractiveForms === true ?\n              true : /* Default */ false);\n\n            if (!this.intentStates[renderingIntent]) {\n              this.intentStates[renderingIntent] = Object.create(null);\n            }\n            var intentState = this.intentStates[renderingIntent];\n\n            // If there's no displayReadyCapability yet, then the operatorList\n            // was never requested before. Make the request and create the promise.\n            if (!intentState.displayReadyCapability) {\n              intentState.receivingOperatorList = true;\n              intentState.displayReadyCapability = createPromiseCapability();\n              intentState.operatorList = {\n                fnArray: [],\n                argsArray: [],\n                lastChunk: false\n              };\n\n              this.stats.time('Page Request');\n              this.transport.messageHandler.send('RenderPageRequest', {\n                pageIndex: this.pageNumber - 1,\n                intent: renderingIntent,\n                renderInteractiveForms: renderInteractiveForms,\n              });\n            }\n\n            var internalRenderTask = new InternalRenderTask(complete, params,\n              this.objs,\n              this.commonObjs,\n              intentState.operatorList,\n              this.pageNumber);\n            internalRenderTask.useRequestAnimationFrame = renderingIntent !== 'print';\n            if (!intentState.renderTasks) {\n              intentState.renderTasks = [];\n            }\n            intentState.renderTasks.push(internalRenderTask);\n            var renderTask = internalRenderTask.task;\n\n            // Obsolete parameter support\n            if (params.continueCallback) {\n              deprecated('render is used with continueCallback parameter');\n              renderTask.onContinue = params.continueCallback;\n            }\n\n            var self = this;\n            intentState.displayReadyCapability.promise.then(\n              function pageDisplayReadyPromise(transparency) {\n                if (self.pendingCleanup) {\n                  complete();\n                  return;\n                }\n                stats.time('Rendering');\n                internalRenderTask.initializeGraphics(transparency);\n                internalRenderTask.operatorListChanged();\n              },\n              function pageDisplayReadPromiseError(reason) {\n                complete(reason);\n              }\n            );\n\n            function complete(error) {\n              var i = intentState.renderTasks.indexOf(internalRenderTask);\n              if (i >= 0) {\n                intentState.renderTasks.splice(i, 1);\n              }\n\n              if (self.cleanupAfterRender) {\n                self.pendingCleanup = true;\n              }\n              self._tryCleanup();\n\n              if (error) {\n                internalRenderTask.capability.reject(error);\n              } else {\n                internalRenderTask.capability.resolve();\n              }\n              stats.timeEnd('Rendering');\n              stats.timeEnd('Overall');\n            }\n\n            return renderTask;\n          },\n\n          /**\n           * @return {Promise} A promise resolved with an {@link PDFOperatorList}\n           * object that represents page's operator list.\n           */\n          getOperatorList: function PDFPageProxy_getOperatorList() {\n            function operatorListChanged() {\n              if (intentState.operatorList.lastChunk) {\n                intentState.opListReadCapability.resolve(intentState.operatorList);\n\n                var i = intentState.renderTasks.indexOf(opListTask);\n                if (i >= 0) {\n                  intentState.renderTasks.splice(i, 1);\n                }\n              }\n            }\n\n            var renderingIntent = 'oplist';\n            if (!this.intentStates[renderingIntent]) {\n              this.intentStates[renderingIntent] = Object.create(null);\n            }\n            var intentState = this.intentStates[renderingIntent];\n            var opListTask;\n\n            if (!intentState.opListReadCapability) {\n              opListTask = {};\n              opListTask.operatorListChanged = operatorListChanged;\n              intentState.receivingOperatorList = true;\n              intentState.opListReadCapability = createPromiseCapability();\n              intentState.renderTasks = [];\n              intentState.renderTasks.push(opListTask);\n              intentState.operatorList = {\n                fnArray: [],\n                argsArray: [],\n                lastChunk: false\n              };\n\n              this.transport.messageHandler.send('RenderPageRequest', {\n                pageIndex: this.pageIndex,\n                intent: renderingIntent\n              });\n            }\n            return intentState.opListReadCapability.promise;\n          },\n\n          /**\n           * @param {getTextContentParameters} params - getTextContent parameters.\n           * @return {Promise} That is resolved a {@link TextContent}\n           * object that represent the page text content.\n           */\n          getTextContent: function PDFPageProxy_getTextContent(params) {\n            return this.transport.messageHandler.sendWithPromise('GetTextContent', {\n              pageIndex: this.pageNumber - 1,\n              normalizeWhitespace: (params && params.normalizeWhitespace === true ?\n                true : /* Default */ false),\n              combineTextItems: (params && params.disableCombineTextItems === true ?\n                false : /* Default */ true),\n            });\n          },\n\n          /**\n           * Destroys page object.\n           */\n          _destroy: function PDFPageProxy_destroy() {\n            this.destroyed = true;\n            this.transport.pageCache[this.pageIndex] = null;\n\n            var waitOn = [];\n            Object.keys(this.intentStates).forEach(function(intent) {\n              if (intent === 'oplist') {\n                // Avoid errors below, since the renderTasks are just stubs.\n                return;\n              }\n              var intentState = this.intentStates[intent];\n              intentState.renderTasks.forEach(function(renderTask) {\n                var renderCompleted = renderTask.capability.promise.\n                catch(function() {}); // ignoring failures\n                waitOn.push(renderCompleted);\n                renderTask.cancel();\n              });\n            }, this);\n            this.objs.clear();\n            this.annotationsPromise = null;\n            this.pendingCleanup = false;\n            return Promise.all(waitOn);\n          },\n\n          /**\n           * Cleans up resources allocated by the page. (deprecated)\n           */\n          destroy: function() {\n            deprecated('page destroy method, use cleanup() instead');\n            this.cleanup();\n          },\n\n          /**\n           * Cleans up resources allocated by the page.\n           */\n          cleanup: function PDFPageProxy_cleanup() {\n            this.pendingCleanup = true;\n            this._tryCleanup();\n          },\n          /**\n           * For internal use only. Attempts to clean up if rendering is in a state\n           * where that's possible.\n           * @ignore\n           */\n          _tryCleanup: function PDFPageProxy_tryCleanup() {\n            if (!this.pendingCleanup ||\n              Object.keys(this.intentStates).some(function(intent) {\n                var intentState = this.intentStates[intent];\n                return (intentState.renderTasks.length !== 0 ||\n                  intentState.receivingOperatorList);\n              }, this)) {\n              return;\n            }\n\n            Object.keys(this.intentStates).forEach(function(intent) {\n              delete this.intentStates[intent];\n            }, this);\n            this.objs.clear();\n            this.annotationsPromise = null;\n            this.pendingCleanup = false;\n          },\n          /**\n           * For internal use only.\n           * @ignore\n           */\n          _startRenderPage: function PDFPageProxy_startRenderPage(transparency,\n            intent) {\n            var intentState = this.intentStates[intent];\n            // TODO Refactor RenderPageRequest to separate rendering\n            // and operator list logic\n            if (intentState.displayReadyCapability) {\n              intentState.displayReadyCapability.resolve(transparency);\n            }\n          },\n          /**\n           * For internal use only.\n           * @ignore\n           */\n          _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk,\n            intent) {\n            var intentState = this.intentStates[intent];\n            var i, ii;\n            // Add the new chunk to the current operator list.\n            for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n              intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n              intentState.operatorList.argsArray.push(\n                operatorListChunk.argsArray[i]);\n            }\n            intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n            // Notify all the rendering tasks there are more operators to be consumed.\n            for (i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n\n            if (operatorListChunk.lastChunk) {\n              intentState.receivingOperatorList = false;\n              this._tryCleanup();\n            }\n          }\n        };\n        return PDFPageProxy;\n      })();\n\n      /**\n       * PDF.js web worker abstraction, it controls instantiation of PDF documents and\n       * WorkerTransport for them.  If creation of a web worker is not possible,\n       * a \"fake\" worker will be used instead.\n       * @class\n       */\n      var PDFWorker = (function PDFWorkerClosure() {\n        var nextFakeWorkerId = 0;\n\n        function getWorkerSrc() {\n          if (typeof workerSrc !== 'undefined') {\n            return workerSrc;\n          }\n          if (getDefaultSetting('workerSrc')) {\n            return getDefaultSetting('workerSrc');\n          }\n          if (pdfjsFilePath) {\n            return pdfjsFilePath.replace(/\\.js$/i, '.worker.js');\n          }\n          error('No PDFJS.workerSrc specified');\n        }\n\n        var fakeWorkerFilesLoadedCapability;\n\n        // Loads worker code into main thread.\n        function setupFakeWorkerGlobal() {\n          var WorkerMessageHandler;\n          if (!fakeWorkerFilesLoadedCapability) {\n            fakeWorkerFilesLoadedCapability = createPromiseCapability();\n            // In the developer build load worker_loader which in turn loads all the\n            // other files and resolves the promise. In production only the\n            // pdf.worker.js file is needed.\n            var loader = fakeWorkerFilesLoader || function(callback) {\n              Util.loadScript(getWorkerSrc(), function() {\n                callback(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler);\n              });\n            };\n            loader(fakeWorkerFilesLoadedCapability.resolve);\n          }\n          return fakeWorkerFilesLoadedCapability.promise;\n        }\n\n        function FakeWorkerPort(defer) {\n          this._listeners = [];\n          this._defer = defer;\n          this._deferred = Promise.resolve(undefined);\n        }\n        FakeWorkerPort.prototype = {\n          postMessage: function(obj, transfers) {\n            function cloneValue(value) {\n              // Trying to perform a structured clone close to the spec, including\n              // transfers.\n              if (typeof value !== 'object' || value === null) {\n                return value;\n              }\n              if (cloned.has(value)) { // already cloned the object\n                return cloned.get(value);\n              }\n              var result;\n              var buffer;\n              if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n                // We found object with ArrayBuffer (typed array).\n                var transferable = transfers && transfers.indexOf(buffer) >= 0;\n                if (value === buffer) {\n                  // Special case when we are faking typed arrays in compatibility.js.\n                  result = value;\n                } else if (transferable) {\n                  result = new value.constructor(buffer, value.byteOffset,\n                    value.byteLength);\n                } else {\n                  result = new value.constructor(value);\n                }\n                cloned.set(value, result);\n                return result;\n              }\n              result = isArray(value) ? [] : {};\n              cloned.set(value, result); // adding to cache now for cyclic references\n              // Cloning all value and object properties, however ignoring properties\n              // defined via getter.\n              for (var i in value) {\n                var desc, p = value;\n                while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n                  p = Object.getPrototypeOf(p);\n                }\n                if (typeof desc.value === 'undefined' ||\n                  typeof desc.value === 'function') {\n                  continue;\n                }\n                result[i] = cloneValue(desc.value);\n              }\n              return result;\n            }\n\n            if (!this._defer) {\n              this._listeners.forEach(function(listener) {\n                listener.call(this, {\n                  data: obj\n                });\n              }, this);\n              return;\n            }\n\n            var cloned = new WeakMap();\n            var e = {\n              data: cloneValue(obj)\n            };\n            this._deferred.then(function() {\n              this._listeners.forEach(function(listener) {\n                listener.call(this, e);\n              }, this);\n            }.bind(this));\n          },\n          addEventListener: function(name, listener) {\n            this._listeners.push(listener);\n          },\n          removeEventListener: function(name, listener) {\n            var i = this._listeners.indexOf(listener);\n            this._listeners.splice(i, 1);\n          },\n          terminate: function() {\n            this._listeners = [];\n          }\n        };\n\n        function createCDNWrapper(url) {\n          // We will rely on blob URL's property to specify origin.\n          // We want this function to fail in case if createObjectURL or Blob do not\n          // exist or fail for some reason -- our Worker creation will fail anyway.\n          var wrapper = 'importScripts(\\'' + url + '\\');';\n          return URL.createObjectURL(new Blob([wrapper]));\n        }\n\n        function PDFWorker(name) {\n          this.name = name;\n          this.destroyed = false;\n\n          this._readyCapability = createPromiseCapability();\n          this._port = null;\n          this._webWorker = null;\n          this._messageHandler = null;\n          this._initialize();\n        }\n\n        PDFWorker.prototype = /** @lends PDFWorker.prototype */ {\n          get promise() {\n            return this._readyCapability.promise;\n          },\n\n          get port() {\n            return this._port;\n          },\n\n          get messageHandler() {\n            return this._messageHandler;\n          },\n\n          _initialize: function PDFWorker_initialize() {\n            // If worker support isn't disabled explicit and the browser has worker\n            // support, create a new web worker and test if it/the browser fulfills\n            // all requirements to run parts of pdf.js in a web worker.\n            // Right now, the requirement is, that an Uint8Array is still an\n            // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n            if (!isWorkerDisabled && !getDefaultSetting('disableWorker') &&\n              typeof Worker !== 'undefined') {\n              var workerSrc = getWorkerSrc();\n\n              try {\n                // Wraps workerSrc path into blob URL, if the former does not belong\n                // to the same origin.\n                if (!isSameOrigin(window.location.href, workerSrc)) {\n                  workerSrc = createCDNWrapper(\n                    new URL(workerSrc, window.location).href);\n                }\n                // Some versions of FF can't create a worker on localhost, see:\n                // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n                var worker = new Worker(workerSrc);\n                var messageHandler = new MessageHandler('main', 'worker', worker);\n                var terminateEarly = function() {\n                  worker.removeEventListener('error', onWorkerError);\n                  messageHandler.destroy();\n                  worker.terminate();\n                  if (this.destroyed) {\n                    this._readyCapability.reject(new Error('Worker was destroyed'));\n                  } else {\n                    // Fall back to fake worker if the termination is caused by an\n                    // error (e.g. NetworkError / SecurityError).\n                    this._setupFakeWorker();\n                  }\n                }.bind(this);\n\n                var onWorkerError = function(event) {\n                  if (!this._webWorker) {\n                    // Worker failed to initialize due to an error. Clean up and fall\n                    // back to the fake worker.\n                    terminateEarly();\n                  }\n                }.bind(this);\n                worker.addEventListener('error', onWorkerError);\n\n                messageHandler.on('test', function PDFWorker_test(data) {\n                  worker.removeEventListener('error', onWorkerError);\n                  if (this.destroyed) {\n                    terminateEarly();\n                    return; // worker was destroyed\n                  }\n                  var supportTypedArray = data && data.supportTypedArray;\n                  if (supportTypedArray) {\n                    this._messageHandler = messageHandler;\n                    this._port = worker;\n                    this._webWorker = worker;\n                    if (!data.supportTransfers) {\n                      isPostMessageTransfersDisabled = true;\n                    }\n                    this._readyCapability.resolve();\n                    // Send global setting, e.g. verbosity level.\n                    messageHandler.send('configure', {\n                      verbosity: getVerbosityLevel()\n                    });\n                  } else {\n                    this._setupFakeWorker();\n                    messageHandler.destroy();\n                    worker.terminate();\n                  }\n                }.bind(this));\n\n                messageHandler.on('console_log', function(data) {\n                  console.log.apply(console, data);\n                });\n                messageHandler.on('console_error', function(data) {\n                  console.error.apply(console, data);\n                });\n\n                messageHandler.on('ready', function(data) {\n                  worker.removeEventListener('error', onWorkerError);\n                  if (this.destroyed) {\n                    terminateEarly();\n                    return; // worker was destroyed\n                  }\n                  try {\n                    sendTest();\n                  } catch (e) {\n                    // We need fallback to a faked worker.\n                    this._setupFakeWorker();\n                  }\n                }.bind(this));\n\n                var sendTest = function() {\n                  var postMessageTransfers =\n                    getDefaultSetting('postMessageTransfers') &&\n                    !isPostMessageTransfersDisabled;\n                  var testObj = new Uint8Array([postMessageTransfers ? 255 : 0]);\n                  // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n                  // typed array. Also, checking if we can use transfers.\n                  try {\n                    messageHandler.send('test', testObj, [testObj.buffer]);\n                  } catch (ex) {\n                    info('Cannot use postMessage transfers');\n                    testObj[0] = 0;\n                    messageHandler.send('test', testObj);\n                  }\n                };\n\n                // It might take time for worker to initialize (especially when AMD\n                // loader is used). We will try to send test immediately, and then\n                // when 'ready' message will arrive. The worker shall process only\n                // first received 'test'.\n                sendTest();\n                return;\n              } catch (e) {\n                info('The worker has been disabled.');\n              }\n            }\n            // Either workers are disabled, not supported or have thrown an exception.\n            // Thus, we fallback to a faked worker.\n            this._setupFakeWorker();\n          },\n\n          _setupFakeWorker: function PDFWorker_setupFakeWorker() {\n            if (!isWorkerDisabled && !getDefaultSetting('disableWorker')) {\n              warn('Setting up fake worker.');\n              isWorkerDisabled = true;\n            }\n\n            setupFakeWorkerGlobal().then(function(WorkerMessageHandler) {\n              if (this.destroyed) {\n                this._readyCapability.reject(new Error('Worker was destroyed'));\n                return;\n              }\n\n              // We cannot turn on proper fake port simulation (this includes\n              // structured cloning) when typed arrays are not supported. Relying\n              // on a chance that messages will be sent in proper order.\n              var isTypedArraysPresent = Uint8Array !== Float32Array;\n              var port = new FakeWorkerPort(isTypedArraysPresent);\n              this._port = port;\n\n              // All fake workers use the same port, making id unique.\n              var id = 'fake' + (nextFakeWorkerId++);\n\n              // If the main thread is our worker, setup the handling for the\n              // messages -- the main thread sends to it self.\n              var workerHandler = new MessageHandler(id + '_worker', id, port);\n              WorkerMessageHandler.setup(workerHandler, port);\n\n              var messageHandler = new MessageHandler(id, id + '_worker', port);\n              this._messageHandler = messageHandler;\n              this._readyCapability.resolve();\n            }.bind(this));\n          },\n\n          /**\n           * Destroys the worker instance.\n           */\n          destroy: function PDFWorker_destroy() {\n            this.destroyed = true;\n            if (this._webWorker) {\n              // We need to terminate only web worker created resource.\n              this._webWorker.terminate();\n              this._webWorker = null;\n            }\n            this._port = null;\n            if (this._messageHandler) {\n              this._messageHandler.destroy();\n              this._messageHandler = null;\n            }\n          }\n        };\n\n        return PDFWorker;\n      })();\n\n      /**\n       * For internal use only.\n       * @ignore\n       */\n      var WorkerTransport = (function WorkerTransportClosure() {\n        function WorkerTransport(messageHandler, loadingTask, pdfDataRangeTransport) {\n          this.messageHandler = messageHandler;\n          this.loadingTask = loadingTask;\n          this.pdfDataRangeTransport = pdfDataRangeTransport;\n          this.commonObjs = new PDFObjects();\n          this.fontLoader = new FontLoader(loadingTask.docId);\n\n          this.destroyed = false;\n          this.destroyCapability = null;\n\n          this.pageCache = [];\n          this.pagePromises = [];\n          this.downloadInfoCapability = createPromiseCapability();\n\n          this.setupMessageHandler();\n        }\n        WorkerTransport.prototype = {\n          destroy: function WorkerTransport_destroy() {\n            if (this.destroyCapability) {\n              return this.destroyCapability.promise;\n            }\n\n            this.destroyed = true;\n            this.destroyCapability = createPromiseCapability();\n\n            var waitOn = [];\n            // We need to wait for all renderings to be completed, e.g.\n            // timeout/rAF can take a long time.\n            this.pageCache.forEach(function(page) {\n              if (page) {\n                waitOn.push(page._destroy());\n              }\n            });\n            this.pageCache = [];\n            this.pagePromises = [];\n            var self = this;\n            // We also need to wait for the worker to finish its long running tasks.\n            var terminated = this.messageHandler.sendWithPromise('Terminate', null);\n            waitOn.push(terminated);\n            Promise.all(waitOn).then(function() {\n              self.fontLoader.clear();\n              if (self.pdfDataRangeTransport) {\n                self.pdfDataRangeTransport.abort();\n                self.pdfDataRangeTransport = null;\n              }\n              if (self.messageHandler) {\n                self.messageHandler.destroy();\n                self.messageHandler = null;\n              }\n              self.destroyCapability.resolve();\n            }, this.destroyCapability.reject);\n            return this.destroyCapability.promise;\n          },\n\n          setupMessageHandler: function WorkerTransport_setupMessageHandler() {\n            var messageHandler = this.messageHandler;\n\n            function updatePassword(password) {\n              messageHandler.send('UpdatePassword', password);\n            }\n\n            var pdfDataRangeTransport = this.pdfDataRangeTransport;\n            if (pdfDataRangeTransport) {\n              pdfDataRangeTransport.addRangeListener(function(begin, chunk) {\n                messageHandler.send('OnDataRange', {\n                  begin: begin,\n                  chunk: chunk\n                });\n              });\n\n              pdfDataRangeTransport.addProgressListener(function(loaded) {\n                messageHandler.send('OnDataProgress', {\n                  loaded: loaded\n                });\n              });\n\n              pdfDataRangeTransport.addProgressiveReadListener(function(chunk) {\n                messageHandler.send('OnDataRange', {\n                  chunk: chunk\n                });\n              });\n\n              messageHandler.on('RequestDataRange',\n                function transportDataRange(data) {\n                  pdfDataRangeTransport.requestDataRange(data.begin, data.end);\n                }, this);\n            }\n\n            messageHandler.on('GetDoc', function transportDoc(data) {\n              var pdfInfo = data.pdfInfo;\n              this.numPages = data.pdfInfo.numPages;\n              var loadingTask = this.loadingTask;\n              var pdfDocument = new PDFDocumentProxy(pdfInfo, this, loadingTask);\n              this.pdfDocument = pdfDocument;\n              loadingTask._capability.resolve(pdfDocument);\n            }, this);\n\n            messageHandler.on('NeedPassword',\n              function transportNeedPassword(exception) {\n                var loadingTask = this.loadingTask;\n                if (loadingTask.onPassword) {\n                  return loadingTask.onPassword(updatePassword,\n                    PasswordResponses.NEED_PASSWORD);\n                }\n                loadingTask._capability.reject(\n                  new PasswordException(exception.message, exception.code));\n              }, this);\n\n            messageHandler.on('IncorrectPassword',\n              function transportIncorrectPassword(exception) {\n                var loadingTask = this.loadingTask;\n                if (loadingTask.onPassword) {\n                  return loadingTask.onPassword(updatePassword,\n                    PasswordResponses.INCORRECT_PASSWORD);\n                }\n                loadingTask._capability.reject(\n                  new PasswordException(exception.message, exception.code));\n              }, this);\n\n            messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n              this.loadingTask._capability.reject(\n                new InvalidPDFException(exception.message));\n            }, this);\n\n            messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n              this.loadingTask._capability.reject(\n                new MissingPDFException(exception.message));\n            }, this);\n\n            messageHandler.on('UnexpectedResponse',\n              function transportUnexpectedResponse(exception) {\n                this.loadingTask._capability.reject(\n                  new UnexpectedResponseException(exception.message, exception.status));\n              }, this);\n\n            messageHandler.on('UnknownError',\n              function transportUnknownError(exception) {\n                this.loadingTask._capability.reject(\n                  new UnknownErrorException(exception.message, exception.details));\n              }, this);\n\n            messageHandler.on('DataLoaded', function transportPage(data) {\n              this.downloadInfoCapability.resolve(data);\n            }, this);\n\n            messageHandler.on('PDFManagerReady', function transportPage(data) {\n              if (this.pdfDataRangeTransport) {\n                this.pdfDataRangeTransport.transportReady();\n              }\n            }, this);\n\n            messageHandler.on('StartRenderPage', function transportRender(data) {\n              if (this.destroyed) {\n                return; // Ignore any pending requests if the worker was terminated.\n              }\n              var page = this.pageCache[data.pageIndex];\n\n              page.stats.timeEnd('Page Request');\n              page._startRenderPage(data.transparency, data.intent);\n            }, this);\n\n            messageHandler.on('RenderPageChunk', function transportRender(data) {\n              if (this.destroyed) {\n                return; // Ignore any pending requests if the worker was terminated.\n              }\n              var page = this.pageCache[data.pageIndex];\n\n              page._renderPageChunk(data.operatorList, data.intent);\n            }, this);\n\n            messageHandler.on('commonobj', function transportObj(data) {\n              if (this.destroyed) {\n                return; // Ignore any pending requests if the worker was terminated.\n              }\n\n              var id = data[0];\n              var type = data[1];\n              if (this.commonObjs.hasData(id)) {\n                return;\n              }\n\n              switch (type) {\n                case 'Font':\n                  var exportedData = data[2];\n\n                  if ('error' in exportedData) {\n                    var exportedError = exportedData.error;\n                    warn('Error during font loading: ' + exportedError);\n                    this.commonObjs.resolve(id, exportedError);\n                    break;\n                  }\n                  var fontRegistry = null;\n                  if (getDefaultSetting('pdfBug') && globalScope.FontInspector &&\n                    globalScope['FontInspector'].enabled) {\n                    fontRegistry = {\n                      registerFont: function(font, url) {\n                        globalScope['FontInspector'].fontAdded(font, url);\n                      }\n                    };\n                  }\n                  var font = new FontFaceObject(exportedData, {\n                    isEvalSuported: getDefaultSetting('isEvalSupported'),\n                    disableFontFace: getDefaultSetting('disableFontFace'),\n                    fontRegistry: fontRegistry\n                  });\n\n                  this.fontLoader.bind(\n                    [font],\n                    function fontReady(fontObjs) {\n                      this.commonObjs.resolve(id, font);\n                    }.bind(this)\n                  );\n                  break;\n                case 'FontPath':\n                  this.commonObjs.resolve(id, data[2]);\n                  break;\n                default:\n                  error('Got unknown common object type ' + type);\n              }\n            }, this);\n\n            messageHandler.on('obj', function transportObj(data) {\n              if (this.destroyed) {\n                return; // Ignore any pending requests if the worker was terminated.\n              }\n\n              var id = data[0];\n              var pageIndex = data[1];\n              var type = data[2];\n              var pageProxy = this.pageCache[pageIndex];\n              var imageData;\n              if (pageProxy.objs.hasData(id)) {\n                return;\n              }\n\n              switch (type) {\n                case 'JpegStream':\n                  imageData = data[3];\n                  loadJpegStream(id, imageData, pageProxy.objs);\n                  break;\n                case 'Image':\n                  imageData = data[3];\n                  pageProxy.objs.resolve(id, imageData);\n\n                  // heuristics that will allow not to store large data\n                  var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n                  if (imageData && 'data' in imageData &&\n                    imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n                    pageProxy.cleanupAfterRender = true;\n                  }\n                  break;\n                default:\n                  error('Got unknown object type ' + type);\n              }\n            }, this);\n\n            messageHandler.on('DocProgress', function transportDocProgress(data) {\n              if (this.destroyed) {\n                return; // Ignore any pending requests if the worker was terminated.\n              }\n\n              var loadingTask = this.loadingTask;\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress({\n                  loaded: data.loaded,\n                  total: data.total\n                });\n              }\n            }, this);\n\n            messageHandler.on('PageError', function transportError(data) {\n              if (this.destroyed) {\n                return; // Ignore any pending requests if the worker was terminated.\n              }\n\n              var page = this.pageCache[data.pageNum - 1];\n              var intentState = page.intentStates[data.intent];\n\n              if (intentState.displayReadyCapability) {\n                intentState.displayReadyCapability.reject(data.error);\n              } else {\n                error(data.error);\n              }\n\n              if (intentState.operatorList) {\n                // Mark operator list as complete.\n                intentState.operatorList.lastChunk = true;\n                for (var i = 0; i < intentState.renderTasks.length; i++) {\n                  intentState.renderTasks[i].operatorListChanged();\n                }\n              }\n            }, this);\n\n            messageHandler.on('UnsupportedFeature',\n              function transportUnsupportedFeature(data) {\n                if (this.destroyed) {\n                  return; // Ignore any pending requests if the worker was terminated.\n                }\n                var featureId = data.featureId;\n                var loadingTask = this.loadingTask;\n                if (loadingTask.onUnsupportedFeature) {\n                  loadingTask.onUnsupportedFeature(featureId);\n                }\n                _UnsupportedManager.notify(featureId);\n              }, this);\n\n            messageHandler.on('JpegDecode', function(data) {\n              if (this.destroyed) {\n                return Promise.reject(new Error('Worker was destroyed'));\n              }\n\n              var imageUrl = data[0];\n              var components = data[1];\n              if (components !== 3 && components !== 1) {\n                return Promise.reject(\n                  new Error('Only 3 components or 1 component can be returned'));\n              }\n\n              return new Promise(function(resolve, reject) {\n                var img = new Image();\n                img.onload = function() {\n                  var width = img.width;\n                  var height = img.height;\n                  var size = width * height;\n                  var rgbaLength = size * 4;\n                  var buf = new Uint8Array(size * components);\n                  var tmpCanvas = createScratchCanvas(width, height);\n                  var tmpCtx = tmpCanvas.getContext('2d');\n                  tmpCtx.drawImage(img, 0, 0);\n                  var data = tmpCtx.getImageData(0, 0, width, height).data;\n                  var i, j;\n\n                  if (components === 3) {\n                    for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                      buf[j] = data[i];\n                      buf[j + 1] = data[i + 1];\n                      buf[j + 2] = data[i + 2];\n                    }\n                  } else if (components === 1) {\n                    for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                      buf[j] = data[i];\n                    }\n                  }\n                  resolve({\n                    data: buf,\n                    width: width,\n                    height: height\n                  });\n                };\n                img.onerror = function() {\n                  reject(new Error('JpegDecode failed to load image'));\n                };\n                img.src = imageUrl;\n              });\n            }, this);\n          },\n\n          getData: function WorkerTransport_getData() {\n            return this.messageHandler.sendWithPromise('GetData', null);\n          },\n\n          getPage: function WorkerTransport_getPage(pageNumber, capability) {\n            if (!isInt(pageNumber) || pageNumber <= 0 || pageNumber > this.numPages) {\n              return Promise.reject(new Error('Invalid page request'));\n            }\n\n            var pageIndex = pageNumber - 1;\n            if (pageIndex in this.pagePromises) {\n              return this.pagePromises[pageIndex];\n            }\n            var promise = this.messageHandler.sendWithPromise('GetPage', {\n              pageIndex: pageIndex\n            }).then(function(pageInfo) {\n              if (this.destroyed) {\n                throw new Error('Transport destroyed');\n              }\n              var page = new PDFPageProxy(pageIndex, pageInfo, this);\n              this.pageCache[pageIndex] = page;\n              return page;\n            }.bind(this));\n            this.pagePromises[pageIndex] = promise;\n            return promise;\n          },\n\n          getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n            return this.messageHandler.sendWithPromise('GetPageIndex', {\n              ref: ref,\n            }).catch(function(reason) {\n              return Promise.reject(new Error(reason));\n            });\n          },\n\n          getAnnotations: function WorkerTransport_getAnnotations(pageIndex, intent) {\n            return this.messageHandler.sendWithPromise('GetAnnotations', {\n              pageIndex: pageIndex,\n              intent: intent,\n            });\n          },\n\n          getDestinations: function WorkerTransport_getDestinations() {\n            return this.messageHandler.sendWithPromise('GetDestinations', null);\n          },\n\n          getDestination: function WorkerTransport_getDestination(id) {\n            return this.messageHandler.sendWithPromise('GetDestination', {\n              id: id\n            });\n          },\n\n          getPageLabels: function WorkerTransport_getPageLabels() {\n            return this.messageHandler.sendWithPromise('GetPageLabels', null);\n          },\n\n          getAttachments: function WorkerTransport_getAttachments() {\n            return this.messageHandler.sendWithPromise('GetAttachments', null);\n          },\n\n          getJavaScript: function WorkerTransport_getJavaScript() {\n            return this.messageHandler.sendWithPromise('GetJavaScript', null);\n          },\n\n          getOutline: function WorkerTransport_getOutline() {\n            return this.messageHandler.sendWithPromise('GetOutline', null);\n          },\n\n          getMetadata: function WorkerTransport_getMetadata() {\n            return this.messageHandler.sendWithPromise('GetMetadata', null).\n            then(function transportMetadata(results) {\n              return {\n                info: results[0],\n                metadata: (results[1] ? new Metadata(results[1]) : null)\n              };\n            });\n          },\n\n          getStats: function WorkerTransport_getStats() {\n            return this.messageHandler.sendWithPromise('GetStats', null);\n          },\n\n          startCleanup: function WorkerTransport_startCleanup() {\n            this.messageHandler.sendWithPromise('Cleanup', null).\n            then(function endCleanup() {\n              for (var i = 0, ii = this.pageCache.length; i < ii; i++) {\n                var page = this.pageCache[i];\n                if (page) {\n                  page.cleanup();\n                }\n              }\n              this.commonObjs.clear();\n              this.fontLoader.clear();\n            }.bind(this));\n          }\n        };\n        return WorkerTransport;\n\n      })();\n\n      /**\n       * A PDF document and page is built of many objects. E.g. there are objects\n       * for fonts, images, rendering code and such. These objects might get processed\n       * inside of a worker. The `PDFObjects` implements some basic functions to\n       * manage these objects.\n       * @ignore\n       */\n      var PDFObjects = (function PDFObjectsClosure() {\n        function PDFObjects() {\n          this.objs = Object.create(null);\n        }\n\n        PDFObjects.prototype = {\n          /**\n           * Internal function.\n           * Ensures there is an object defined for `objId`.\n           */\n          ensureObj: function PDFObjects_ensureObj(objId) {\n            if (this.objs[objId]) {\n              return this.objs[objId];\n            }\n\n            var obj = {\n              capability: createPromiseCapability(),\n              data: null,\n              resolved: false\n            };\n            this.objs[objId] = obj;\n\n            return obj;\n          },\n\n          /**\n           * If called *without* callback, this returns the data of `objId` but the\n           * object needs to be resolved. If it isn't, this function throws.\n           *\n           * If called *with* a callback, the callback is called with the data of the\n           * object once the object is resolved. That means, if you call this\n           * function and the object is already resolved, the callback gets called\n           * right away.\n           */\n          get: function PDFObjects_get(objId, callback) {\n            // If there is a callback, then the get can be async and the object is\n            // not required to be resolved right now\n            if (callback) {\n              this.ensureObj(objId).capability.promise.then(callback);\n              return null;\n            }\n\n            // If there isn't a callback, the user expects to get the resolved data\n            // directly.\n            var obj = this.objs[objId];\n\n            // If there isn't an object yet or the object isn't resolved, then the\n            // data isn't ready yet!\n            if (!obj || !obj.resolved) {\n              error('Requesting object that isn\\'t resolved yet ' + objId);\n            }\n\n            return obj.data;\n          },\n\n          /**\n           * Resolves the object `objId` with optional `data`.\n           */\n          resolve: function PDFObjects_resolve(objId, data) {\n            var obj = this.ensureObj(objId);\n\n            obj.resolved = true;\n            obj.data = data;\n            obj.capability.resolve(data);\n          },\n\n          isResolved: function PDFObjects_isResolved(objId) {\n            var objs = this.objs;\n\n            if (!objs[objId]) {\n              return false;\n            } else {\n              return objs[objId].resolved;\n            }\n          },\n\n          hasData: function PDFObjects_hasData(objId) {\n            return this.isResolved(objId);\n          },\n\n          /**\n           * Returns the data of `objId` if object exists, null otherwise.\n           */\n          getData: function PDFObjects_getData(objId) {\n            var objs = this.objs;\n            if (!objs[objId] || !objs[objId].resolved) {\n              return null;\n            } else {\n              return objs[objId].data;\n            }\n          },\n\n          clear: function PDFObjects_clear() {\n            this.objs = Object.create(null);\n          }\n        };\n        return PDFObjects;\n      })();\n\n      /**\n       * Allows controlling of the rendering tasks.\n       * @class\n       * @alias RenderTask\n       */\n      var RenderTask = (function RenderTaskClosure() {\n        function RenderTask(internalRenderTask) {\n          this._internalRenderTask = internalRenderTask;\n\n          /**\n           * Callback for incremental rendering -- a function that will be called\n           * each time the rendering is paused.  To continue rendering call the\n           * function that is the first argument to the callback.\n           * @type {function}\n           */\n          this.onContinue = null;\n        }\n\n        RenderTask.prototype = /** @lends RenderTask.prototype */ {\n          /**\n           * Promise for rendering task completion.\n           * @return {Promise}\n           */\n          get promise() {\n            return this._internalRenderTask.capability.promise;\n          },\n\n          /**\n           * Cancels the rendering task. If the task is currently rendering it will\n           * not be cancelled until graphics pauses with a timeout. The promise that\n           * this object extends will resolved when cancelled.\n           */\n          cancel: function RenderTask_cancel() {\n            this._internalRenderTask.cancel();\n          },\n\n          /**\n           * Registers callbacks to indicate the rendering task completion.\n           *\n           * @param {function} onFulfilled The callback for the rendering completion.\n           * @param {function} onRejected The callback for the rendering failure.\n           * @return {Promise} A promise that is resolved after the onFulfilled or\n           *                   onRejected callback.\n           */\n          then: function RenderTask_then(onFulfilled, onRejected) {\n            return this.promise.then.apply(this.promise, arguments);\n          }\n        };\n\n        return RenderTask;\n      })();\n\n      /**\n       * For internal use only.\n       * @ignore\n       */\n      var InternalRenderTask = (function InternalRenderTaskClosure() {\n\n        function InternalRenderTask(callback, params, objs, commonObjs, operatorList,\n          pageNumber) {\n          this.callback = callback;\n          this.params = params;\n          this.objs = objs;\n          this.commonObjs = commonObjs;\n          this.operatorListIdx = null;\n          this.operatorList = operatorList;\n          this.pageNumber = pageNumber;\n          this.running = false;\n          this.graphicsReadyCallback = null;\n          this.graphicsReady = false;\n          this.useRequestAnimationFrame = false;\n          this.cancelled = false;\n          this.capability = createPromiseCapability();\n          this.task = new RenderTask(this);\n          // caching this-bound methods\n          this._continueBound = this._continue.bind(this);\n          this._scheduleNextBound = this._scheduleNext.bind(this);\n          this._nextBound = this._next.bind(this);\n        }\n\n        InternalRenderTask.prototype = {\n\n          initializeGraphics: function InternalRenderTask_initializeGraphics(transparency) {\n\n            if (this.cancelled) {\n              return;\n            }\n            if (getDefaultSetting('pdfBug') && globalScope.StepperManager &&\n              globalScope.StepperManager.enabled) {\n              this.stepper = globalScope.StepperManager.create(this.pageNumber - 1);\n              this.stepper.init(this.operatorList);\n              this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n            }\n\n            var params = this.params;\n            this.gfx = new CanvasGraphics(params.canvasContext, this.commonObjs,\n              this.objs, params.imageLayer);\n\n            this.gfx.beginDrawing(params.transform, params.viewport, transparency);\n            this.operatorListIdx = 0;\n            this.graphicsReady = true;\n            if (this.graphicsReadyCallback) {\n              this.graphicsReadyCallback();\n            }\n          },\n\n          cancel: function InternalRenderTask_cancel() {\n            this.running = false;\n            this.cancelled = true;\n            this.callback('cancelled');\n          },\n\n          operatorListChanged: function InternalRenderTask_operatorListChanged() {\n            if (!this.graphicsReady) {\n              if (!this.graphicsReadyCallback) {\n                this.graphicsReadyCallback = this._continueBound;\n              }\n              return;\n            }\n\n            if (this.stepper) {\n              this.stepper.updateOperatorList(this.operatorList);\n            }\n\n            if (this.running) {\n              return;\n            }\n            this._continue();\n          },\n\n          _continue: function InternalRenderTask__continue() {\n            this.running = true;\n            if (this.cancelled) {\n              return;\n            }\n            if (this.task.onContinue) {\n              this.task.onContinue.call(this.task, this._scheduleNextBound);\n            } else {\n              this._scheduleNext();\n            }\n          },\n\n          _scheduleNext: function InternalRenderTask__scheduleNext() {\n            if (this.useRequestAnimationFrame && typeof window !== 'undefined') {\n              window.requestAnimationFrame(this._nextBound);\n            } else {\n              Promise.resolve(undefined).then(this._nextBound);\n            }\n          },\n\n          _next: function InternalRenderTask__next() {\n            if (this.cancelled) {\n              return;\n            }\n            this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList,\n              this.operatorListIdx,\n              this._continueBound,\n              this.stepper);\n            if (this.operatorListIdx === this.operatorList.argsArray.length) {\n              this.running = false;\n              if (this.operatorList.lastChunk) {\n                this.gfx.endDrawing();\n                this.callback();\n              }\n            }\n          }\n\n        };\n\n        return InternalRenderTask;\n      })();\n\n      /**\n       * (Deprecated) Global observer of unsupported feature usages. Use\n       * onUnsupportedFeature callback of the {PDFDocumentLoadingTask} instance.\n       */\n      var _UnsupportedManager = (function UnsupportedManagerClosure() {\n        var listeners = [];\n        return {\n          listen: function(cb) {\n            deprecated('Global UnsupportedManager.listen is used: ' +\n              ' use PDFDocumentLoadingTask.onUnsupportedFeature instead');\n            listeners.push(cb);\n          },\n          notify: function(featureId) {\n            for (var i = 0, ii = listeners.length; i < ii; i++) {\n              listeners[i](featureId);\n            }\n          }\n        };\n      })();\n\n      if (typeof pdfjsVersion !== 'undefined') {\n        exports.version = pdfjsVersion;\n      }\n      if (typeof pdfjsBuild !== 'undefined') {\n        exports.build = pdfjsBuild;\n      }\n\n      exports.getDocument = getDocument;\n      exports.PDFDataRangeTransport = PDFDataRangeTransport;\n      exports.PDFWorker = PDFWorker;\n      exports.PDFDocumentProxy = PDFDocumentProxy;\n      exports.PDFPageProxy = PDFPageProxy;\n      exports._UnsupportedManager = _UnsupportedManager;\n    }));\n\n\n    (function(root, factory) {\n      {\n        factory((root.pdfjsDisplayGlobal = {}), root.pdfjsSharedUtil,\n          root.pdfjsDisplayDOMUtils, root.pdfjsDisplayAPI,\n          root.pdfjsDisplayAnnotationLayer, root.pdfjsDisplayTextLayer,\n          root.pdfjsDisplayMetadata, root.pdfjsDisplaySVG);\n      }\n    }(this, function(exports, sharedUtil, displayDOMUtils, displayAPI,\n      displayAnnotationLayer, displayTextLayer, displayMetadata,\n      displaySVG) {\n\n      var globalScope = sharedUtil.globalScope;\n      var deprecated = sharedUtil.deprecated;\n      var warn = sharedUtil.warn;\n      var LinkTarget = displayDOMUtils.LinkTarget;\n\n      var isWorker = (typeof window === 'undefined');\n\n      // The global PDFJS object is now deprecated and will not be supported in\n      // the future. The members below are maintained for backward  compatibility\n      // and shall not be extended or modified. If the global.js is included as\n      // a module, we will create a global PDFJS object instance or use existing.\n      if (!globalScope.PDFJS) {\n        globalScope.PDFJS = {};\n      }\n      var PDFJS = globalScope.PDFJS;\n\n      if (typeof pdfjsVersion !== 'undefined') {\n        PDFJS.version = pdfjsVersion;\n      }\n      if (typeof pdfjsBuild !== 'undefined') {\n        PDFJS.build = pdfjsBuild;\n      }\n\n      PDFJS.pdfBug = false;\n\n      if (PDFJS.verbosity !== undefined) {\n        sharedUtil.setVerbosityLevel(PDFJS.verbosity);\n      }\n      delete PDFJS.verbosity;\n      Object.defineProperty(PDFJS, 'verbosity', {\n        get: function() {\n          return sharedUtil.getVerbosityLevel();\n        },\n        set: function(level) {\n          sharedUtil.setVerbosityLevel(level);\n        },\n        enumerable: true,\n        configurable: true\n      });\n\n      PDFJS.VERBOSITY_LEVELS = sharedUtil.VERBOSITY_LEVELS;\n      PDFJS.OPS = sharedUtil.OPS;\n      PDFJS.UNSUPPORTED_FEATURES = sharedUtil.UNSUPPORTED_FEATURES;\n      PDFJS.isValidUrl = sharedUtil.isValidUrl;\n      PDFJS.shadow = sharedUtil.shadow;\n      PDFJS.createBlob = sharedUtil.createBlob;\n      PDFJS.createObjectURL = function PDFJS_createObjectURL(data, contentType) {\n        return sharedUtil.createObjectURL(data, contentType,\n          PDFJS.disableCreateObjectURL);\n      };\n      Object.defineProperty(PDFJS, 'isLittleEndian', {\n        configurable: true,\n        get: function PDFJS_isLittleEndian() {\n          var value = sharedUtil.isLittleEndian();\n          return sharedUtil.shadow(PDFJS, 'isLittleEndian', value);\n        }\n      });\n      PDFJS.removeNullCharacters = sharedUtil.removeNullCharacters;\n      PDFJS.PasswordResponses = sharedUtil.PasswordResponses;\n      PDFJS.PasswordException = sharedUtil.PasswordException;\n      PDFJS.UnknownErrorException = sharedUtil.UnknownErrorException;\n      PDFJS.InvalidPDFException = sharedUtil.InvalidPDFException;\n      PDFJS.MissingPDFException = sharedUtil.MissingPDFException;\n      PDFJS.UnexpectedResponseException = sharedUtil.UnexpectedResponseException;\n      PDFJS.Util = sharedUtil.Util;\n      PDFJS.PageViewport = sharedUtil.PageViewport;\n      PDFJS.createPromiseCapability = sharedUtil.createPromiseCapability;\n\n      /**\n       * The maximum allowed image size in total pixels e.g. width * height. Images\n       * above this value will not be drawn. Use -1 for no limit.\n       * @var {number}\n       */\n      PDFJS.maxImageSize = (PDFJS.maxImageSize === undefined ?\n        -1 : PDFJS.maxImageSize);\n\n      /**\n       * The url of where the predefined Adobe CMaps are located. Include trailing\n       * slash.\n       * @var {string}\n       */\n      PDFJS.cMapUrl = (PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl);\n\n      /**\n       * Specifies if CMaps are binary packed.\n       * @var {boolean}\n       */\n      PDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n\n      /**\n       * By default fonts are converted to OpenType fonts and loaded via font face\n       * rules. If disabled, the font will be rendered using a built in font\n       * renderer that constructs the glyphs with primitive path commands.\n       * @var {boolean}\n       */\n      PDFJS.disableFontFace = (PDFJS.disableFontFace === undefined ?\n        false : PDFJS.disableFontFace);\n\n      /**\n       * Path for image resources, mainly for annotation icons. Include trailing\n       * slash.\n       * @var {string}\n       */\n      PDFJS.imageResourcesPath = (PDFJS.imageResourcesPath === undefined ?\n        '' : PDFJS.imageResourcesPath);\n\n      /**\n       * Disable the web worker and run all code on the main thread. This will\n       * happen automatically if the browser doesn't support workers or sending\n       * typed arrays to workers.\n       * @var {boolean}\n       */\n      PDFJS.disableWorker = (PDFJS.disableWorker === undefined ?\n        false : PDFJS.disableWorker);\n\n      /**\n       * Path and filename of the worker file. Required when the worker is enabled\n       * in development mode. If unspecified in the production build, the worker\n       * will be loaded based on the location of the pdf.js file. It is recommended\n       * that the workerSrc is set in a custom application to prevent issues caused\n       * by third-party frameworks and libraries.\n       * @var {string}\n       */\n      PDFJS.workerSrc = (PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc);\n\n      /**\n       * Disable range request loading of PDF files. When enabled and if the server\n       * supports partial content requests then the PDF will be fetched in chunks.\n       * Enabled (false) by default.\n       * @var {boolean}\n       */\n      PDFJS.disableRange = (PDFJS.disableRange === undefined ?\n        false : PDFJS.disableRange);\n\n      /**\n       * Disable streaming of PDF file data. By default PDF.js attempts to load PDF\n       * in chunks. This default behavior can be disabled.\n       * @var {boolean}\n       */\n      PDFJS.disableStream = (PDFJS.disableStream === undefined ?\n        false : PDFJS.disableStream);\n\n      /**\n       * Disable pre-fetching of PDF file data. When range requests are enabled\n       * PDF.js will automatically keep fetching more data even if it isn't needed\n       * to display the current page. This default behavior can be disabled.\n       *\n       * NOTE: It is also necessary to disable streaming, see above,\n       *       in order for disabling of pre-fetching to work correctly.\n       * @var {boolean}\n       */\n      PDFJS.disableAutoFetch = (PDFJS.disableAutoFetch === undefined ?\n        false : PDFJS.disableAutoFetch);\n\n      /**\n       * Enables special hooks for debugging PDF.js.\n       * @var {boolean}\n       */\n      PDFJS.pdfBug = (PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug);\n\n      /**\n       * Enables transfer usage in postMessage for ArrayBuffers.\n       * @var {boolean}\n       */\n      PDFJS.postMessageTransfers = (PDFJS.postMessageTransfers === undefined ?\n        true : PDFJS.postMessageTransfers);\n\n      /**\n       * Disables URL.createObjectURL usage.\n       * @var {boolean}\n       */\n      PDFJS.disableCreateObjectURL = (PDFJS.disableCreateObjectURL === undefined ?\n        false : PDFJS.disableCreateObjectURL);\n\n      /**\n       * Disables WebGL usage.\n       * @var {boolean}\n       */\n      PDFJS.disableWebGL = (PDFJS.disableWebGL === undefined ?\n        true : PDFJS.disableWebGL);\n\n      /**\n       * Specifies the |target| attribute for external links.\n       * The constants from PDFJS.LinkTarget should be used:\n       *  - NONE [default]\n       *  - SELF\n       *  - BLANK\n       *  - PARENT\n       *  - TOP\n       * @var {number}\n       */\n      PDFJS.externalLinkTarget = (PDFJS.externalLinkTarget === undefined ?\n        LinkTarget.NONE : PDFJS.externalLinkTarget);\n\n      /**\n       * Specifies the |rel| attribute for external links. Defaults to stripping\n       * the referrer.\n       * @var {string}\n       */\n      PDFJS.externalLinkRel = (PDFJS.externalLinkRel === undefined ?\n        'noreferrer' : PDFJS.externalLinkRel);\n\n      /**\n       * Determines if we can eval strings as JS. Primarily used to improve\n       * performance for font rendering.\n       * @var {boolean}\n       */\n      PDFJS.isEvalSupported = (PDFJS.isEvalSupported === undefined ?\n        true : PDFJS.isEvalSupported);\n\n      var savedOpenExternalLinksInNewWindow = PDFJS.openExternalLinksInNewWindow;\n      delete PDFJS.openExternalLinksInNewWindow;\n      Object.defineProperty(PDFJS, 'openExternalLinksInNewWindow', {\n        get: function() {\n          return PDFJS.externalLinkTarget === LinkTarget.BLANK;\n        },\n        set: function(value) {\n          if (value) {\n            deprecated('PDFJS.openExternalLinksInNewWindow, please use ' +\n              '\"PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK\" instead.');\n          }\n          if (PDFJS.externalLinkTarget !== LinkTarget.NONE) {\n            warn('PDFJS.externalLinkTarget is already initialized');\n            return;\n          }\n          PDFJS.externalLinkTarget = value ? LinkTarget.BLANK : LinkTarget.NONE;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      if (savedOpenExternalLinksInNewWindow) {\n        /**\n         * (Deprecated) Opens external links in a new window if enabled.\n         * The default behavior opens external links in the PDF.js window.\n         *\n         * NOTE: This property has been deprecated, please use\n         *       `PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK` instead.\n         * @var {boolean}\n         */\n        PDFJS.openExternalLinksInNewWindow = savedOpenExternalLinksInNewWindow;\n      }\n\n      PDFJS.getDocument = displayAPI.getDocument;\n      PDFJS.PDFDataRangeTransport = displayAPI.PDFDataRangeTransport;\n      PDFJS.PDFWorker = displayAPI.PDFWorker;\n\n      Object.defineProperty(PDFJS, 'hasCanvasTypedArrays', {\n        configurable: true,\n        get: function PDFJS_hasCanvasTypedArrays() {\n          var value = displayDOMUtils.hasCanvasTypedArrays();\n          return sharedUtil.shadow(PDFJS, 'hasCanvasTypedArrays', value);\n        }\n      });\n      PDFJS.CustomStyle = displayDOMUtils.CustomStyle;\n      PDFJS.LinkTarget = LinkTarget;\n      PDFJS.addLinkAttributes = displayDOMUtils.addLinkAttributes;\n      PDFJS.getFilenameFromUrl = displayDOMUtils.getFilenameFromUrl;\n      PDFJS.isExternalLinkTargetSet = displayDOMUtils.isExternalLinkTargetSet;\n\n      PDFJS.AnnotationLayer = displayAnnotationLayer.AnnotationLayer;\n\n      PDFJS.renderTextLayer = displayTextLayer.renderTextLayer;\n\n      PDFJS.Metadata = displayMetadata.Metadata;\n\n      PDFJS.SVGGraphics = displaySVG.SVGGraphics;\n\n      PDFJS.UnsupportedManager = displayAPI._UnsupportedManager;\n\n      exports.globalScope = globalScope;\n      exports.isWorker = isWorker;\n      exports.PDFJS = globalScope.PDFJS;\n    }));\n  }).call(pdfjsLibs);\n\n  exports.PDFJS = pdfjsLibs.pdfjsDisplayGlobal.PDFJS;\n  exports.build = pdfjsLibs.pdfjsDisplayAPI.build;\n  exports.version = pdfjsLibs.pdfjsDisplayAPI.version;\n  exports.getDocument = pdfjsLibs.pdfjsDisplayAPI.getDocument;\n  exports.PDFDataRangeTransport =\n    pdfjsLibs.pdfjsDisplayAPI.PDFDataRangeTransport;\n  exports.PDFWorker = pdfjsLibs.pdfjsDisplayAPI.PDFWorker;\n  exports.renderTextLayer = pdfjsLibs.pdfjsDisplayTextLayer.renderTextLayer;\n  exports.AnnotationLayer =\n    pdfjsLibs.pdfjsDisplayAnnotationLayer.AnnotationLayer;\n  exports.CustomStyle = pdfjsLibs.pdfjsDisplayDOMUtils.CustomStyle;\n  exports.PasswordResponses = pdfjsLibs.pdfjsSharedUtil.PasswordResponses;\n  exports.InvalidPDFException = pdfjsLibs.pdfjsSharedUtil.InvalidPDFException;\n  exports.MissingPDFException = pdfjsLibs.pdfjsSharedUtil.MissingPDFException;\n  exports.SVGGraphics = pdfjsLibs.pdfjsDisplaySVG.SVGGraphics;\n  exports.UnexpectedResponseException =\n    pdfjsLibs.pdfjsSharedUtil.UnexpectedResponseException;\n  exports.OPS = pdfjsLibs.pdfjsSharedUtil.OPS;\n  exports.UNSUPPORTED_FEATURES = pdfjsLibs.pdfjsSharedUtil.UNSUPPORTED_FEATURES;\n  exports.isValidUrl = pdfjsLibs.pdfjsSharedUtil.isValidUrl;\n  exports.createObjectURL = pdfjsLibs.pdfjsSharedUtil.createObjectURL;\n  exports.removeNullCharacters = pdfjsLibs.pdfjsSharedUtil.removeNullCharacters;\n  exports.shadow = pdfjsLibs.pdfjsSharedUtil.shadow;\n  exports.createBlob = pdfjsLibs.pdfjsSharedUtil.createBlob;\n  exports.getFilenameFromUrl =\n    pdfjsLibs.pdfjsDisplayDOMUtils.getFilenameFromUrl;\n  exports.addLinkAttributes = pdfjsLibs.pdfjsDisplayDOMUtils.addLinkAttributes;\n}));"]}