{"version":3,"sources":["../src/TextLayerBuilder.js"],"names":["require","TextLayerBuilder","props","state","textDivs","children","textLayer","findDOMNode","appendTextChild","bind","textLayerFrag","appendChild","textContent","document","createDocumentFragment","textLayerRenderTask","PDFJS","renderTextLayer","container","viewport","timeout","enhanceTextSelection","promise","then","divStyle","width","Math","floor","height","onMouseUp","onMouseDown","onClick","onContextMenu","key","c","module","exports"],"mappings":";;;;AAAA;;;;AAGA;;;;AAEA;;;;;;;;;;;;;;AACAA,QAAQ,aAAR;;IAEMC,gB;;;AAEF,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA,wIACTA,KADS;;AAEf,cAAKC,KAAL,GAAa;AACTC,sBAAU,EADD;AAETC,sBAAU;AAFD,SAAb;AAFe;AAMlB;;;;4CAEmB;;AAEhB,gBAAIC,YAAY,mBAASC,WAAT,CAAqB,KAAKD,SAA1B,CAAhB;;AAEAE,8BAAkBA,gBAAgBC,IAAhB,CAAqB,IAArB,CAAlB;;AAEA,qBAASD,eAAT,CAAyBE,aAAzB,EAAwC;AACpCJ,0BAAUK,WAAV,CAAsBD,aAAtB;AACH;;AAED,gBAAI,KAAKR,KAAL,CAAWU,WAAX,IAA0B,IAA9B,EAAoC;AAChC,oBAAIF,gBAAgBG,SAASC,sBAAT,EAApB;AACA,oBAAIC,sBAAsBC,MAAMC,eAAN,CAAsB;AAC5CL,iCAAa,KAAKV,KAAL,CAAWU,WADoB;AAE5CM,+BAAWR,aAFiC;AAG5CS,8BAAU,KAAKjB,KAAL,CAAWiB,QAHuB;AAI5Cf,8BAAU,KAAKD,KAAL,CAAWC,QAJuB;AAK5CgB,6BAAS,GALmC;AAM5CC,0CAAsB,KAAKnB,KAAL,CAAWmB;AANW,iBAAtB,CAA1B;AAQAN,oCAAoBO,OAApB,CAA4BC,IAA5B,CAAiC,YAAW;AACxCf,oCAAgBE,aAAhB;AACH,iBAFD;AAGH;AACJ;;;iCAEQ;AAAA;;AAEL,gBAAMc,WAAW;AACbC,uBAAOC,KAAKC,KAAL,CAAW,KAAKzB,KAAL,CAAWiB,QAAX,CAAoBM,KAA/B,CADM;AAEbG,wBAAQF,KAAKC,KAAL,CAAW,KAAKzB,KAAL,CAAWiB,QAAX,CAAoBS,MAA/B;AAFK,aAAjB;;AAKA,mBACI;AACI,2BAAW,KAAK1B,KAAL,CAAW2B,SAD1B;AAEI,6BAAa,KAAK3B,KAAL,CAAW4B,WAF5B;AAGI,yBAAS,KAAK5B,KAAL,CAAW6B,OAHxB;AAII,+BAAe,KAAK7B,KAAL,CAAW8B,aAJ9B;AAKI,qBAAK,KAAK9B,KAAL,CAAW+B,GALpB;AAMI,2BAAW,iBAAO3B,SANtB;AAOI,uBAAOkB,QAPX;AAQI,qBAAK,aAACU,CAAD;AAAA,2BAAO,OAAK5B,SAAL,GAAiB4B,CAAxB;AAAA;AART,gCASmB,KAAKhC,KAAL,CAAW8B,aAT9B,EADJ;AAaH;;;;;;AAGLG,OAAOC,OAAP,GAAiBnC,gBAAjB","file":"TextLayerBuilder.js","sourcesContent":["import React, {\n    Component\n} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport styles from './css/viewer.css';\nrequire('./PDFJS/pdf')\n\nclass TextLayerBuilder extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            textDivs: [],\n            children: null\n        }\n    }\n\n    componentDidMount() {\n\n        var textLayer = ReactDOM.findDOMNode(this.textLayer);\n\n        appendTextChild = appendTextChild.bind(this);\n\n        function appendTextChild(textLayerFrag) {\n            textLayer.appendChild(textLayerFrag)\n        }\n\n        if (this.props.textContent != null) {\n            var textLayerFrag = document.createDocumentFragment();\n            var textLayerRenderTask = PDFJS.renderTextLayer({\n                textContent: this.props.textContent,\n                container: textLayerFrag,\n                viewport: this.props.viewport,\n                textDivs: this.state.textDivs,\n                timeout: 200,\n                enhanceTextSelection: this.props.enhanceTextSelection\n            })\n            textLayerRenderTask.promise.then(function() {\n                appendTextChild(textLayerFrag)\n            })\n        }\n    }\n\n    render() {\n\n        const divStyle = {\n            width: Math.floor(this.props.viewport.width),\n            height: Math.floor(this.props.viewport.height)\n        }\n\n        return (\n            <div \n                onMouseUp={this.props.onMouseUp}\n                onMouseDown={this.props.onMouseDown}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}\n                key={this.props.key} \n                className={styles.textLayer} \n                style={divStyle}\n                ref={(c) => this.textLayer = c}\n                onContextMenu={this.props.onContextMenu}>\n            </div>\n        )\n    }\n}\n\nmodule.exports = TextLayerBuilder;"]}